<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>查询退款 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        查询退款
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2023/02/07</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><div data-sign="9f0b03fb1ed6c198f2c892fbecdc3446" data-type="div" data-lines="2">提交退款申请后，通过调用该接口查询退款状态。<div class="colorful_tips colorful_tips_warning"><div class="colorful_tips_title"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSI4IiBmaWxsPSIjQjM2NzFEIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDNDNy40NDc3MiAzIDcgMy40NDc3MiA3IDRWOEM3IDguNTUyMjggNy40NDc3MiA5IDggOUM4LjU1MjI4IDkgOSA4LjU1MjI4IDkgOFY0QzkgMy40NDc3MiA4LjU1MjI4IDMgOCAzWk04IDExQzcuNDQ3NzIgMTEgNyAxMS40NDc3IDcgMTJDNyAxMi41NTIzIDcuNDQ3NzIgMTMgOCAxM0M4LjU1MjI4IDEzIDkgMTIuNTUyMyA5IDEyQzkgMTEuNDQ3NyA4LjU1MjI4IDExIDggMTFaIiBmaWxsPSJ3aGl0ZSIvPjwvc3ZnPg==">注意</div><div class="colorful_tips_cnt">● 退款有一定延时，用零钱支付的退款20分钟内到账，银行卡支付的退款3个工作日后重新查询退款状态。<br></div></div></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="319fbe924d7e9845c11c41a37b32d3bb" data-type="p" data-lines="2"><strong>请求方式：</strong>POST(HTTPS)<br><strong>请求地址：</strong>https://qyapi.weixin.qq.com/cgi-bin/miniapppay/get_refund_detail?access_token=ACCESS_TOKEN</p><p data-sign="382edfac6a8b56ec46332834f416136e" data-type="p" data-lines="2"><strong>请求包体：</strong></p><div data-sign="d8a2497848ad70dd1e390fd18bffb7dd" data-type="codeBlock" data-lines="7">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">  <span class="token string">"mchid"</span> <span class="token operator">:</span> <span class="token string">"xxx"</span><span class="token punctuation">,</span></span>
<span class="code-line">  <span class="token string">"out_refund_no"</span> <span class="token operator">:</span> <span class="token string">"xxx"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="50ca32efdebfd9d329643cab0afb4e51" data-lines="4">
        <table class="cherry-table"><thead><tr><th align="left">参数名</th><th>变量</th><th>类型[长度限制]</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td align="left">商户号</td><td>mchid</td><td>string[1,32]</td><td>是</td><td>企业微信分配的商户号。<br>示例值：1900000109</td></tr><tr><td align="left">商户退款单号</td><td>out_refund_no</td><td>string[1,64]</td><td>是</td><td>商户系统内部的退款单号，商户系统内部唯一，只能是数字、大小写字母_-|*@，同一退款单号多次请求只退一笔。<br>示例值：1217752501201407033233368018</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="8c8bd07f58486862a201112e85376126" data-type="p" data-lines="1"><strong>返回结果：</strong></p><div data-sign="4d89d1fa8dbfd3a162268b6952a0b318" data-type="codeBlock" data-lines="20">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"out_refund_no"</span><span class="token operator">:</span> <span class="token string">"1217752501201407033233368018"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"out_trade_no"</span><span class="token operator">:</span> <span class="token string">"1217752501201407033233368018"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"channel"</span><span class="token operator">:</span> <span class="token string">"ORIGINAL"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"user_received_account"</span><span class="token operator">:</span> <span class="token string">"招商银行信用卡0403"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"success_time"</span><span class="token operator">:</span> <span class="token string">"2018-06-08T10:34:56+08:00"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"create_time"</span><span class="token operator">:</span> <span class="token string">"2018-06-08T10:34:56+08:00"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"status"</span><span class="token operator">:</span> <span class="token string">"SUCCESS"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"amount"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"refund"</span><span class="token operator">:</span> <span class="token number">888</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"payer_refund"</span><span class="token operator">:</span> <span class="token number">888</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"discount_refund"</span><span class="token operator">:</span> <span class="token number">888</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"currency"</span><span class="token operator">:</span> <span class="token string">"CNY"</span></span>
<span class="code-line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"errcode"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"errmsg"</span><span class="token operator">:</span> <span class="token string">"ok"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="29b7d5a0eeb65718192918b7d40380db" data-lines="13">
        <table class="cherry-table"><thead><tr><th align="left">参数名</th><th>变量</th><th>类型[长度限制]</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td align="left">微信退款单号</td><td>refund_id</td><td>string[1,32]</td><td>是</td><td>微信支付退款订单号。<br>示例值：1217752501201407033233368018</td></tr><tr><td align="left">商户退款单号</td><td>out_refund_no</td><td>string[1,64]</td><td>是</td><td>商户系统内部的退款单号，商户系统内部唯一，同一退款单号多次请求只退一笔。<br>示例值：1217752501201407033233368018</td></tr><tr><td align="left">微信订单号</td><td>transaction_id</td><td>string[1,32]</td><td>是</td><td>微信支付交易订单号。<br>示例值： 1217752501201407033233368018</td></tr><tr><td align="left">商户订单号</td><td>out_trade_no</td><td>string[1,32]</td><td>是</td><td>返回的原交易订单号。<br>示例值： 1217752501201407033233368018</td></tr><tr><td align="left">退款渠道</td><td>channel</td><td>string[1,16]</td><td>否</td><td>ORIGINAL：原路退款<br>BALANCE：退回到余额<br>OTHER_BALANCE：原账户异常退到其他余额账户<br>OTHER_BANKCARD：原银行卡异常退到其他银行卡<br>示例值： ORIGINAL</td></tr><tr><td align="left">退款入账账户</td><td>user_received_account</td><td>string[1,64]</td><td>否</td><td>取当前退款单的退款入账方。<br>退回银行卡：{银行名称}{卡类型}{卡尾号}<br>退回支付用户零钱：支付用户零钱<br>退还商户：商户基本账户、商户结算银行账户<br>退回支付用户零钱通：支付用户零钱通<br>示例值： 招商银行信用卡0403</td></tr><tr><td align="left">退款成功时间</td><td>success_time</td><td>string[1,64]</td><td>否</td><td>退款成功时间，退款状态status为SUCCESS（退款成功）时，返回该字段。遵循<a href="https://datatracker.ietf.org/doc/html/rfc3339" rel="nofollow">rfc3339</a>标准格式，格式为yyyy-MM-DDTHH:mm:ss+TIMEZONE，yyyy-MM-DD表示年月日，T出现在字符串中，表示time元素的开头，HH:mm:ss表示时分秒，TIMEZONE表示时区（+08:00表示东八区时间，领先UTC 8小时，即北京时间）。例如：2015-05-20T13:29:35+08:00表示，北京时间2015年5月20日13点29分35秒。<br>示例值： 2018-06-08T10:34:56+08:00</td></tr><tr><td align="left">退款创建时间</td><td>create_time</td><td>string[1,64]</td><td>否</td><td>1、退款受理时间，遵循<a href="https://datatracker.ietf.org/doc/html/rfc3339" rel="nofollow">rfc3339</a>标准格式，格式为yyyy-MM-DDTHH:mm:ss+TIMEZONE，yyyy-MM-DD表示年月日，T出现在字符串中，表示time元素的开头，HH:mm:ss表示时分秒，TIMEZONE表示时区（+08:00表示东八区时间，领先UTC 8小时，即北京时间）。例如：2015-05-20T13:29:35+08:00表示，北京时间2015年5月20日13点29分35秒。<br>2、当退款状态为退款成功时返回此字段。<br>示例值：2018-06-08T10:34:56+08:00</td></tr><tr><td align="left">退款状态</td><td>status</td><td>string[1,16]</td><td>是</td><td>退款状态，枚举值：<br>SUCCESS：退款成功<br>CLOSE：退款关闭<br>PROCESSING：退款处理中<br>ABNORMAL：退款异常，退款到银行发现用户的卡作废或者冻结了，导致原路退款银行卡失败 <br>示例值：SUCCESS</td></tr><tr><td align="left">退款金额信息</td><td>amount</td><td>object</td><td>是</td><td>订单退款金额信息，详见Amount。</td></tr><tr><td align="left">营销详情</td><td>promotion_detail</td><td>array</td><td>否</td><td>优惠退款信息，discount_refund&gt;0时，返回该字段，详见 PromotionDetail</td></tr></tbody></table></div><p data-sign="ee5a416b2667a2258bb798a42c227f56" data-type="p" data-lines="4"><!--<br>|退款资金来源	|refund_account	|string[1, 32]	|否	|目前仅支持枚举值：REFUND_SOURCE_SUB_MERCHANT : 二级商户，默认值|<br>|资金账户|funds_account|string[1,32]|否|若订单处于待分账状态，可以传入此参数，指定退款资金来源账户。当该字段不存在时，默认使用订单交易资金所在账户出款，即待分账时使用不可用余额的资金进行退款，已分账或无分账时使用可用余额的资金进行退款。 AVAILABLE：可用余额|<br>--></p><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="610aac8a0aa685ef2a0263ac72025569" data-type="p" data-lines="1"><strong>Amount说明：</strong></p><div class="cherry-table-container" data-sign="e403669d701a5e862d467c79b994b4ce" data-lines="6">
        <table class="cherry-table"><thead><tr><th align="left">参数名</th><th>变量</th><th>类型[长度限制]</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td align="left">退款金额</td><td>refund</td><td>int</td><td>是</td><td>退款金额，币种的最小单位，只能为整数，不能超过原订单支付金额。<br>示例值：888</td></tr><tr><td align="left">用户退款金额</td><td>payer_refund</td><td>int</td><td>否</td><td>退款给用户的金额，不包含所有优惠券金额。<br>示例值：888</td></tr><tr><td align="left">优惠退款金额</td><td>discount_refund</td><td>int</td><td>否</td><td>优惠券的退款金额，原支付单的优惠按比例退款。<br>示例值：888</td></tr><tr><td align="left">退款币种</td><td>currency</td><td>string[1,18]</td><td>是</td><td>符合ISO 4217标准的三位字母代码，目前只支持人民币：CNY 。<br>示例值： CNY</td></tr></tbody></table></div><p data-sign="41dc91e5890ea80c2dc3c086018c4e6b" data-type="p" data-lines="1"><strong>PromotionDetail说明：</strong></p><div class="cherry-table-container" data-sign="fd0cc0ca92653aa3f7347fe21fb97149" data-lines="7">
        <table class="cherry-table"><thead><tr><th align="left">参数名</th><th>变量</th><th>类型[长度限制]</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td align="left">券ID</td><td>promotion_id</td><td>string[1,32]</td><td>否</td><td>券或者立减优惠id。</td></tr><tr><td align="left">优惠范围</td><td>scope</td><td>string[1,32]</td><td>否</td><td>枚举值：<br>GLOBAL：全场代金券<br>SINGLE：单品优惠</td></tr><tr><td align="left">优惠类型</td><td>type</td><td>string[1,32]</td><td>否</td><td>枚举值：<br>COUPON：充值型代金券，商户需要预先充值营销经费<br>DISCOUNT：免充值型优惠券，商户不需要预先充值营销经费</td></tr><tr><td align="left">优惠券面额</td><td>amount</td><td>int</td><td>否</td><td>用户享受优惠的金额（优惠券面额=微信出资金额+商家出资金额+其他出资方金额 ）。</td></tr><tr><td align="left">优惠退款金额</td><td>refund_amount</td><td>int</td><td>否</td><td>代金券退款金额&lt;=退款金额，退款金额-代金券或立减优惠退款金额为现金，说明详见《代金券或立减优惠》 。</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>