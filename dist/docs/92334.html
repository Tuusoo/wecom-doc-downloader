<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>批量创建家长 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        批量创建家长
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2024/08/22</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><p data-sign="4f2668127a6bb49a122d4e7e430e0232" data-type="p" data-lines="2"><strong>请求方式：</strong>POST（<strong>HTTPS</strong>）<br><strong>请求地址：</strong>https://qyapi.weixin.qq.com/cgi-bin/school/user/batch_create_parent?access_token=ACCESS_TOKEN</p><p data-sign="382edfac6a8b56ec46332834f416136e" data-type="p" data-lines="2"><strong>请求包体：</strong></p><div data-sign="536d8359d4a2a6fd11c9a32c2286cf08" data-type="codeBlock" data-lines="36">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token property">"parents"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token property">"parent_userid"</span><span class="token operator">:</span> <span class="token string">"zhangsan_parent_userid"</span><span class="token punctuation">,</span></span>
<span class="code-line">    		<span class="token property">"mobile"</span><span class="token operator">:</span> <span class="token string">"18000000000"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"to_invite"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"children"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">				<span class="token punctuation">{</span></span>
<span class="code-line">					<span class="token property">"student_userid"</span><span class="token operator">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span></span>
<span class="code-line">    		        <span class="token property">"relation"</span><span class="token operator">:</span> <span class="token string">"爸爸"</span></span>
<span class="code-line">    		    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">    		    <span class="token punctuation">{</span></span>
<span class="code-line">					<span class="token property">"student_userid"</span><span class="token operator">:</span> <span class="token string">"lisi"</span><span class="token punctuation">,</span></span>
<span class="code-line">    		        <span class="token property">"relation"</span><span class="token operator">:</span> <span class="token string">"伯父"</span></span>
<span class="code-line">    		    <span class="token punctuation">}</span></span>
<span class="code-line">    		<span class="token punctuation">]</span></span>
<span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token property">"parent_userid"</span><span class="token operator">:</span> <span class="token string">"lisi_parent_userid"</span><span class="token punctuation">,</span></span>
<span class="code-line">    		<span class="token property">"mobile"</span><span class="token operator">:</span> <span class="token string">"18000000001"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"children"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">				<span class="token punctuation">{</span></span>
<span class="code-line">					<span class="token property">"student_userid"</span><span class="token operator">:</span> <span class="token string">"lisi"</span><span class="token punctuation">,</span></span>
<span class="code-line">    		        <span class="token property">"relation"</span><span class="token operator">:</span> <span class="token string">"爸爸"</span></span>
<span class="code-line">    		    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">    		    <span class="token punctuation">{</span></span>
<span class="code-line">					<span class="token property">"student_userid"</span><span class="token operator">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span></span>
<span class="code-line">    		        <span class="token property">"relation"</span><span class="token operator">:</span> <span class="token string">"伯父"</span></span>
<span class="code-line">    		    <span class="token punctuation">}</span></span>
<span class="code-line">    		<span class="token punctuation">]</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">	<span class="token punctuation">]</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="36a1a5718d8e5a1f849d5be2d5cddacc" data-lines="10">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">必须</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">access_token</td><td align="left">是</td><td align="left">调用接口凭证。获取方法查看“<a href="#10013/%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E8%8E%B7%E5%8F%96access_token" rel="nofollow">获取access_token</a>”</td></tr><tr><td align="left">parents</td><td align="left">是</td><td align="left">家长列表，每次最多100个</td></tr><tr><td align="left">parents.parent_userid</td><td align="left">是</td><td align="left">家长UserID。学校内必须唯一。不区分大小写，长度为1~64个字节。只能由数字、字母和“_-@.”四种字符组成，且第一个字符必须是数字或字母。</td></tr><tr><td align="left">parents.mobile</td><td align="left">是</td><td align="left">家长手机号</td></tr><tr><td align="left">parents.to_invite</td><td align="left">否</td><td align="left">是否发起邀请，默认为true</td></tr><tr><td align="left">parents.children</td><td align="left">是</td><td align="left">家长的孩子列表，最多10个</td></tr><tr><td align="left">parents.children.student_userid</td><td align="left">是</td><td align="left">学生的UserID</td></tr><tr><td align="left">parents.children.relation</td><td align="left">是</td><td align="left">家长与学生的关系，最长32字节</td></tr></tbody></table></div><blockquote data-sign="5f380ac5b12df811dea8eb56cdacf99f_2" data-lines="2">当参数字段超过长度限制，那么整个请求会被拦掉。</blockquote><p data-sign="be69a8d80807fc12104a6f71258f88a9" data-type="p" data-lines="2"><strong>权限说明：</strong></p><p data-sign="576e7d7add07332f6ac042d5f9bfafb8" data-type="p" data-lines="1">调用的应用需要满足如下的权限</p><div data-sign="03bbb9c9bc80012ad9808dd02535f726" data-lines="5" class="cherry-table-container">
        <table class="cherry-table"><thead><tr><th>应用类型</th><th>权限要求</th></tr></thead><tbody><tr><td>自建应用</td><td>配置到「 <a href="#16678/%E9%80%9A%E8%BF%87api%E8%AF%BB%E5%8F%96%E5%92%8C%E7%BC%96%E8%BE%91%E5%AE%B6%E6%A0%A1%E9%80%9A%E8%AE%AF%E5%BD%95" rel="nofollow">家校沟通-读取和编辑家校通讯录的应用</a>」中</td></tr><tr><td>代开发应用</td><td>需拥有<span style="color: rgb(255, 0, 0);">「家校沟通」可使用家校通讯录-家校通讯录编辑 </span>权限</td></tr><tr><td>第三方应用</td><td>需拥有<span style="color: rgb(255, 0, 0);">「家校沟通」使用和编辑 </span>权限</td></tr></tbody></table></div><p data-sign="4500ae644890b2a3e6568b5481167358" data-type="p" data-lines="1"><em>注：</em> 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 <a href="https://developer.work.weixin.qq.com/document/51165" rel="nofollow">查看详情</a></p><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="8c8bd07f58486862a201112e85376126" data-type="p" data-lines="1"><strong>返回结果：</strong></p><div data-sign="76ba01dcb636d9fb52c70a0fb7b0d15c" data-type="codeBlock" data-lines="14">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"errcode"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"errmsg"</span><span class="token operator">:</span> <span class="token string">"invalid parent_userid: lisi_parent_userid"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"result_list"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"parent_userid"</span><span class="token operator">:</span> <span class="token string">"lisi_parent_userid"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"errcode"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"errmsg"</span><span class="token operator">:</span> <span class="token string">"invalid parent_userid: lisi_parent_userid"</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">	<span class="token punctuation">]</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="d14d19f6ef3d7152bf5bb436be94ddfe" data-lines="8">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>errcode</td><td>返回码</td></tr><tr><td>errmsg</td><td>对返回码的文本描述内容</td></tr><tr><td>result_list</td><td>失败列表</td></tr><tr><td>result_list.parent_userid</td><td>失败的家长userid</td></tr><tr><td>result_list.errcode</td><td>返回码</td></tr><tr><td>result_list.errmsg</td><td>对返回码的文本描述内容</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>