<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>申请退款 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        申请退款
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2023/03/09</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><p data-sign="1bca4534836eaa6eef331a1575f618e9" data-type="p" data-lines="1">当交易发生之后一段时间内，由于买家或者卖家的原因需要退款时，卖家可以通过退款接口将支付款退还给买家，企业微信将在收到退款请求并且验证成功之后，按照退款规则将支付款按原路退到买家账户上。</p><blockquote data-sign="4bc1ecf40b809d78264ea237e43f7bfb_5" data-lines="5">1. 交易时间超过一年的订单无法提交退款。<br>2. 企业微信退款支持单笔交易分多次退款，多次退款需要提交原支付订单的商户订单号和设置不同的退款单号。申请退款总金额不能超过订单金额。 一笔退款失败后重新提交，请不要更换退款单号，请使用原商户退款单号。<br>3. 请求频率限制：150qps，即每秒钟正常的申请退款请求次数不超过150次，单笔订单请求频率限制：1qpm，即单笔订单每分钟申请退款请求次数不超过1次。<br>4. 每个支付订单的部分退款次数不能超过50次。<br>5. 申请退款接口的返回仅代表业务的受理情况，具体退款是否成功，需要通过退款查询接口获取结果。</blockquote><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="6ade1d9730e83940d9f907bee59bb49e" data-type="p" data-lines="2"><strong>请求方式：</strong> POST(HTTPS)<br><strong>请求地址：</strong>https://qyapi.weixin.qq.com/cgi-bin/miniapppay/refund?access_token=ACCESS_TOKEN</p><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="382edfac6a8b56ec46332834f416136e" data-type="p" data-lines="1"><strong>请求包体：</strong></p><div data-sign="64c2fbf633aa68647e80b1be506320a2" data-type="codeBlock" data-lines="16">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"mchid"</span><span class="token operator">:</span> <span class="token string">"1900000109"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"appid"</span><span class="token operator">:</span> <span class="token string">"wx8888888888888888"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"out_trade_no"</span><span class="token operator">:</span> <span class="token string">"1217752501201407033233368018"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"out_refund_no"</span><span class="token operator">:</span> <span class="token string">"1217752501201407033233368018"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"reason"</span><span class="token operator">:</span> <span class="token string">"商品已售完"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"funds_account"</span><span class="token operator">:</span><span class="token string">"AVAILABLE"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"amount"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"refund"</span><span class="token operator">:</span> <span class="token number">888</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"total"</span><span class="token operator">:</span> <span class="token number">888</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"currency"</span><span class="token operator">:</span> <span class="token string">"CNY"</span></span>
<span class="code-line">	<span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="d2208876e7764adfd04c1cd79c5cb597" data-lines="9">
        <table class="cherry-table"><thead><tr><th align="left">参数名</th><th>变量</th><th>类型[长度限制]</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td align="left">商户号</td><td>mchid</td><td>string[1,32]</td><td>是</td><td>企业微信分配商户号。<br>示例值： 1900000109</td></tr><tr><td align="left">商户APPID</td><td>appid</td><td>string[1,32]</td><td>是</td><td>小程序appid。<br>示例值：wx8888888888888888</td></tr><tr><td align="left">商户订单号</td><td>out_trade_no</td><td>string[6,32]</td><td>是</td><td>原支付交易对应的商户订单号。<br>示例值：1217752501201407033233368018</td></tr><tr><td align="left">商户退款单号</td><td>out_refund_no</td><td>string[1,64]</td><td>是</td><td>商户系统内部的退款单号，商户系统内部唯一，只能是数字、大小写字母_-|*@，同一退款单号多次请求只退一笔。<br>示例值：1217752501201407033233368018</td></tr><tr><td align="left">退款原因</td><td>reason</td><td>string[1,80]</td><td>否</td><td>若商户传入，会在下发给用户的退款消息中体现退款原因。<br>注意：若订单退款金额≤1元，且属于部分退款，则不会在退款消息中体现退款原因<br>示例值：商品已售完</td></tr><tr><td align="left">订单金额</td><td>amount</td><td>object</td><td>是</td><td>订单金额信息，详见Amount。</td></tr><tr><td align="left">资金账户</td><td>funds_account</td><td>string[1,32]</td><td>否</td><td>若订单处于待分账状态，填写该字段后，退款时直接从二级商户余额中退款。 AVAILABLE：可用余额</td></tr></tbody></table></div><p data-sign="c9ff4ff64ecfbccac529e0bc94db3983" data-type="p" data-lines="3"><!--<br>|退款出资账户 |refund_account |string[1,32] |否 |目前仅支持REFUND_SOURCE_SUB_MERCHANT，默认值也是这个 |<br>--></p><p data-sign="br3" data-type="br" data-lines="3">&nbsp;</p><p data-sign="610aac8a0aa685ef2a0263ac72025569" data-type="p" data-lines="1"><strong>Amount说明：</strong></p><div class="cherry-table-container" data-sign="061e53598a3083fed3a3a1414a9fd4f1" data-lines="5">
        <table class="cherry-table"><thead><tr><th align="left">参数名</th><th>变量</th><th>类型[长度限制]</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td align="left">退款金额</td><td>refund</td><td>int</td><td>是</td><td>退款金额，币种的最小单位，只能为整数，不能超过原订单支付金额。<br>示例值：888</td></tr><tr><td align="left">原订单金额</td><td>total</td><td>int</td><td>是</td><td>原支付交易的订单总金额，币种的最小单位，只能为整数。<br>示例值：888</td></tr><tr><td align="left">退款币种</td><td>currency</td><td>string[1,18]</td><td>是</td><td>符合ISO 4217标准的三位字母代码，目前只支持人民币：CNY。<br>示例值：CNY</td></tr></tbody></table></div><p data-sign="8c8bd07f58486862a201112e85376126" data-type="p" data-lines="2"><strong>返回结果：</strong></p><div data-sign="db224f1e915dd3af4c4afe07ccd315a9" data-type="codeBlock" data-lines="12">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"out_refund_no"</span><span class="token operator">:</span> <span class="token string">"1217752501201407033233368018"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"amount"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"refund"</span><span class="token operator">:</span> <span class="token number">888</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"currency"</span><span class="token operator">:</span> <span class="token string">"CNY"</span></span>
<span class="code-line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"errcode"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"errmsg"</span><span class="token operator">:</span> <span class="token string">"ok"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="76068fd2e5542d19d72c1b68340ba52e" data-lines="5">
        <table class="cherry-table"><thead><tr><th align="left">参数名</th><th>变量</th><th>类型[长度限制]</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td align="left">商户退款单号</td><td>out_refund_no</td><td>string[1,64]</td><td>否</td><td>商户系统内部的退款单号，商户系统内部唯一，同一退款单号多次请求只退一笔。<br>示例值：1217752501201407033233368018</td></tr><tr><td align="left">订单金额</td><td>amount</td><td>object</td><td>否</td><td>订单金额信息，详见Amount。</td></tr><tr><td align="left">优惠退款详情</td><td>promotion_detail</td><td>array</td><td>否</td><td>优惠退款功能信息，discount_refund&gt;0时，返回该字段，详见 PromotionDetail</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="610aac8a0aa685ef2a0263ac72025569" data-type="p" data-lines="1"><strong>Amount说明：</strong></p><div class="cherry-table-container" data-sign="50cc4b96a92415bfd303a293c5759856" data-lines="6">
        <table class="cherry-table"><thead><tr><th align="left">参数名</th><th>变量</th><th>类型[长度限制]</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td align="left">退款金额</td><td>refund</td><td>int</td><td>是</td><td>退款金额，币种的最小单位，只能为整数，不能超过原订单支付金额。<br>示例值：888</td></tr><tr><td align="left">用户退款金额</td><td>payer_refund</td><td>int</td><td>是</td><td>退给用户的金额，不包含所有优惠券金额</td></tr><tr><td align="left">优惠退款金额</td><td>discount_refund</td><td>int</td><td>是</td><td>优惠券的退款金额，原支付单的优惠按比例退款。 <br>示例值：888</td></tr><tr><td align="left">退款币种</td><td>currency</td><td>string[1,18]</td><td>否</td><td>符合ISO 4217标准的三位字母代码，目前只支持人民币：CNY 。<br>示例值：CNY</td></tr></tbody></table></div><p data-sign="41dc91e5890ea80c2dc3c086018c4e6b" data-type="p" data-lines="1"><strong>PromotionDetail说明：</strong></p><div class="cherry-table-container" data-sign="fd0cc0ca92653aa3f7347fe21fb97149" data-lines="7">
        <table class="cherry-table"><thead><tr><th align="left">参数名</th><th>变量</th><th>类型[长度限制]</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td align="left">券ID</td><td>promotion_id</td><td>string[1,32]</td><td>否</td><td>券或者立减优惠id。</td></tr><tr><td align="left">优惠范围</td><td>scope</td><td>string[1,32]</td><td>否</td><td>枚举值：<br>GLOBAL：全场代金券<br>SINGLE：单品优惠</td></tr><tr><td align="left">优惠类型</td><td>type</td><td>string[1,32]</td><td>否</td><td>枚举值：<br>COUPON：充值型代金券，商户需要预先充值营销经费<br>DISCOUNT：免充值型优惠券，商户不需要预先充值营销经费</td></tr><tr><td align="left">优惠券面额</td><td>amount</td><td>int</td><td>否</td><td>用户享受优惠的金额（优惠券面额=微信出资金额+商家出资金额+其他出资方金额 ）。</td></tr><tr><td align="left">优惠退款金额</td><td>refund_amount</td><td>int</td><td>否</td><td>代金券退款金额&lt;=退款金额，退款金额-代金券或立减优惠退款金额为现金，说明详见《代金券或立减优惠》 。</td></tr></tbody></table></div><p data-sign="br3" data-type="br" data-lines="3">&nbsp;</p></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>