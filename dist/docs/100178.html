<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>获取成员操作记录 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        获取成员操作记录
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2025/07/10</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><dir class="toc" data-sign="440fa94ed16b3ceda6bc3638f5095441-1" data-lines="1"><p class="toc-title">目录</p><li class="toc-li"><a href="#%E6%A6%82%E8%BF%B0" class="level-2">概述</a></li><li class="toc-li"><a href="#%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E8%AF%B4%E6%98%8E" class="level-2">接口调用说明</a></li></dir><h2 id="%E6%A6%82%E8%BF%B0" data-sign="9a8437ccee43ad66c084b8dfd3d259d3" data-lines="2"><a class="anchor" href="#%E6%A6%82%E8%BF%B0"></a>概述</h2><p data-sign="bbd9163c3a9bd7d8da95e63b1bbf3819" data-type="p" data-lines="2">成员操作记录，可以在管理端“使用分析”中查看。为了方便企业对接内部系统，设定相应规则以进行定时的安全预警，允许通过接口读取成员操作记录。</p><p data-sign="28352fb429ffd6639da9f324264ddb65" data-type="p" data-lines="2"><img src="images/100178/a0a79d4d.png" alt="enter image description here"></p><p data-sign="87f37537ffa9a080f10d60da8a58a71d" data-type="p" data-lines="3">若要调此接口，需要在上图中“API”栏，配置到“可调用接口应用”列表。<br>因为成员操作记录数据量较大，该接口设计为增量读取接口，且有较严格的频率限制。开发者需酌情定时调用，读取合适的时间段的记录。</p><h2 id="%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E8%AF%B4%E6%98%8E" data-sign="8d8a14c3a979404d7740526dfb74c737" data-lines="2"><a class="anchor" href="#%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E8%AF%B4%E6%98%8E"></a>接口调用说明</h2><p data-sign="5904ab8afad80793b055e70c9e9576f9" data-type="p" data-lines="1"><strong>请求方式</strong>:POST(<strong>HTTPS</strong>)</p><p data-sign="e9c6ca23fea3bb0aa2fbfd7b423cd1a0" data-type="p" data-lines="2"><strong>请求地址:</strong> https://qyapi.weixin.qq.com/cgi-bin/security/member_oper_log/list?access_token=ACCESS_TOKEN</p><p data-sign="f81de324daf9f94e0f5f5d362044cb86" data-type="p" data-lines="2"><strong>请求示例</strong></p><div data-sign="aa0ed396fdb4110b76654db1b1aa39b4" data-type="codeBlock" data-lines="11">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token property">"start_time"</span><span class="token operator">:</span> <span class="token number">1724256000</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"end_time"</span><span class="token operator">:</span> <span class="token number">1724860799</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"oper_type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"userid"</span><span class="token operator">:</span> <span class="token string">"sam"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"cursor"</span><span class="token operator">:</span> <span class="token string">"xxxxx"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"limit"</span><span class="token operator">:</span> <span class="token number">2</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="477ca5ff513692ef9eaf7d3779cd22ac" data-type="p" data-lines="2"><strong>参数说明</strong>:</p><div class="cherry-table-container" data-sign="de3c3ef43df4d874b6aa869dcb4f3cf3" data-lines="9">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">必须</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">access_token</td><td align="left">是</td><td align="left">string</td><td align="left">调用接口凭证</td></tr><tr><td align="left">start_time</td><td align="left">是</td><td align="left">uint64</td><td align="left">开始时间<br>取值范围：不早于180天前</td></tr><tr><td align="left">end_time</td><td align="left">是</td><td align="left">uint64</td><td align="left">结束时间<br>取值范围：大于start_time，小于当前时间。开始时间和结束时间之间的跨度不能超过7天。</td></tr><tr><td align="left">oper_type</td><td align="left">否</td><td align="left">uint32</td><td align="left">操作类型。不填表示全部<br>取值范围目前支持如下：<br>&nbsp;&nbsp;&nbsp;&nbsp;1 - 添加外部联系人<br>&nbsp;&nbsp;&nbsp;&nbsp;2 - 删除外部联系人<br>&nbsp;&nbsp;&nbsp;&nbsp;3 - 标记企业客户<br>&nbsp;&nbsp;&nbsp;&nbsp;4 - 新设备登录<br>&nbsp;&nbsp;&nbsp;&nbsp;5 - 更换手机号<br>&nbsp;&nbsp;&nbsp;&nbsp;6 - 绑定微信号<br>&nbsp;&nbsp;&nbsp;&nbsp;7 - 换绑微信号<br>&nbsp;&nbsp;&nbsp;&nbsp;8 - 邀请成员<br>&nbsp;&nbsp;&nbsp;&nbsp;9 - 封禁登录<br>&nbsp;&nbsp;&nbsp;&nbsp;11 - 修改昵称<br>&nbsp;&nbsp;&nbsp;&nbsp;12 - 修改姓名<br>&nbsp;&nbsp;&nbsp;&nbsp;13 - 副设备登录<br>&nbsp;&nbsp;&nbsp;&nbsp;15 - 确认高级功能订单<br>&nbsp;&nbsp;&nbsp;&nbsp;16 - 应用变更<br>&nbsp;&nbsp;&nbsp;&nbsp;17 - 确认会话内容存档订单<br>&nbsp;&nbsp;&nbsp;&nbsp;20 - 封禁互通<br>&nbsp;&nbsp;&nbsp;&nbsp;21 - 锁定设备</td></tr><tr><td align="left">userid</td><td align="left">否</td><td align="left">string</td><td align="left">操作者userid过滤，需要在应用可见范围内。可不填</td></tr><tr><td align="left">cursor</td><td align="left">否</td><td align="left">string</td><td align="left">分页游标。不填表示首页</td></tr><tr><td align="left">limit</td><td align="left">否</td><td align="left">uint32</td><td align="left">最大记录数。不填默认最多获取400个记录<br>取值范围：1 ~ 400<br><code>注意：不保证每次返回的数据刚好为指定limit</code>，必须用返回的 <code>has_more</code> 判断是否继续请求</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><blockquote data-sign="da0c657a9d24b9b03c71431b996fd0af_1" data-lines="1">接口调用频率限制为600次/分钟。</blockquote><p data-sign="ad0c96e729c37445671694bc154c08d2" data-type="p" data-lines="2"><strong>权限说明</strong>: （需具有「获取成员操作记录」权限；操作人在应用可见范围内的记录才能拿到）</p><p data-sign="bcdc322d144bc83f93060c5ca4957e2f" data-type="p" data-lines="2"><strong>返回结果</strong>:</p><div data-sign="636c43e8af2177f377d6d9f507b241d4" data-type="codeBlock" data-lines="25">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token property">"errcode"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token property">"errmsg"</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token property">"has_more"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token property">"next_cursor"</span><span class="token operator">:</span> <span class="token string">"xxxxxx"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token property">"record_list"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">	    <span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token property">"time"</span><span class="token operator">:</span> <span class="token number">1724256000</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"userid"</span><span class="token operator">:</span> <span class="token string">"sam"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"oper_type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"detail_info"</span><span class="token operator">:</span> <span class="token string">"姓名：shel；手机号：15622244106"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"ip"</span><span class="token operator">:</span> <span class="token string">"183.40.88.*"</span></span>
<span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token property">"time"</span><span class="token operator">:</span> <span class="token number">1724256400</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"userid"</span><span class="token operator">:</span> <span class="token string">"sam"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"oper_type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"detail_info"</span><span class="token operator">:</span> <span class="token string">"姓名：abel；手机号：15622244108"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"ip"</span><span class="token operator">:</span> <span class="token string">"61.40.122.*"</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">	<span class="token punctuation">]</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="477ca5ff513692ef9eaf7d3779cd22ac" data-type="p" data-lines="2"><strong>参数说明</strong>:</p><div class="cherry-table-container" data-sign="4b66a337352c305c867122610952cbdd" data-lines="12">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">errcode</td><td align="left">int32</td><td align="left">返回码</td></tr><tr><td align="left">errmsg</td><td align="left">string</td><td align="left">错误码描述</td></tr><tr><td align="left">has_more</td><td align="left">bool</td><td align="left">是否还有下一页</td></tr><tr><td align="left">next_cursor</td><td align="left">string</td><td align="left">下一页的分页游标。注意，不同过滤条件的游标不能混用</td></tr><tr><td align="left">record_list</td><td align="left">obj[]</td><td align="left">记录列表</td></tr><tr><td align="left">record_list.time</td><td align="left">int64</td><td align="left">操作时间</td></tr><tr><td align="left">record_list.userid</td><td align="left">uint64</td><td align="left">操作者userid</td></tr><tr><td align="left">record_list.oper_type</td><td align="left">uint32</td><td align="left">操作类型</td></tr><tr><td align="left">record_list.detail_info</td><td align="left">string</td><td align="left">相关数据</td></tr><tr><td align="left">record_list.ip</td><td align="left">string</td><td align="left">操作者ip</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>