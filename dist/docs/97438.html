<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>更新审批模板 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        更新审批模板
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2024/09/18</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><dir class="toc" data-sign="9497ada5f3f8f08b388472baa583be2d-1" data-lines="1"><p class="toc-title">目录</p><li class="toc-li"><a href="#%E9%94%99%E8%AF%AF%E8%AF%B4%E6%98%8E" class="level-3"><strong>错误说明</strong></a></li></dir><p data-sign="4c141013c82a4171da68897281d31500" data-type="p" data-lines="2">可调用本接口更新审批模板。更新模板后，管理后台及审批应用内将更新原模板的内容，已配置的审批流程和规则不变。</p><p data-sign="898bac93c0a6ab9323db86abd8d7d8a9" data-type="p" data-lines="3"><strong>请求方式：</strong>POST（<strong>HTTPS</strong>）<br><strong>请求地址：</strong>  https://qyapi.weixin.qq.com/cgi-bin/oa/approval/update_template?access_token=ACCESS_TOKEN</p><p data-sign="0eaf88df03cd3784619d00af1ca68a35" data-type="p" data-lines="2"><strong>请求示例：</strong></p><div data-sign="4722a679c5c109cf6dfc02139852fa9d" data-type="codeBlock" data-lines="69">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token property">"template_id"</span><span class="token operator">:</span> <span class="token string">"TEMPLATE_ID"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"template_name"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"我的api测试模版"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token property">"lang"</span><span class="token operator">:</span> <span class="token string">"zh_CN"</span></span>
<span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token property">"template_content"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token property">"controls"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="code-line">            <span class="token property">"property"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">                <span class="token property">"control"</span><span class="token operator">:</span> <span class="token string">"Selector"</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"Selector-01"</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"title"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="code-line">                    <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"多选控件名称"</span><span class="token punctuation">,</span></span>
<span class="code-line">                    <span class="token property">"lang"</span><span class="token operator">:</span> <span class="token string">"zh_CN"</span></span>
<span class="code-line">                <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"placeholder"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="code-line">                    <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"多选控件说明"</span><span class="token punctuation">,</span></span>
<span class="code-line">                    <span class="token property">"lang"</span><span class="token operator">:</span> <span class="token string">"zh_CN"</span></span>
<span class="code-line">                <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"require"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"un_print"</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="code-line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"config"</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="code-line">                <span class="token property">"selector"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">                <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"multi"</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"options"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">                    <span class="token punctuation">{</span></span>
<span class="code-line">                        <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"option-1"</span><span class="token punctuation">,</span> </span>
<span class="code-line">                        <span class="token property">"value"</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="code-line">                            <span class="token property">"text"</span><span class="token operator">:</span><span class="token string">"选项1"</span><span class="token punctuation">,</span></span>
<span class="code-line">                            <span class="token property">"lang"</span><span class="token operator">:</span><span class="token string">"zh_CN"</span></span>
<span class="code-line">                        <span class="token punctuation">}</span></span>
<span class="code-line">                    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">                    <span class="token punctuation">{</span></span>
<span class="code-line">                        <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"option-2"</span><span class="token punctuation">,</span></span>
<span class="code-line">                        <span class="token property">"value"</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="code-line">                            <span class="token property">"text"</span><span class="token operator">:</span><span class="token string">"选项2"</span><span class="token punctuation">,</span></span>
<span class="code-line">                            <span class="token property">"lang"</span><span class="token operator">:</span><span class="token string">"zh_CN"</span></span>
<span class="code-line">                        <span class="token punctuation">}</span></span>
<span class="code-line">                    <span class="token punctuation">}</span></span>
<span class="code-line">                <span class="token punctuation">]</span></span>
<span class="code-line">                <span class="token punctuation">}</span></span>
<span class="code-line">            <span class="token punctuation">}</span></span>
<span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token punctuation">{</span></span>
<span class="code-line">            <span class="token property">"property"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">                <span class="token property">"control"</span><span class="token operator">:</span> <span class="token string">"Text"</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"Text-01"</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"title"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="code-line">                    <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"文本控件名称"</span><span class="token punctuation">,</span></span>
<span class="code-line">                    <span class="token property">"lang"</span><span class="token operator">:</span> <span class="token string">"zh_CN"</span></span>
<span class="code-line">                <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"placeholder"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="code-line">                    <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"文本控件说明"</span><span class="token punctuation">,</span></span>
<span class="code-line">                    <span class="token property">"lang"</span><span class="token operator">:</span> <span class="token string">"zh_CN"</span></span>
<span class="code-line">                <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"require"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token property">"un_print"</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="code-line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"config"</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="code-line">                </span>
<span class="code-line">            <span class="token punctuation">}</span></span>
<span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">]</span></span>
<span class="code-line">    <span class="token punctuation">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="d3536f9509fb046d60f1ac51429c7e04" data-lines="8">
        <table class="cherry-table"><thead><tr><th>参数</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>access_token</td><td>是</td><td>调用接口凭证。必须使用审批应用或企业内自建应用的secret获取，获取方式参考：<a href="https://work.weixin.qq.com/api/doc#90000/90135/91039" rel="nofollow" title="文档">文档-获取access_token</a></td></tr><tr><td>template_id</td><td>是</td><td>模版id</td></tr><tr><td>template_name</td><td>是</td><td>模版名称数组</td></tr><tr><td>└ text</td><td>是</td><td>模版名称。需满足以下条件：1-模版名称不得和现有模版名称重复；2-长度不得超过40个字符。</td></tr><tr><td>└ lang</td><td>是</td><td>显示语言，中文：zh_CN（注意不是zh-CN）</td></tr><tr><td>template_content</td><td>是</td><td>审批模版控件设置，可以参考<a href="#43910" rel="nofollow">创建审批模板</a>一节 template_content 参数说明</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><blockquote data-sign="f6d09502e1b8155419f4a05cb4a4599b_2" data-lines="2"><strong>注意</strong>：<br>1. 当模板的控件为必填属性时，表单中对应的控件必须有值。<br>2. 一个模版中只能拥有一类假勤控件类型，Vacation-假期；Attendance-外出/出差/加班 均为假勤控件类型。</blockquote><p data-sign="fd1c44250d466f3563712de3fc0f1925" data-type="p" data-lines="1"><strong>权限说明</strong></p><div class="cherry-table-container" data-sign="8147e4184e832a368f135b90720be900" data-lines="5">
        <table class="cherry-table"><thead><tr><th>应用类型</th><th>权限要求</th></tr></thead><tbody><tr><td>自建应用</td><td>配置到「<a href="#17893/%E9%85%8D%E7%BD%AE%E5%8F%AF%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%BA%94%E7%94%A8" rel="nofollow">审批 - 可调用接口的应用</a>」中</td></tr><tr><td>代开发应用</td><td>具有「审批」权限</td></tr><tr><td>第三方应用</td><td>暂不支持</td></tr></tbody></table></div><ul data-sign="154ce758bffac59d9a1552a3e2764efflist1" data-lines="1" class="cherry-list__default"><li>仅能更新自身应用模板</li></ul><p data-sign="4500ae644890b2a3e6568b5481167358" data-type="p" data-lines="1"><em>注：</em> 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 <a href="https://developer.work.weixin.qq.com/document/51165" rel="nofollow">查看详情</a></p><hr data-sign="hr2" data-lines="2"><p data-sign="8c8bd07f58486862a201112e85376126" data-type="p" data-lines="1"><strong>返回结果：</strong></p><div data-sign="db5803c5baaca6dbbf8e0acb8b0b1825" data-type="codeBlock" data-lines="6">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token property">"errcode"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"errmsg"</span><span class="token operator">:</span><span class="token string">"ok"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="ca46aec8750dd17ed0808a23dcd176bb" data-lines="4">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>errcode</td><td>错误码，详情见错误码说明</td></tr><tr><td>errmsg</td><td>错误码对应的错误信息提示</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h3 id="%E9%94%99%E8%AF%AF%E8%AF%B4%E6%98%8E" data-sign="e54fe2a65aabe534779c817b2cf6d354" data-lines="1"><a class="anchor" href="#%E9%94%99%E8%AF%AF%E8%AF%B4%E6%98%8E"></a><strong>错误说明</strong></h3><div data-sign="c76ca112facd31d1014c52e8b25a5a60" data-lines="8" class="cherry-table-container">
        <table class="cherry-table"><thead><tr><th>错误码</th><th>说明</th></tr></thead><tbody><tr><td>301088</td><td>无审批应用权限</td></tr><tr><td>301086</td><td>审批控件参数错误</td></tr><tr><td>301087</td><td>企业模版数超过上限</td></tr><tr><td>301115</td><td>模板已配置自定义打印格式，不支持API修改模板</td></tr><tr><td>620004</td><td>服务器内部错误</td></tr><tr><td>-1</td><td>未知错误</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>