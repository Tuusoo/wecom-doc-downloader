<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>事件格式 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        事件格式
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2024/06/03</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><dir class="toc" data-sign="2bb26bca572446ad91d5786c556d755a-1" data-lines="1"><p class="toc-title">目录</p><li class="toc-li"><a href="#%E6%B7%BB%E5%8A%A0%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E4%BA%8B%E4%BB%B6" class="level-2">添加企业客户事件</a></li><li class="toc-li"><a href="#%E7%BC%96%E8%BE%91%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E4%BA%8B%E4%BB%B6" class="level-2">编辑企业客户事件</a></li><li class="toc-li"><a href="#%E5%A4%96%E9%83%A8%E8%81%94%E7%B3%BB%E4%BA%BA%E5%85%8D%E9%AA%8C%E8%AF%81%E6%B7%BB%E5%8A%A0%E6%88%90%E5%91%98%E4%BA%8B%E4%BB%B6" class="level-2">外部联系人免验证添加成员事件</a></li><li class="toc-li"><a href="#%E5%88%A0%E9%99%A4%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E4%BA%8B%E4%BB%B6" class="level-2">删除企业客户事件</a></li><li class="toc-li"><a href="#%E5%88%A0%E9%99%A4%E8%B7%9F%E8%BF%9B%E6%88%90%E5%91%98%E4%BA%8B%E4%BB%B6" class="level-2">删除跟进成员事件</a></li><li class="toc-li"><a href="#%E5%AE%A2%E6%88%B7%E6%8E%A5%E6%9B%BF%E5%A4%B1%E8%B4%A5%E4%BA%8B%E4%BB%B6" class="level-2">客户接替失败事件</a></li><li class="toc-li"><a href="#%E5%AE%A2%E6%88%B7%E7%BE%A4%E5%88%9B%E5%BB%BA%E4%BA%8B%E4%BB%B6" class="level-2">客户群创建事件</a></li><li class="toc-li"><a href="#%E5%AE%A2%E6%88%B7%E7%BE%A4%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" class="level-2">客户群变更事件</a></li><li class="toc-li"><a href="#%E5%AE%A2%E6%88%B7%E7%BE%A4%E8%A7%A3%E6%95%A3%E4%BA%8B%E4%BB%B6" class="level-2">客户群解散事件</a></li><li class="toc-li"><a href="#%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%88%9B%E5%BB%BA%E4%BA%8B%E4%BB%B6" class="level-2">企业客户标签创建事件</a></li><li class="toc-li"><a href="#%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" class="level-2">企业客户标签变更事件</a></li><li class="toc-li"><a href="#%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6" class="level-2">企业客户标签删除事件</a></li><li class="toc-li"><a href="#%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E9%87%8D%E6%8E%92%E4%BA%8B%E4%BB%B6" class="level-2">企业客户标签重排事件</a></li></dir><p data-sign="739e60626ab9f66f6b60a12066cd6f14" data-type="p" data-lines="2">当用户在客户端或管理端进行某种操作后，会回调相应的事件给开发者。通过API进行的操作不会产生回调。</p><div class="cherry-table-container" data-sign="817d44c2ca6e769deaf0b117eeb104d7" data-lines="5">
        <table class="cherry-table"><thead><tr><th>应用类型</th><th>权限要求</th><th>接收事件开关</th></tr></thead><tbody><tr><td>自建应用</td><td>配置到「<a href="#13473/%E9%85%8D%E7%BD%AE%E5%8F%AF%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%BA%94%E7%94%A8" rel="nofollow">客户联系- 可调用接口的应用</a>」中</td><td><a href="#12977/%E5%BC%80%E5%90%AF%E6%8E%A5%E6%94%B6%E6%B6%88%E6%81%AF" rel="nofollow">外部联系人变更回调</a></td></tr><tr><td>代开发应用</td><td>具有「<span style="color:#ff0000">客户联系-&gt;客户基础信息</span>」权限</td><td>无</td></tr><tr><td>第三方应用</td><td>具有「<span style="color:#ff0000">客户联系-&gt;客户基础信息</span>」权限</td><td>无</td></tr></tbody></table></div><p data-sign="f9693efb3292c75bda778693133508bc" data-type="p" data-lines="1">特别注意：</p><ul data-sign="739d39301dce3c20f4357f998388dfc6list2" data-lines="2" class="cherry-list__default"><li>接收<a href="#15260/%E5%AE%A2%E6%88%B7%E6%8E%A5%E6%9B%BF%E5%A4%B1%E8%B4%A5%E4%BA%8B%E4%BB%B6" rel="nofollow">客户接替失败事件</a>的应用，需具有“企业客户权限-&gt;客户联系-&gt;分配在职或离职成员的客户”权限</li><li>接收<a href="#15260/%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%88%9B%E5%BB%BA%E4%BA%8B%E4%BB%B6" rel="nofollow">企业客户标签创建事件</a>、<a href="#15260/%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" rel="nofollow">企业客户标签变更事件</a>、<a href="#15260/%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6" rel="nofollow">企业客户标签删除事件</a>的应用，需具有“企业客户权限-&gt;客户联系-&gt;管理企业客户标签”权限</li></ul><p data-sign="br4" data-type="br" data-lines="4">&nbsp;</p><h2 id="%E6%B7%BB%E5%8A%A0%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E4%BA%8B%E4%BB%B6" data-sign="406ba73bd7811d35d7681e22fdcb7f94" data-lines="1"><a class="anchor" href="#%E6%B7%BB%E5%8A%A0%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E4%BA%8B%E4%BB%B6"></a>添加企业客户事件</h2><p data-sign="0faf9505234cd1dce47b824769138ef7" data-type="p" data-lines="1"><a href="#13473/%E5%BC%80%E5%A7%8B%E5%BC%80%E5%8F%91" rel="nofollow">配置了客户联系功能</a>的成员添加外部联系人时，回调该事件</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="c5a164e85ddf47cd75a8a76e0242e1b4" data-type="codeBlock" data-lines="15">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>add_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>UserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>zhangsan<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>UserID<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ExternalUserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>woAJ2GCAAAXtWyujaWJHDDGi0mAAAA<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ExternalUserID<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>State<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>teststate<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>State<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>WelcomeCode<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">WELCOMECODE</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>WelcomeCode<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="2">参数说明：</p><div class="cherry-table-container" data-sign="8c22b230cc4c8f3c1902ffe58e3042e3" data-lines="12">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （整型）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为change_external_contact</td></tr><tr><td>ChangeType</td><td>此时固定为add_external_contact</td></tr><tr><td>UserID</td><td>企业服务人员的UserID</td></tr><tr><td>ExternalUserID</td><td>外部联系人的userid，注意不是企业成员的账号</td></tr><tr><td>State</td><td>添加此用户的<a href="#15645/%E9%85%8D%E7%BD%AE%E5%AE%A2%E6%88%B7%E8%81%94%E7%B3%BB%E3%80%8C%E8%81%94%E7%B3%BB%E6%88%91%E3%80%8D%E6%96%B9%E5%BC%8F" rel="nofollow">「联系我」</a>方式配置的state参数，或<a href="#42923" rel="nofollow">在获客链接中指定的customer_channel参数</a>，可用于识别添加此用户的渠道</td></tr><tr><td>WelcomeCode</td><td>欢迎语code，可用于<a href="#16489" rel="nofollow">发送欢迎语</a></td></tr></tbody></table></div><blockquote data-sign="cbc9b4ca48b49b403a83a2c92b15bcec_3" data-lines="3">企业可以根据ExternalUserID调用“<a href="#13878" rel="nofollow">获取客户详情</a>”读取详情。<br>企业可以通过<a href="#15645/%E9%85%8D%E7%BD%AE%E5%AE%A2%E6%88%B7%E8%81%94%E7%B3%BB%E3%80%8C%E8%81%94%E7%B3%BB%E6%88%91%E3%80%8D%E6%96%B9%E5%BC%8F" rel="nofollow">配置客户联系「联系我」方式</a>接口来指定State参数，或<a href="#42923" rel="nofollow">在获客链接中指定customer_channel参数</a>，当有客户通过对应的联系方式添加企业成员时，State即为用户配置的state/customer_channel参数。<br><strong>注意:如果外部联系人和成员已经开始聊天或已通过「外部联系人免验证添加成员事件」得到的welcomecode发送欢迎语，则不会继续返回welcomecode。成员添加其他企业的企业微信联系人（商务伙伴）时，将自动递名片打招呼，不再回调welcomecode。</strong></blockquote><h2 id="%E7%BC%96%E8%BE%91%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E4%BA%8B%E4%BB%B6" data-sign="5eee81d0504a1b666510fb3c4759335b" data-lines="2"><a class="anchor" href="#%E7%BC%96%E8%BE%91%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E4%BA%8B%E4%BB%B6"></a>编辑企业客户事件</h2><p data-sign="e03d2be3804bd50e549e194c8b2ca427" data-type="p" data-lines="1"><a href="#13473/%E5%BC%80%E5%A7%8B%E5%BC%80%E5%8F%91" rel="nofollow">配置了客户联系功能</a>的成员修改外部联系人的备注、手机号或标签时，回调该事件</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="67507647d00900d04602ab6c489b558c" data-type="codeBlock" data-lines="13">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>edit_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>UserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>zhangsan<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>UserID<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ExternalUserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>woAJ2GCAAAXtWyujaWJHDDGi0mAAAA<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ExternalUserID<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="1">参数说明：</p><div class="cherry-table-container" data-sign="c67d010eed2fb97aa3b541675b0831e6" data-lines="10">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （整型）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为change_external_contact</td></tr><tr><td>ChangeType</td><td>此时固定为edit_external_contact</td></tr><tr><td>UserID</td><td>企业服务人员的UserID</td></tr><tr><td>ExternalUserID</td><td>外部联系人的userid，注意不是企业成员的账号</td></tr></tbody></table></div><p data-sign="br3" data-type="br" data-lines="3">&nbsp;</p><h2 id="%E5%A4%96%E9%83%A8%E8%81%94%E7%B3%BB%E4%BA%BA%E5%85%8D%E9%AA%8C%E8%AF%81%E6%B7%BB%E5%8A%A0%E6%88%90%E5%91%98%E4%BA%8B%E4%BB%B6" data-sign="a09fbaefe845c401fb62e5c8067edd41" data-lines="1"><a class="anchor" href="#%E5%A4%96%E9%83%A8%E8%81%94%E7%B3%BB%E4%BA%BA%E5%85%8D%E9%AA%8C%E8%AF%81%E6%B7%BB%E5%8A%A0%E6%88%90%E5%91%98%E4%BA%8B%E4%BB%B6"></a>外部联系人免验证添加成员事件</h2><p data-sign="af75cc581c5e77047deb468414e1cba6" data-type="p" data-lines="1">外部联系人添加了<a href="#13473/%E5%BC%80%E5%A7%8B%E5%BC%80%E5%8F%91" rel="nofollow">配置了客户联系功能</a>且开启了<strong>免验证</strong>的成员时（此时成员尚未确认添加对方为好友），回调该事件</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="ecd31d29bd157d868a633d4a2c9d7250" data-type="codeBlock" data-lines="15">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>add_half_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>UserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>zhangsan<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>UserID<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ExternalUserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>woAJ2GCAAAXtWyujaWJHDDGi0mACAAAA<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ExternalUserID<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>State<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>teststate<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>State<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>WelcomeCode<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">WELCOMECODE</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>WelcomeCode<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="1">参数说明：</p><div class="cherry-table-container" data-sign="695b0fb48c8bbdd9ac70416b143caa01" data-lines="12">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （整型）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为change_external_contact</td></tr><tr><td>ChangeType</td><td>此时固定为add_half_external_contact</td></tr><tr><td>UserID</td><td>企业服务人员的UserID</td></tr><tr><td>ExternalUserID</td><td>外部联系人的userid，注意不是企业成员的账号</td></tr><tr><td>State</td><td>添加此用户的<a href="#15645/%E9%85%8D%E7%BD%AE%E5%AE%A2%E6%88%B7%E8%81%94%E7%B3%BB%E3%80%8C%E8%81%94%E7%B3%BB%E6%88%91%E3%80%8D%E6%96%B9%E5%BC%8F" rel="nofollow">「联系我」</a>方式配置的state参数，或在<a href="#42923" rel="nofollow">获客链接中指定的customer_channel参数</a>，可用于识别添加此用户的渠道</td></tr><tr><td>WelcomeCode</td><td>欢迎语code，可用于<a href="#16489" rel="nofollow">发送欢迎语</a></td></tr></tbody></table></div><blockquote data-sign="8083f11dd03aca100cee1e4175251755_3" data-lines="3">企业可以根据ExternalUserID调用“<a href="#13878" rel="nofollow">获取客户详情</a>”读取详情。<br>企业可以通过<a href="#15645/%E9%85%8D%E7%BD%AE%E5%AE%A2%E6%88%B7%E8%81%94%E7%B3%BB%E3%80%8C%E8%81%94%E7%B3%BB%E6%88%91%E3%80%8D%E6%96%B9%E5%BC%8F" rel="nofollow">配置客户联系「联系我」方式</a>接口来指定State参数，或<a href="#42923" rel="nofollow">在获客链接中指定customer_channel参数</a>，当有客户通过对应的联系方式添加企业成员时，State即为用户配置的state/customer_channel参数。<br><strong>注意:如果外部联系人和成员已经开始聊天，则不会返回welcomecode。成员添加其他企业的企业微信联系人（商务伙伴）时，将自动递名片打招呼，不再回调welcomecode。</strong></blockquote><p data-sign="br3" data-type="br" data-lines="3">&nbsp;</p><h2 id="%E5%88%A0%E9%99%A4%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E4%BA%8B%E4%BB%B6" data-sign="a083e1bb1456005f921c4a77fb6307e9" data-lines="1"><a class="anchor" href="#%E5%88%A0%E9%99%A4%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E4%BA%8B%E4%BB%B6"></a>删除企业客户事件</h2><p data-sign="2e36982ef27f80206233eecdd0eebf55" data-type="p" data-lines="1"><a href="#13473/%E5%BC%80%E5%A7%8B%E5%BC%80%E5%8F%91" rel="nofollow">配置了客户联系功能</a>的成员删除外部联系人时，回调该事件</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="cc7eb21bee255ff5e56ba1ca008e4e45" data-type="codeBlock" data-lines="14">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>del_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>UserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>zhangsan<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>UserID<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ExternalUserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>woAJ2GCAAAXtWyujaWJHDDGi0mACAAAA<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ExternalUserID<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Source<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">DELETE_BY_TRANSFER</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Source<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="2">参数说明：</p><div class="cherry-table-container" data-sign="88de3ebdf26220de8a0397404fc62a2f" data-lines="11">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （整型）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为change_external_contact</td></tr><tr><td>ChangeType</td><td>此时固定为del_external_contact</td></tr><tr><td>UserID</td><td>企业服务人员的UserID</td></tr><tr><td>ExternalUserID</td><td>外部联系人的userid，注意不是企业成员的账号</td></tr><tr><td>Source</td><td>删除客户的操作来源，<code>DELETE_BY_TRANSFER</code>表示此客户是因在职继承自动被转接成员删除</td></tr></tbody></table></div><h2 id="%E5%88%A0%E9%99%A4%E8%B7%9F%E8%BF%9B%E6%88%90%E5%91%98%E4%BA%8B%E4%BB%B6" data-sign="8accdefc9c4e35d9e3612e476cb0af8f" data-lines="2"><a class="anchor" href="#%E5%88%A0%E9%99%A4%E8%B7%9F%E8%BF%9B%E6%88%90%E5%91%98%E4%BA%8B%E4%BB%B6"></a>删除跟进成员事件</h2><p data-sign="2695c1234799a48f85f64f1b50e32c0c" data-type="p" data-lines="1"><a href="#13473/%E5%BC%80%E5%A7%8B%E5%BC%80%E5%8F%91" rel="nofollow">配置了客户联系功能</a>的成员<strong>被外部联系人删除</strong>时，回调该事件</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="5db66acfa783c5bcc95dea7bee4b84be" data-type="codeBlock" data-lines="13">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>del_follow_user<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>UserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>zhangsan<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>UserID<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ExternalUserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>woAJ2GCAAAXtWyujaWJHDDGi0mACHAAA<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ExternalUserID<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="1">参数说明：</p><div class="cherry-table-container" data-sign="92a41277cb0529f8d854ace4d93154fd" data-lines="10">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （整型）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为change_external_contact</td></tr><tr><td>ChangeType</td><td>此时固定为del_follow_user</td></tr><tr><td>UserID</td><td>企业服务人员的UserID</td></tr><tr><td>ExternalUserID</td><td>外部联系人的userid，注意不是企业成员的账号</td></tr></tbody></table></div><p data-sign="br4" data-type="br" data-lines="4">&nbsp;</p><h2 id="%E5%AE%A2%E6%88%B7%E6%8E%A5%E6%9B%BF%E5%A4%B1%E8%B4%A5%E4%BA%8B%E4%BB%B6" data-sign="c3e2de847e659dc3bc6ae4c4dfdbc806" data-lines="1"><a class="anchor" href="#%E5%AE%A2%E6%88%B7%E6%8E%A5%E6%9B%BF%E5%A4%B1%E8%B4%A5%E4%BA%8B%E4%BB%B6"></a>客户接替失败事件</h2><p data-sign="c32982718166ae387f2d3b8235f6bcb7" data-type="p" data-lines="1">企业将客户分配给新的成员接替后，客户添加失败时回调该事件</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="edf619a36eb2bfa6e53249dcdd321f3e" data-type="codeBlock" data-lines="14">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_contact<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>transfer_fail<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FailReason<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>customer_refused<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FailReason<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>UserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>zhangsan<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>UserID<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ExternalUserID<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>woAJ2GCAAAXtWyujaWJHDDGi0mAAAA<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ExternalUserID<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="1">参数说明：</p><div class="cherry-table-container" data-sign="edaa9648c9731518956f017a3eceb6e5" data-lines="11">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （整型）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为change_external_contact</td></tr><tr><td>ChangeType</td><td>此时固定为transfer_fail</td></tr><tr><td>FailReason</td><td>接替失败的原因, customer_refused-客户拒绝， customer_limit_exceed-接替成员的客户数达到上限</td></tr><tr><td>UserID</td><td>接替失败的企业服务人员的UserID</td></tr><tr><td>ExternalUserID</td><td>外部联系人的userid，注意不是企业成员的账号</td></tr></tbody></table></div><blockquote data-sign="8180e06cfd993d3044a28f23a43c6876_2" data-lines="2">如果此客户在企业内仍有其他在职的跟进人，则企业仍可以根据ExternalUserID调用“<a href="#13878" rel="nofollow">获取客户详情</a>”读取详情，否则无法获取。</blockquote><p data-sign="br3" data-type="br" data-lines="3">&nbsp;</p><h2 id="%E5%AE%A2%E6%88%B7%E7%BE%A4%E5%88%9B%E5%BB%BA%E4%BA%8B%E4%BB%B6" data-sign="f300652bd55f1719d99e34f35d5fa62b" data-lines="1"><a class="anchor" href="#%E5%AE%A2%E6%88%B7%E7%BE%A4%E5%88%9B%E5%BB%BA%E4%BA%8B%E4%BB%B6"></a>客户群创建事件</h2><p data-sign="ce55babf607be870afc69f14046a5a24" data-type="p" data-lines="2">有新增客户群时，回调该事件。收到该事件后，企业可以调用<a href="#19412" rel="nofollow">获取客户群详情</a>接口获取客户群详情。</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="dcfcf50f53c89fff923eb30abf01b450" data-type="codeBlock" data-lines="12">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_chat<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChatId<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">CHAT_ID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChatId<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>create<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="1">参数说明：</p><div class="cherry-table-container" data-sign="fa2189f5ceeede2d0b1601b0848f43f1" data-lines="9">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （unix时间戳）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为<code>change_external_chat</code></td></tr><tr><td>ChatId</td><td>群ID</td></tr><tr><td>ChangeType</td><td>此时固定为<code>create</code></td></tr></tbody></table></div><h2 id="%E5%AE%A2%E6%88%B7%E7%BE%A4%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" data-sign="6ed5a0e73633621420889cf89fdc7764" data-lines="2"><a class="anchor" href="#%E5%AE%A2%E6%88%B7%E7%BE%A4%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6"></a>客户群变更事件</h2><p data-sign="32af57db12644f6ce19439ffd7d9b8f4" data-type="p" data-lines="2">客户群被修改后（群名变更，群成员增加或移除，群主变更，群公告变更），回调该事件。收到该事件后，企业需要再调用<a href="#19412" rel="nofollow">获取客户群详情</a>接口，以获取最新的群详情。</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="931f7ea1e6da2711b5077fe49bc07acd" data-type="codeBlock" data-lines="22">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>ww55ca070cb9b7eb22<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_chat<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChatId<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>wrx7HUARsKwGRaQBVKPBTcEyzdHA4HrQ<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChatId<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>update<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>UpdateDetail<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>add_member<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>UpdateDetail<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>JoinScene<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>JoinScene<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>QuitScene<span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">&lt;</span><span class="token operator">/</span>QuitScene<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MemChangeCnt<span class="token operator">&gt;</span><span class="token number">10</span><span class="token operator">&lt;</span><span class="token operator">/</span>MemChangeCnt<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MemChangeList<span class="token operator">&gt;</span></span>
<span class="code-line">		<span class="token operator">&lt;</span>Item<span class="token operator">&gt;</span>Jack<span class="token operator">&lt;</span><span class="token operator">/</span>Item<span class="token operator">&gt;</span></span>
<span class="code-line">		<span class="token operator">&lt;</span>Item<span class="token operator">&gt;</span>Rose<span class="token operator">&lt;</span><span class="token operator">/</span>Item<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span><span class="token operator">/</span>MemChangeList<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>LastMemVer<span class="token operator">&gt;</span><span class="token number">9</span>c3f97c2ada667dfb5f6d03308d963e1<span class="token operator">&lt;</span><span class="token operator">/</span>LastMemVer<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>CurMemVer<span class="token operator">&gt;</span><span class="token number">71217227</span>bbd112ecfe3a49c482195cb4<span class="token operator">&lt;</span><span class="token operator">/</span>CurMemVer<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="1">参数说明：</p><div class="cherry-table-container" data-sign="9e4451e2e2f781ad1bed2af6f6ca368e" data-lines="16">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （unix时间戳）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为<code>change_external_chat</code></td></tr><tr><td>ChatId</td><td>群ID</td></tr><tr><td>ChangeType</td><td>此时固定为<code>update</code></td></tr><tr><td>UpdateDetail</td><td>变更详情。目前有以下几种：<br>add_member : 成员入群<br>del_member : 成员退群<br> change_owner : 群主变更<br>change_name : 群名变更<br>change_notice : 群公告变更</td></tr><tr><td>JoinScene</td><td>当是成员入群时有值。表示成员的入群方式<br>0 - 由成员邀请入群（包括直接邀请入群和通过邀请链接入群）<br>3 - 通过扫描群二维码入群</td></tr><tr><td>QuitScene</td><td>当是成员退群时有值。表示成员的退群方式<br>0 - 自己退群<br>1 - 群主/群管理员移出</td></tr><tr><td>MemChangeCnt</td><td>当是成员入群或退群时有值。表示成员变更数量</td></tr><tr><td>MemChangeList</td><td>当是成员入群或退群时有值。变更的成员列表</td></tr><tr><td>LastMemVer</td><td>当是成员入群或退群时有值。 变更前的群成员版本号</td></tr><tr><td>CurMemVer</td><td>当是成员入群或退群时有值。变更后的群成员版本号</td></tr></tbody></table></div><p data-sign="fecde3c86493d2a25922e1b4978a4dba" data-type="p" data-lines="4">  <br>  <strong>关于客户群变更事件中，群成员版本号的使用技巧</strong><br>  客户群变更较为频繁，开发者希望直接通过回调事件来更新群成员，因此事件新增变更成员列表信息。而变更事件的回调过程并不可靠（接收方可能丢失或乱序），为了让开发者能准确判断本次接收到的客户群变更事件是否可信任，变更事件中新增两个版本号：变更前的群成员版本号、变更后的群成员版本号。开发者可以存储每个群的最新版本号，当接收到客户群变更事件后，如果是成员入群或成员退群事件，则对比事件中的变更前版本号与自己存储的最新版本号是否一致，如果一致则说明本次事件可信任，并更新最新版本号；如果不一致，则说明本次收到的事件不可靠，可以通过<a href="#19412" rel="nofollow">拉客户群详情</a>来获取最新信息和最新版本号。以此在不需要增加调用量的前提下，实现数据一致性。<br>  <img src="images/92130/425a681f.png" alt=""></p><h2 id="%E5%AE%A2%E6%88%B7%E7%BE%A4%E8%A7%A3%E6%95%A3%E4%BA%8B%E4%BB%B6" data-sign="b64179eb1d0706d51384e17e21e27e10" data-lines="2"><a class="anchor" href="#%E5%AE%A2%E6%88%B7%E7%BE%A4%E8%A7%A3%E6%95%A3%E4%BA%8B%E4%BB%B6"></a>客户群解散事件</h2><p data-sign="71374bb355b4f273fc46f36c3606da08" data-type="p" data-lines="3">当客户群被群主解散后，回调该事件。<br><strong>需注意的是</strong>，如果发生群信息变动，会立即收到此事件，但是部分信息是异步处理，可能需要等一段时间(例如2秒)调用<a href="#19412" rel="nofollow">获取客户群详情</a>接口才能得到最新结果</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="85196ebb8259c889ce9445f09a09bf38" data-type="codeBlock" data-lines="12">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_chat<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChatId<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">CHAT_ID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChatId<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>dismiss<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="1">参数说明：</p><div class="cherry-table-container" data-sign="d18cd5d059da6adfcee222c0f670a4c4" data-lines="9">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （unix时间戳）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为<code>change_external_chat</code></td></tr><tr><td>ChatId</td><td>群ID</td></tr><tr><td>ChangeType</td><td>此时固定为<code>dismiss</code></td></tr></tbody></table></div><h2 id="%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%88%9B%E5%BB%BA%E4%BA%8B%E4%BB%B6" data-sign="23d51f2c68ad0494ac83781f1437de46" data-lines="2"><a class="anchor" href="#%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%88%9B%E5%BB%BA%E4%BA%8B%E4%BB%B6"></a>企业客户标签创建事件</h2><p data-sign="687d1baa9742e66b6f8136924c24f353" data-type="p" data-lines="1">企业/管理员创建客户标签/标签组时（包括规则组的标签），回调此事件。收到该事件后，企业需要调用<a href="#17298/%E8%8E%B7%E5%8F%96%E4%BC%81%E4%B8%9A%E6%A0%87%E7%AD%BE%E5%BA%93" rel="nofollow">获取企业标签库</a>来获取标签/标签组的详细信息。</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="b2dae46fc458bda9c5ad44327e8626b3" data-type="codeBlock" data-lines="14">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">CORPID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_tag<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Id<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">TAG_ID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Id<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>TagType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TagType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>create<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>StrategyId<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>StrategyId<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="2">参数说明：</p><div class="cherry-table-container" data-sign="4fed23a0d47bef09d1bac43b76e2098c" data-lines="11">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （unix时间戳）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为<code>change_external_tag</code></td></tr><tr><td>Id</td><td>标签或标签组的ID</td></tr><tr><td>TagType</td><td>创建标签时，此项为<code>tag</code>，创建标签组时，此项为<code>tag_group</code></td></tr><tr><td>ChangeType</td><td>此时固定为<code>create</code></td></tr><tr><td>StrategyId</td><td>标签或标签组所属的规则组id，只回调给“客户联系”应用</td></tr></tbody></table></div><p data-sign="br3" data-type="br" data-lines="3">&nbsp;</p><h2 id="%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" data-sign="bc43dc23b6181d59103a6df7b6b5afa6" data-lines="1"><a class="anchor" href="#%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6"></a>企业客户标签变更事件</h2><p data-sign="93f6cbda83dd753120f524b7c5a87a76" data-type="p" data-lines="1">当企业客户标签/标签组（包括规则组的标签）被修改时，回调此事件。收到该事件后，企业需要调用<a href="https://work.weixin.qq.com/api/doc/90000/90135/92117#%E8%8E%B7%E5%8F%96%E4%BC%81%E4%B8%9A%E6%A0%87%E7%AD%BE%E5%BA%93" rel="nofollow">获取企业标签库</a>来获取标签/标签组的详细信息。</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="2">事件示例：</p><div data-sign="7cfa220e9762e48de732ce46a5e137b2" data-type="codeBlock" data-lines="14">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">CORPID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_tag<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Id<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">TAG_ID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Id<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>TagType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TagType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>update<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>StrategyId<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>StrategyId<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="2">参数说明：</p><div class="cherry-table-container" data-sign="f508e3e1dc6f25579cb73b9473f8e312" data-lines="11">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （unix时间戳）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为<code>change_external_tag</code></td></tr><tr><td>Id</td><td>标签或标签组的ID</td></tr><tr><td>TagType</td><td>变更标签时，此项为<code>tag</code>，变更标签组时，此项为<code>tag_group</code></td></tr><tr><td>ChangeType</td><td>此时固定为<code>update</code></td></tr><tr><td>StrategyId</td><td>标签或标签组所属的规则组id，只回调给“客户联系”应用</td></tr></tbody></table></div><p data-sign="br3" data-type="br" data-lines="3">&nbsp;</p><h2 id="%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6" data-sign="17ece628f83bf452e4037195c0a884e0" data-lines="1"><a class="anchor" href="#%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6"></a>企业客户标签删除事件</h2><p data-sign="da3774ff9a6795480eddb09fcec66c1d" data-type="p" data-lines="1">当企业客户标签/标签组被删除时，回调此事件。删除标签组时，该标签组下的所有标签将被同时删除，但不会进行回调。</p><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="1">事件示例：</p><div data-sign="323ee928340100fe08d69d11fb5c4621" data-type="codeBlock" data-lines="14">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">CORPID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_tag<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Id<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">TAG_ID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Id<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>TagType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TagType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token keyword">delete</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>StrategyId<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>StrategyId<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="2">参数说明：</p><div class="cherry-table-container" data-sign="8b6868461ae80257ce836531f79102b5" data-lines="11">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （unix时间戳）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为<code>change_external_tag</code></td></tr><tr><td>Id</td><td>标签或标签组的ID</td></tr><tr><td>TagType</td><td>删除标签时，此项为<code>tag</code>，删除标签组时，此项为<code>tag_group</code></td></tr><tr><td>ChangeType</td><td>此时固定为<code>delete</code></td></tr><tr><td>StrategyId</td><td>标签或标签组所属的规则组id，只回调给“客户联系”应用</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h2 id="%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E9%87%8D%E6%8E%92%E4%BA%8B%E4%BB%B6" data-sign="60f4d305ca529c0630bd3208842355c0" data-lines="1"><a class="anchor" href="#%E4%BC%81%E4%B8%9A%E5%AE%A2%E6%88%B7%E6%A0%87%E7%AD%BE%E9%87%8D%E6%8E%92%E4%BA%8B%E4%BB%B6"></a>企业客户标签重排事件</h2><p data-sign="b1ba61b424cdc19dbd098bec4283777e" data-type="p" data-lines="1">当企业管理员在终端/管理端调整标签顺序时，可能导致标签顺序整体调整重排，引起大部分标签的order值发生变化，此时会回调此事件，收到此事件后企业应尽快全量同步标签的order值，防止后续调用接口排序出现非预期结果。</p><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="bc5962208b847e6b62b12e90c9eedc21" data-type="p" data-lines="1">事件示例：</p><div data-sign="b5722643ce605d33129c7877ba024478" data-type="codeBlock" data-lines="13">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">CORPID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">	<span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1403610513</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>change_external_tag<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>Id<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">TAG_ID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Id<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>StrategyId<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span><span class="token constant">STRATEGY_ID</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>StrategyId<span class="token operator">&gt;</span></span>
<span class="code-line">	<span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>shuffle<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="ef99f5213ad99358df30bd9541995049" data-type="p" data-lines="2">参数说明：</p><div class="cherry-table-container" data-sign="0dfdf9df4709b29e716dc7e00ad2e959" data-lines="10">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>此事件该值固定为sys，表示该消息由系统生成</td></tr><tr><td>CreateTime</td><td>消息创建时间 （unix时间戳）</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为<code>change_external_tag</code></td></tr><tr><td>Id</td><td>标签组的id，表示只有此标签组内的标签发生了重排，如果为空，则表示全部标签组顺序都发生了变化</td></tr><tr><td>StrategyId</td><td>规则组id，如果修改了规则组标签的顺序，则回调时会带上此标签所属规则组的id</td></tr><tr><td>ChangeType</td><td>此时固定为<code>shuffle</code></td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>