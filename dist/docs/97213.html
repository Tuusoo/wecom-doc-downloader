<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>概述 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        概述
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2025/11/11</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><dir class="toc" data-sign="2e9bdb698adfc6bc80d7e340ba5f86d8-1" data-lines="1"><p class="toc-title">目录</p><li class="toc-li"><a href="#%E3%80%8C%E4%B8%8A%E4%B8%8B%E6%B8%B8%E3%80%8D%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" class="level-1">「上下游」是什么？</a></li><li class="toc-li"><a href="#%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E3%80%81%E4%BD%BF%E7%94%A8%E3%80%8C%E4%B8%8A%E4%B8%8B%E6%B8%B8%E3%80%8D%EF%BC%9F" class="level-1">如何创建、使用「上下游」？</a></li><li class="toc-li"><a href="#%E5%A6%82%E4%BD%95%E5%85%B1%E4%BA%AB%E5%BA%94%E7%94%A8%EF%BC%9F" class="level-1">如何共享应用？</a></li><li class="toc-li"><a href="#%E5%85%B1%E4%BA%AB%E5%BA%94%E7%94%A8%E5%9C%A8%E4%B8%8A%E4%B8%8B%E6%B8%B8%E5%9C%BA%E6%99%AF%E4%B8%8B%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F" class="level-1">共享应用在上下游场景下可以做什么？</a></li><li class="toc-li"><a href="#%E5%BC%80%E5%8F%91%E8%80%85%E5%A6%82%E4%BD%95%E9%80%82%E9%85%8D%EF%BC%9F" class="level-1">开发者如何适配？</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%A6%82%E8%BF%B0" class="level-2">概述</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E8%AF%A6%E8%BF%B0" class="level-2">详述</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#1%E3%80%81%E5%BA%94%E7%94%A8%E5%85%B1%E4%BA%AB%E6%88%90%E5%8A%9F%E5%9B%9E%E8%B0%83" class="level-3">1、应用共享成功回调</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#2%E3%80%81%E8%8E%B7%E5%8F%96%E5%BA%94%E7%94%A8%E5%85%B1%E4%BA%AB%E4%BF%A1%E6%81%AF" class="level-3">2、获取应用共享信息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#3%E3%80%81%E8%8E%B7%E5%8F%96%E5%BA%94%E7%94%A8%E4%BD%BF%E7%94%A8%E8%80%85%E4%BF%A1%E6%81%AF" class="level-3">3、获取应用使用者信息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#4%E3%80%81%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3" class="level-3">4、调用接口</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E4%BD%BF%E7%94%A8api%E6%8E%A5%E5%8F%A3" class="level-4">使用API接口</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E4%BD%BF%E7%94%A8jsapi%E6%8E%A5%E5%8F%A3" class="level-4">使用JSAPI接口</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3" class="level-4">使用小程序接口</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#5%E3%80%81%E4%B8%8A%E4%B8%8B%E6%B8%B8%E7%9A%84%E5%9B%9E%E8%B0%83%E4%BA%8B%E4%BB%B6" class="level-3">5、上下游的回调事件</a></li><li class="toc-li"><a href="#%E9%85%8D%E7%BD%AE%E5%8F%AF%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%BA%94%E7%94%A8" class="level-1">配置可调用接口的应用</a></li></dir><hr data-sign="hr2" data-lines="2"><h1 id="%E3%80%8C%E4%B8%8A%E4%B8%8B%E6%B8%B8%E3%80%8D%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" data-sign="1ebdc11f5722e4cc1f3b0d219296d945" data-lines="2"><a class="anchor" href="#%E3%80%8C%E4%B8%8A%E4%B8%8B%E6%B8%B8%E3%80%8D%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"></a>「上下游」是什么？</h1><p data-sign="54898c165e1895c331027d92a863b21a" data-type="p" data-lines="2">「上下游」是企业微信针对企业间协作场景推出的解决方案。<br>企业可使用此功能，与自己的经销商、供应商、合作伙伴便捷沟通、共享应用，实现高效业务协同。</p><h1 id="%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E3%80%81%E4%BD%BF%E7%94%A8%E3%80%8C%E4%B8%8A%E4%B8%8B%E6%B8%B8%E3%80%8D%EF%BC%9F" data-sign="74fee884da930f15e191a3d0af9f6c4c" data-lines="2"><a class="anchor" href="#%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E3%80%81%E4%BD%BF%E7%94%A8%E3%80%8C%E4%B8%8A%E4%B8%8B%E6%B8%B8%E3%80%8D%EF%BC%9F"></a>如何创建、使用「上下游」？</h1><ol data-sign="ee13aaf41877dc360930f48389a69c4clist4" data-lines="4" class="cherry-list__default" start="1"><li>打开企业微信手机客户端-工作台，找到「上下游」应用；</li><li>创建一个上下游；</li><li>点击「邀请上下游联系人」，发送邀请链接给本企业的经销商、供应商、合作伙伴联系人；</li><li>对方确认后，即可在通讯录中找到对方并发起沟通。</li></ol><p data-sign="673f37150095d42024ca22a36d862c99" data-type="p" data-lines="1"><img src="images/97213/2c556b6e.png" alt=""></p><p data-sign="ba8d1dca4ae470151d83d4184a1733d2" data-type="p" data-lines="1">注意：</p><blockquote data-sign="879350d31f039dd4d207fba6972fb1d0_1" data-lines="1">* 客户端需升级到 3.1.20 以上版本<br>* 行业为「教育-学前教育、初中等教育、教育行政单位」的企业成员，以及团队形态的成员暂不支持创建和加入上下游</blockquote><h1 id="%E5%A6%82%E4%BD%95%E5%85%B1%E4%BA%AB%E5%BA%94%E7%94%A8%EF%BC%9F" data-sign="219d87a90d0c7eb37eb91a2b337addd9" data-lines="2"><a class="anchor" href="#%E5%A6%82%E4%BD%95%E5%85%B1%E4%BA%AB%E5%BA%94%E7%94%A8%EF%BC%9F"></a>如何共享应用？</h1><ol data-sign="087e313f5164a08a3e02df01fe2acb56list6" data-lines="6" class="cherry-list__default" start="1"><li>打开企业微信手机客户端-工作台，找到「上下游」应用</li><li>点开一个本企业创建的上下游</li><li>点击「设置共享应用」</li><li>选择需共享的应用、设置共享范围，完成共享</li><li>上下游企业成员可在企微客户端-工作台查看和使用被共享的应用<br></li></ol><h1 id="%E5%85%B1%E4%BA%AB%E5%BA%94%E7%94%A8%E5%9C%A8%E4%B8%8A%E4%B8%8B%E6%B8%B8%E5%9C%BA%E6%99%AF%E4%B8%8B%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F" data-sign="05622ff4d601808f2166c5078bb78188" data-lines="2"><a class="anchor" href="#%E5%85%B1%E4%BA%AB%E5%BA%94%E7%94%A8%E5%9C%A8%E4%B8%8A%E4%B8%8B%E6%B8%B8%E5%9C%BA%E6%99%AF%E4%B8%8B%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F"></a>共享应用在上下游场景下可以做什么？</h1><ol data-sign="a0e069c8e3f61b1edb39b49699be8fcflist13" data-lines="13" class="cherry-list__default" start="1"><li><strong>跨企业获取信息</strong><br>上下游信息<br>上下游联系人信息<br>上下游联系人添加的客户信息（可跨企业打通客户数据）</li><li><strong>跨企业业务协同</strong><br>群发通知（应用消息）<br>打开/创建上下游会话（单聊、群聊）<br>客户管理<br>设置群发任务（单聊、群聊、朋友圈）<br>打开/创建客户会话（单聊、群聊）<br>在职、离职继承<br>客户联系统计<br>日程、会议、直播、审批、紧急通知等系统功能均支持跨企业调用</li></ol><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h1 id="%E5%BC%80%E5%8F%91%E8%80%85%E5%A6%82%E4%BD%95%E9%80%82%E9%85%8D%EF%BC%9F" data-sign="c0c06c5e52e3b6ee1fabc146a31854e7" data-lines="1"><a class="anchor" href="#%E5%BC%80%E5%8F%91%E8%80%85%E5%A6%82%E4%BD%95%E9%80%82%E9%85%8D%EF%BC%9F"></a>开发者如何适配？</h1><h2 id="%E6%A6%82%E8%BF%B0" data-sign="9a8437ccee43ad66c084b8dfd3d259d3" data-lines="1"><a class="anchor" href="#%E6%A6%82%E8%BF%B0"></a>概述</h2><ol data-sign="3856fc498d87c06831162f2f94959cf8list5" data-lines="5" class="cherry-list__default" start="1"><li>上下游共享应用成功，有回调事件</li><li>获取下游企业 corpid、应用 id</li><li>获取应用使用者信息</li><li>ISV/上游企业支持以下游企业身份调用 API</li><li>通讯录、客户联系的回调，都回调给上级企业</li></ol><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h2 id="%E8%AF%A6%E8%BF%B0" data-sign="02b35f2a599617e7b2a0f2d5c4e51a61" data-lines="1"><a class="anchor" href="#%E8%AF%A6%E8%BF%B0"></a>详述</h2><h3 id="1%E3%80%81%E5%BA%94%E7%94%A8%E5%85%B1%E4%BA%AB%E6%88%90%E5%8A%9F%E5%9B%9E%E8%B0%83" data-sign="df57687975bf04a6f835026927885b0c" data-lines="1"><a class="anchor" href="#1%E3%80%81%E5%BA%94%E7%94%A8%E5%85%B1%E4%BA%AB%E6%88%90%E5%8A%9F%E5%9B%9E%E8%B0%83"></a>1、应用共享成功回调</h3><p data-sign="153d84c8fdb09840dada121127057a2a" data-type="p" data-lines="1">上游企业将应用共享给下游企业后，需使用特定接口获取下游应用的身份和权限，才能控制下游应用，因此需开发者做一定的适配。</p><ul data-sign="e7028150ae30e3274e70d6fdf562bac6list5" data-lines="5" class="cherry-list__default"><li>自建应用，上游企业共享给下游企业后，企业微信会回调<a href="#12974/%E4%B8%8A%E4%B8%8B%E6%B8%B8%E5%85%B1%E4%BA%AB%E5%BA%94%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%9B%9E%E8%B0%83" rel="nofollow">应用共享事件</a>给上游企业。<br>上游企业收到回调事件后，可通过相应的API接口进行业务开发。<br>需特别注意，企业微信账号ID安全性已全面升级，上游企业获取到下游企业的账号ID规则与第三方服务商获取到的账号ID规则是一样的，详情可以参考<a href="#35863" rel="nofollow">企业微信账号ID安全性全面升级</a>。</li><li>第三方应用，上游企业共享给下游企业后，企业微信会为每个下游企业分别安装授权该第三方应用，并<a href="#14951" rel="nofollow">回调授权通知</a>给第三方，所以相当于是多了一种授权安装的渠道。<br>不同的是，该情况下企业微信还会<a href="#25681" rel="nofollow">回调共享应用事件</a>给第三方应用，之后第三方应用可<a href="#25951" rel="nofollow">获取应用共享信息</a>，以及<a href="#25575" rel="nofollow">获取下游企业付费版本信息</a>。</li></ul><p data-sign="c8f3dd5fea1b5182d17cc167af1c4a38" data-type="p" data-lines="1">下面简要说明需要注意的地方。</p><h3 id="2%E3%80%81%E8%8E%B7%E5%8F%96%E5%BA%94%E7%94%A8%E5%85%B1%E4%BA%AB%E4%BF%A1%E6%81%AF" data-sign="b474b362ccdeb81ff53ef717b00b345a" data-lines="2"><a class="anchor" href="#2%E3%80%81%E8%8E%B7%E5%8F%96%E5%BA%94%E7%94%A8%E5%85%B1%E4%BA%AB%E4%BF%A1%E6%81%AF"></a>2、获取应用共享信息</h3><p data-sign="9bb318961831be50eb1d969657ee2287" data-type="p" data-lines="1">上游企业共享应用给下游企业后，会收到共享应用事件回调，此时上游企业需要通过接口：<a href="#25951" rel="nofollow">获取应用共享信息</a>，获得下游已授权企业的corpid和应用id列表，并保存起来，后面调接口需要用到。</p><h3 id="3%E3%80%81%E8%8E%B7%E5%8F%96%E5%BA%94%E7%94%A8%E4%BD%BF%E7%94%A8%E8%80%85%E4%BF%A1%E6%81%AF" data-sign="e6c9533318f80b495b7f5f5ce263cd05" data-lines="2"><a class="anchor" href="#3%E3%80%81%E8%8E%B7%E5%8F%96%E5%BA%94%E7%94%A8%E4%BD%BF%E7%94%A8%E8%80%85%E4%BF%A1%E6%81%AF"></a>3、获取应用使用者信息</h3><p data-sign="b2879230d53cab799a5b41798460b7b8" data-type="p" data-lines="2">因为应用可以共享给多个下游企业，所以上游企业调用接口前，需要得知当前使用者到底属于哪个企业。<br>见<a href="#15232" rel="nofollow">身份验证</a>相关接口。与普通应用使用方法的不同点在于：</p><ul data-sign="81a87170589b377282d4afc9b75d126clist2" data-lines="2" class="cherry-list__default"><li>自建应用<a href="#15048" rel="nofollow">构造网页授权链接</a>时，参数<code>appid</code>填<strong>上游企业</strong>的corpid （第三方应用无变化，参见<a href="#15121" rel="nofollow">构造第三方应用oauth2链接</a>）</li><li>自建应用<a href="#15047" rel="nofollow">获取访问用户身份</a>接口，在「上下游」场景，返回的UserId格式如：CorpId/userid，分解即可得到下游企业的corpid（第三方应用无变化，参见<a href="#15122" rel="nofollow">第三方获取访问用户身份</a>）</li></ul><h3 id="4%E3%80%81%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3" data-sign="1e1db088486c6f4189b9c67640c4aef8" data-lines="2"><a class="anchor" href="#4%E3%80%81%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3"></a>4、调用接口</h3><h4 id="%E4%BD%BF%E7%94%A8api%E6%8E%A5%E5%8F%A3" data-sign="261232ffb4e9171fd45ac800e5f7327a" data-lines="1"><a class="anchor" href="#%E4%BD%BF%E7%94%A8api%E6%8E%A5%E5%8F%A3"></a>使用API接口</h4><ul data-sign="aed01a98e5c6935617fcb43c686f7342list6" data-lines="6" class="cherry-list__default"><li>第三方应用。不同点在于：<a href="#14942" rel="nofollow">获取企业永久授权码</a>接口不返回安装的管理员信息。</li><li>自建应用。不同点在于：需要换取下游企业的access_token来调接口，实现与下游应用交互<br><img src="images/97213/4f73a887.png" alt=""><br>① <a href="#15074" rel="nofollow">获取上游企业access_token</a><br>② <a href="#24919" rel="nofollow">获取下游企业access_token</a><br>③ 使用第②步骤得到的<strong>下游企业</strong>的access_token调用各种API接口。例如通过调用<a href="#10087" rel="nofollow">获取应用</a>接口获取下游应用的可见范围，通过调用<a href="#10019" rel="nofollow">读取成员</a>接口获取获取下游企业成员详情，通过调用<a href="#15836" rel="nofollow">创建企业群发</a>接口给下游企业客户群发消息。</li></ul><h4 id="%E4%BD%BF%E7%94%A8jsapi%E6%8E%A5%E5%8F%A3" data-sign="76bfed2cce1c730b98f658b9aa8b1959" data-lines="2"><a class="anchor" href="#%E4%BD%BF%E7%94%A8jsapi%E6%8E%A5%E5%8F%A3"></a>使用JSAPI接口</h4><ul data-sign="9040cdc54829661a4a4d3211d9f452c2list7" data-lines="7" class="cherry-list__default"><li>第三方应用。无变化</li><li>自建应用。与<a href="#14931" rel="nofollow">普通企业使用JSAPI</a>不同点在于：需要使用下游企业 jsapi_ticket 来进行jsapi签名，并用下游企业的身份调用agentConfig<br><img src="images/97213/4e9535b4.png" alt=""><br>① <a href="#15074" rel="nofollow">获取上游企业access_token</a><br>② <a href="#24919" rel="nofollow">获取下游企业的access_token</a><br>③ <a href="#14924" rel="nofollow">获取jsapi_ticket并签名</a>。<strong>特别注意</strong>，需要使用第②步骤得到的<strong>下游企业</strong>的access_token获取jsapi_ticket<br>④ <a href="#14931" rel="nofollow">agentConfig</a>。<strong>特别注意</strong>，此时<code>appId</code>和<code>agentId</code>参数，需要填<strong>下游企业</strong>的corpid和应用id。</li></ul><h4 id="%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3" data-sign="c57f978e5a2f8def39aa278fc4b14bf4" data-lines="2"><a class="anchor" href="#%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3"></a>使用小程序接口</h4><ul data-sign="5c851e8621e8a59803852895ca528c2blist7" data-lines="7" class="cherry-list__default"><li>第三方应用。无变化，通过<a href="#14944" rel="nofollow">永久授权码获取企业access_token</a>。</li><li>自建应用。与普通企业<a href="#16055" rel="nofollow">小程序登录流程</a>的不同点在于：需要使用<a href="#25574" rel="nofollow">获取下游企业的小程序session</a>来转为下游企业的登录session<br><img src="images/97213/a374e704.png" alt=""><br>① <a href="#15074" rel="nofollow">获取上游企业access_token</a><br>② <a href="#16056" rel="nofollow">获取上游sessionkey</a><br>③ <a href="#24919" rel="nofollow">获取下游企业的access_token</a><br>④ <a href="#25574" rel="nofollow">换取下游企业的sessionkey</a></li></ul><h3 id="5%E3%80%81%E4%B8%8A%E4%B8%8B%E6%B8%B8%E7%9A%84%E5%9B%9E%E8%B0%83%E4%BA%8B%E4%BB%B6" data-sign="ce641fa27417de67de9a1ac7626e69cc" data-lines="2"><a class="anchor" href="#5%E3%80%81%E4%B8%8A%E4%B8%8B%E6%B8%B8%E7%9A%84%E5%9B%9E%E8%B0%83%E4%BA%8B%E4%BB%B6"></a>5、上下游的回调事件</h3><p data-sign="0a85e0ab881c6e5150bed0d7098fb5da" data-type="p" data-lines="1">上下游应用统一由上游企业管理，<strong>所以下游企业的应用事件、应用消息均回调给上游企业</strong>。请注意以下几点：</p><ul data-sign="5a21b4feec94b359e1e96050124f0b0elist18" data-lines="18" class="cherry-list__default"><li><a href="#12974" rel="nofollow"><strong>应用事件回调</strong></a>（包括通讯录变更事件、客户联系变更事件等）<br>第三方应用无变化；<br>对于自建应用，<strong>所有下游企业的用户产生的应用事件，均回调给上游企业的回调URL，而事件里的企业信息是下游企业的信息。</strong><br>例如<a href="#12974/%E6%88%90%E5%91%98%E5%85%B3%E6%B3%A8%E5%8F%8A%E5%8F%96%E6%B6%88%E5%85%B3%E6%B3%A8%E4%BA%8B%E4%BB%B6" rel="nofollow">成员关注及取消关注事件</a>：<br><div data-sign="1429dc306704370238d7644f16eac5c5" data-type="codeBlock" data-lines="9">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">        <span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">        <span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>UserID<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span></span>
<span class="code-line">        <span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1348831860</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">        <span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">        <span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>subscribe<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">        <span class="token operator">&lt;</span>AgentID<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>AgentID<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><br>事件中<code>ToUserName</code>是<strong>下游</strong>企业corpid，<code>FromUserName</code>是<strong>下游</strong>企业的密文userid<br></li><li><strong>共享应用事件（本次新增）</strong><br>当应用分享或解除分享后，会触发该事件给上游企业或第三方服务商。收到该事件后，需要调用<a href="#25951" rel="nofollow">获取应用共享信息</a>更新应用的分享列表并存储。<br><a href="#25681/%E4%B8%8A%E4%B8%8B%E6%B8%B8%E5%85%B1%E4%BA%AB%E5%BA%94%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%9B%9E%E8%B0%83" rel="nofollow">第三方应用共享应用事件回调</a>。当上游企业管理员在管理端分享(或解除分享)应用给下游企业后（若需要敏感权限需下游企业确认），会推送该事件给服务商。<br><a href="#12974/%E4%B8%8A%E4%B8%8B%E6%B8%B8%E5%85%B1%E4%BA%AB%E5%BA%94%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%9B%9E%E8%B0%83" rel="nofollow">自建应用共享应用事件回调</a>。当上游企业管理员在管理端分享(或解除分享)应用给下游企业后（若需要敏感权限需下游企业确认），会推送该事件给上游企业。<br></li><li><a href="#18271" rel="nofollow">版本变更事件</a><br>对于付费购买的第三方应用，上游企业付费等行为产生应用版本变更后，所有下游企业均会产生版本变更事件给服务商<br></li><li><a href="#12973" rel="nofollow">消息回调</a><br>第三方应用无变化；<br>对于自建应用，<strong>所有下游企业的回调消息均推送给上游企业的回调URL，而消息里面的企业信息是下游企业的信息。</strong></li></ul><h1 id="%E9%85%8D%E7%BD%AE%E5%8F%AF%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%BA%94%E7%94%A8" data-sign="38004c6853adb179e6bc773b5d4b5285" data-lines="2"><a class="anchor" href="#%E9%85%8D%E7%BD%AE%E5%8F%AF%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%BA%94%E7%94%A8"></a>配置可调用接口的应用</h1><p data-sign="3ac17fcb08b0429864e942abb5dd475f" data-type="p" data-lines="2">管理员进入企业微信管理后台后点击“客户与上下游”-“上下游”页面，点开“API”小按钮，在“可调用接口的应用”中选择自建应用，配置后该应用才可以调用上下游的接口。仅可配置一个应用<br><img src="images/97213/3cd1e837.png" alt="enter image description here"></p></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>