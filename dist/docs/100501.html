<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>概述 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        概述
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2024/11/28</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><dir class="toc" data-sign="0b5429168f4ed5f5e3e757e1480f3b76-1" data-lines="1"><p class="toc-title">目录</p><li class="toc-li"><a href="#%E7%9B%91%E5%90%AC%E7%94%A8%E6%88%B7%E5%88%86%E4%BA%AB%E6%93%8D%E4%BD%9C" class="level-2">监听用户分享操作</a></li><li class="toc-li"><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%94%A4%E8%B5%B7%E5%88%86%E4%BA%AB%E7%AA%97%E5%8F%A3" class="level-2">自定义唤起分享窗口</a></li><li class="toc-li"><a href="#id%E8%BD%AC%E8%AF%91" class="level-2">ID转译</a></li></dir><blockquote data-sign="ab16d89b133c8d426276b51e9415010c_2" data-lines="2">分享接口仅激活的成员数超过200人且已经认证的企业才可在微信上调用。</blockquote><h2 id="%E7%9B%91%E5%90%AC%E7%94%A8%E6%88%B7%E5%88%86%E4%BA%AB%E6%93%8D%E4%BD%9C" data-sign="9be73c39774b727416a06a3b1b326de1" data-lines="2"><a class="anchor" href="#%E7%9B%91%E5%90%AC%E7%94%A8%E6%88%B7%E5%88%86%E4%BA%AB%E6%93%8D%E4%BD%9C"></a>监听用户分享操作</h2><p data-sign="f7f11def1cbe469f587c6f0d69085595" data-type="p" data-lines="1">用于监听用户点击右上角按钮呼出底部菜单栏后，进行的分享类操作，包括点击“转发”，“分享给微信好友”，“分享到朋友圈”，并且支持自定义分享出去的内容。</p><h2 id="%E8%87%AA%E5%AE%9A%E4%B9%89%E5%94%A4%E8%B5%B7%E5%88%86%E4%BA%AB%E7%AA%97%E5%8F%A3" data-sign="32dacadf35e432825997f77c4fe38540" data-lines="2"><a class="anchor" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%94%A4%E8%B5%B7%E5%88%86%E4%BA%AB%E7%AA%97%E5%8F%A3"></a>自定义唤起分享窗口</h2><p data-sign="77ebf7f9e53f36db2bd884e3bc964cee" data-type="p" data-lines="2">主动触发分享代替用户的手动操作，包括“自定义转发到会话”， “自定义转发到微信”。</p><h2 id="id%E8%BD%AC%E8%AF%91" data-sign="c258f9c2110fafaea29d6c2738864804" data-lines="2"><a class="anchor" href="#id%E8%BD%AC%E8%AF%91"></a>ID转译</h2><p data-sign="5347e22a7728f6f3f48220046f4bfd09" data-type="p" data-lines="1">为保护用户数据安全，第三方应用无法获取到用户的姓名，部门名称等敏感信息。 对此分享接口对于第三方应用的使用提供了ID转译能力，第三方应用在填写自定义的分享信息时，如需展示人名或部门名等敏感信息，可使用转译语法。</p><blockquote data-sign="93418e85a5e0f588dde473e28dbecff6_3" data-lines="3">ID转译功能仅供<strong>第三方应用</strong>使用<br>企业微信版本 &gt;= 4.0.20<br>调用前必须使用应用身份进行注册才可开启id转译功能</blockquote><p data-sign="b727aefea9e764f879914eb8dc14d1d8" data-type="p" data-lines="1"><strong>id转译模版语法</strong></p><div data-sign="277eb724af94f79ee8c3c7382743ea20" data-type="codeBlock" data-lines="6">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line">$departmentName<span class="token operator">=</span><span class="token constant">DEPARTMENT_ID</span>$</span>
<span class="code-line">$userName<span class="token operator">=</span><span class="token constant">USERID</span>$</span>
<span class="code-line">$userAlias<span class="token operator">=</span><span class="token constant">USERID</span>$</span>
<span class="code-line">$userAliasOrName<span class="token operator">=</span><span class="token constant">USERID</span>$</span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="bb2be820de8dbf1661875842af848528" data-type="p" data-lines="6">其中 DEPARTMENT_ID 是数字类型的部门id，USERID 是<a href="#14953/userid" rel="nofollow">成员账号</a>。<br>譬如，<br>将<code>$departmentName=1$</code>替换成部门id为<code>1</code>对应的部门名，如“企业微信部”；<br>将<code>$userName=lisi007$</code>替换成userid为<code>lisi007</code>对应的用户姓名，如“李四”；<br>将<code>$userAlias=lisi007$</code>替换成userid为<code>lisi007</code>对应的用户别名，如“lisi”；<br>将<code>$userAliasOrName=lisi007$</code>替换成userid为<code>lisi007</code>对应的用户别名或姓名，别名优先级高于姓名，如"lisi"；</p><blockquote data-sign="afd108f80188a353bf1b7f79a0d0a2f4_2" data-lines="2">若输入的模板不符合语法、不在权限范围内或无效的userid或者部门ID，则不替换该项内容，保留原样<br>转译userAlias时，如果用户没有别名，则不替换该项内容，保留原样<br>转译userAliasOrName时，如果用户有别名，则替换为别名；否则，将替换为姓名</blockquote></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>