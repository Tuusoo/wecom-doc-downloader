<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>更新员工花名册信息 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        更新员工花名册信息
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2024/01/04</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><blockquote data-sign="b935cdb4f5097ec13a9aa8a2911ba4d4_2" data-lines="2">通过这个接口更新指定员工的花名册信息<br>调用参数中的字段id信息可以通过<a href="#48934/%E8%8E%B7%E5%8F%96%E5%91%98%E5%B7%A5%E5%AD%97%E6%AE%B5%E9%85%8D%E7%BD%AE" rel="nofollow">获取员工字段配置</a>接口获取<br>有一些字段不支持更新，参考<a href="#forbidden_fields" rel="nofollow">不支持更新字段表</a></blockquote><p data-sign="a36c7e534db8ce275ec7419c0a3cefd8" data-type="p" data-lines="3"><strong>请求方式：</strong>POST(<strong>HTTPS</strong>)<br><strong>请求地址：</strong>https://qyapi.weixin.qq.com/cgi-bin/hr/update_staff_info?access_token=ACCESS_TOKEN</p><p data-sign="382edfac6a8b56ec46332834f416136e" data-type="p" data-lines="1"><strong>请求包体：</strong></p><div data-sign="e4ca2c16b764523bf1d7b9ded5435bec" data-type="codeBlock" data-lines="60">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"userid"</span><span class="token operator">:</span><span class="token string">"xxxxx"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"update_items"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"fieldid"</span><span class="token operator">:</span><span class="token number">11020</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"value_string"</span><span class="token operator">:</span><span class="token string">"xxxxx"</span></span>
<span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"fieldid"</span><span class="token operator">:</span><span class="token number">17003</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"value_mobile"</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="code-line">				<span class="token string">"value_mobile_country_code"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"value_mobile"</span><span class="token operator">:</span><span class="token string">"xxxxxxxx"</span></span>
<span class="code-line">			<span class="token punctuation">}</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">	<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"remove_items"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"group_type"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">1</span></span>
<span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"group_type"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">2</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">	<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"insert_items"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"group_type"</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"item"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">				<span class="token punctuation">{</span></span>
<span class="code-line">					<span class="token string">"fieldid"</span><span class="token operator">:</span><span class="token number">17001</span><span class="token punctuation">,</span></span>
<span class="code-line">					<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">					<span class="token string">"value_string"</span><span class="token operator">:</span><span class="token string">"孙悟空"</span></span>
<span class="code-line">				<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token punctuation">{</span></span>
<span class="code-line">					<span class="token string">"fieldid"</span><span class="token operator">:</span><span class="token number">17002</span><span class="token punctuation">,</span></span>
<span class="code-line">					<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">					<span class="token string">"value_uint32"</span><span class="token operator">:</span><span class="token number">1</span></span>
<span class="code-line">				<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token punctuation">{</span></span>
<span class="code-line">					<span class="token string">"fieldid"</span><span class="token operator">:</span><span class="token number">17003</span><span class="token punctuation">,</span></span>
<span class="code-line">					<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">					<span class="token string">"value_mobile"</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="code-line">						<span class="token string">"value_country_code"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span></span>
<span class="code-line">						<span class="token string">"value_mobile"</span><span class="token operator">:</span><span class="token string">"xxxxxxxx"</span></span>
<span class="code-line">					<span class="token punctuation">}</span></span>
<span class="code-line">				<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token punctuation">{</span></span>
<span class="code-line">					<span class="token string">"fieldid"</span><span class="token operator">:</span><span class="token number">17004</span><span class="token punctuation">,</span></span>
<span class="code-line">					<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">					<span class="token string">"value_string"</span><span class="token operator">:</span><span class="token string">"娜美克星"</span></span>
<span class="code-line">				<span class="token punctuation">}</span></span>
<span class="code-line">			<span class="token punctuation">]</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">	<span class="token punctuation">]</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="06736ddf8975900c417b7b17dcd10d01" data-lines="7">
        <table class="cherry-table"><thead><tr><th>参数</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>access_token</td><td>是</td><td>调用接口凭证</td></tr><tr><td>userid</td><td>是</td><td>需要更新花名册信息的员工的userid<br>该员工需要在调用应用的可见范围内，否则将返回错误码</td></tr><tr><td>update_items</td><td>否</td><td>需要更新、增加或清空单个字段的内容，参考<a href="#update_items" rel="nofollow">更新字段说明</a>。<br>有一些字段不支持更新，参考<a href="#forbidden_fields" rel="nofollow">不支持更新字段表</a>。<br>这个字段和remove_items、insert_items字段不能全部为空</td></tr><tr><td>remove_items</td><td>否</td><td>可重复的字段组(参考<a href="#multigroup" rel="nofollow">可重复字段组列表</a>)中需要整组字段进行删除的字段组，参考<a href="#remove_items" rel="nofollow">删除字段说明</a>。<br>这个字段和update_items、insert_items字段不能全部为空</td></tr><tr><td>insert_items</td><td>否</td><td>可重复的字段组(参考<a href="#multigroup" rel="nofollow">可重复字段组列表</a>)中需要增加一组字段的字段组，参考<a href="#addfield_items" rel="nofollow">增加字段说明</a>。<br>这个字段和update_items、remove_items字段不能全部为空</td></tr></tbody></table></div><p data-sign="31d996ccc0446e28a926f0793e679036" data-type="p" data-lines="1"><span id="multigroup"><strong>可重复字段组列表：</strong></span></p><div class="cherry-table-container" data-sign="0f2ec12de7557d840d91d40a5a9cdbd7" data-lines="7">
        <table class="cherry-table"><thead><tr><th>编号</th><th>名称</th></tr></thead><tbody><tr><td>1</td><td>教育经历</td></tr><tr><td>2</td><td>工作经历</td></tr><tr><td>3</td><td>家庭成员</td></tr><tr><td>4</td><td>紧急联系人</td></tr><tr><td>5</td><td>合同信息</td></tr></tbody></table></div><p data-sign="35a397de89adcc424187a5c2df2aa44b" data-type="p" data-lines="1"><span id="update_items"><strong>更新字段说明：</strong></span></p><div class="cherry-table-container" data-sign="e0fd902305bfc515c2b8e7784d4dd2c9" data-lines="5">
        <table class="cherry-table"><thead><tr><th>参数</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>fieldid</td><td>是</td><td>字段id</td></tr><tr><td>sub_idx</td><td>否</td><td>可重复组中的字段下标，非可重复组中的字段时需要填0</td></tr><tr><td>value_xxxxx</td><td>否</td><td>需要更新、增加或清空的员工信息字段内容。<br>根据员工信息字段的类型，需要填写的这个字段的名称和类型也不同，参考<a href="#value_type" rel="nofollow">字段值类型对照表</a>。<br>除了对应的字段外，在其他字段填写的内容将被忽略。</td></tr></tbody></table></div><p data-sign="9a80d21924fe77b044183e24bc669472" data-type="p" data-lines="1"><span id="forbidden_fields"><strong>不支持更新字段表：</strong></span></p><blockquote data-sign="d02bc1cc501ba7c9d3da489b99975660_1" data-lines="1">以字段id为准</blockquote><div class="cherry-table-container" data-sign="f7ace5f87f84fdb552b125679566fa8e" data-lines="5">
        <table class="cherry-table"><thead><tr><th>名称</th><th>字段id</th></tr></thead><tbody><tr><td>年龄</td><td>11006</td></tr><tr><td>社会工龄</td><td>11012</td></tr><tr><td>员工状态</td><td>12004</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="e7f0167ee28e295703c8264dce4c082c" data-type="p" data-lines="1"><span id="remove_items"><strong>删除字段说明：</strong></span></p><div class="cherry-table-container" data-sign="2da537dba55333886d1cf02e65e7b6d0" data-lines="4">
        <table class="cherry-table"><thead><tr><th>参数</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>group_type</td><td>是</td><td>需要删除的字段组类型，参考<a href="#multigroup" rel="nofollow">可重复字段组列表</a></td></tr><tr><td>sub_idx</td><td>是</td><td>需要删除的是第几组字段</td></tr></tbody></table></div><p data-sign="7efdbc2ef0fc4d7ea6b7e39326ff0de5" data-type="p" data-lines="1"><span id="insert_items"><strong>增加字段说明：</strong></span></p><div class="cherry-table-container" data-sign="8d05a2ae9a5c0cd76fd824a83b8ba385" data-lines="4">
        <table class="cherry-table"><thead><tr><th>参数</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>group_type</td><td>是</td><td>需要增加的字段组类型，参考<a href="#multigroup" rel="nofollow">可重复字段组列表</a></td></tr><tr><td>item</td><td>否</td><td>列表，需要增加的字段内容；<br>填写要求与<a href="#update_items" rel="nofollow">更新字段说明</a>相同，但sub_idx字段的内容将被忽略；<br>没有找到对应字段id的字段内容将被忽略。</td></tr></tbody></table></div><p data-sign="aade0071878cfd2e9131411a7cc5f69b" data-type="p" data-lines="1"><span id="value_type"><strong>字段值类型对照表：</strong></span></p><div class="cherry-table-container" data-sign="b2b5563e2bc778936a866c3588d19ffe" data-lines="7">
        <table class="cherry-table"><thead><tr><th>字段类型</th><th>对应的内容字段名称</th><th>对应的内容字段类型</th></tr></thead><tbody><tr><td>字符串</td><td>value_string</td><td>字符串</td></tr><tr><td>64位非负整数</td><td>value_uint64</td><td>非负整数</td></tr><tr><td>32位非负整数</td><td>value_uint32</td><td>非负整数</td></tr><tr><td>64位整数</td><td>value_int64</td><td>整数</td></tr><tr><td>电话号码</td><td>value_mobile</td><td>参考<a href="#value_mobile" rel="nofollow">电话号码类型字段结构</a></td></tr></tbody></table></div><p data-sign="d0b656f1841b5fbe8a26093707af9587" data-type="p" data-lines="1"><span id="value_mobile"><strong>电话号码类型字段结构：</strong></span></p><div class="cherry-table-container" data-sign="8e780dd3d104f8ca25b1a1cc4ac31d91" data-lines="4">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>value_country_code</td><td>字符串，表示电话号码的区号</td></tr><tr><td>value_mobile</td><td>字符串，表示电话号码<br>这个字段如果不填/填写空串，则视为整个电话号码字段传入为空</td></tr></tbody></table></div><p data-sign="e55ffd6653a9fbc9311a049032451909" data-type="p" data-lines="1"><strong>返回数据：</strong></p><div data-sign="f6d5169b83357763d49f53582a8ea4e9" data-type="codeBlock" data-lines="27">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"errcode"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"errmsg"</span><span class="token operator">:</span><span class="token string">"ok"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"update_results"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"fieldid"</span><span class="token operator">:</span><span class="token number">11001</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"result"</span><span class="token operator">:</span><span class="token number">1</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">	<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"remove_results"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"group_type"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"sub_idx"</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"result"</span><span class="token operator">:</span><span class="token number">3</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">	<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"insert_result"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"group_type"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"idx"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"result"</span><span class="token operator">:</span><span class="token number">4</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">	<span class="token punctuation">]</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="badcd1575402d1f87ca5d12f721eceb7" data-lines="19">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>errcode</td><td>返回码</td></tr><tr><td>errmsg</td><td>对返回码的文本描述</td></tr><tr><td>---</td><td>---</td></tr><tr><td>update_results</td><td>更新字段的结果</td></tr><tr><td>update_results.fieldid</td><td>尝试更新的字段id</td></tr><tr><td>update_results.sub_idx</td><td>尝试更新的字段下标</td></tr><tr><td>update_results.result</td><td>更新的结果，参考<a href="#result" rel="nofollow">结果类型对照表</a></td></tr><tr><td>---</td><td>---</td></tr><tr><td>remove_results</td><td>删除字段组的结果</td></tr><tr><td>remove_results.group_type</td><td>尝试删除的字段组类型</td></tr><tr><td>remove_results.sub_idx</td><td>尝试删除的字段组下标</td></tr><tr><td>remove_results.result</td><td>删除的结果，参考<a href="#result" rel="nofollow">结果类型对照表</a></td></tr><tr><td>---</td><td>---</td></tr><tr><td>insert_results</td><td>增加字段组的结果</td></tr><tr><td>insert_results.group_type</td><td>尝试增加的字段组类型</td></tr><tr><td>insert_results.idx</td><td>尝试增加的字段组输入时的下标</td></tr><tr><td>insert_results.result</td><td>增加的结果，参考<a href="#result" rel="nofollow">结果类型对照表</a></td></tr></tbody></table></div><p data-sign="540c85788113bf2175a9b92f2217b7c2" data-type="p" data-lines="1"><span id="result"><strong>结果类型对照表：</strong></span></p><div class="cherry-table-container" data-sign="2feb9b2811d6775fbf0a1f775a576d00" data-lines="7">
        <table class="cherry-table"><thead><tr><th>参数</th><th>结果类型</th></tr></thead><tbody><tr><td>1</td><td>成功</td></tr><tr><td>2</td><td>失败</td></tr><tr><td>3</td><td>未找到的字段id/字段下标</td></tr><tr><td>4</td><td>必填字段未填写/被清空</td></tr><tr><td>5</td><td>不支持更新的字段类型</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>