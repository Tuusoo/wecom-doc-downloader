<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>接收消息和事件 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        接收消息和事件
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2024/12/23</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><dir class="toc" data-sign="2bb72186794ff09fb2c6a2887331daae-1" data-lines="1"><p class="toc-title">目录</p><li class="toc-li"><a href="#%E6%A6%82%E8%BF%B0" class="level-1">概述</a></li><li class="toc-li"><a href="#%E5%9B%9E%E8%B0%83%E4%BA%8B%E4%BB%B6" class="level-1">回调事件</a></li><li class="toc-li"><a href="#%E8%AF%BB%E5%8F%96%E6%B6%88%E6%81%AF" class="level-1">读取消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89" class="level-2">接口定义</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%B6%88%E6%81%AF%E7%B1%BB%E5%9E%8B" class="level-2">消息类型</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%96%87%E6%9C%AC%E6%B6%88%E6%81%AF" class="level-3">文本消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E5%9B%BE%E7%89%87%E6%B6%88%E6%81%AF" class="level-3">图片消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E8%AF%AD%E9%9F%B3%E6%B6%88%E6%81%AF" class="level-3">语音消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E8%A7%86%E9%A2%91%E6%B6%88%E6%81%AF" class="level-3">视频消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF" class="level-3">文件消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E4%BD%8D%E7%BD%AE%E6%B6%88%E6%81%AF" class="level-3">位置消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E9%93%BE%E6%8E%A5%E6%B6%88%E6%81%AF" class="level-3">链接消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E5%90%8D%E7%89%87%E6%B6%88%E6%81%AF" class="level-3">名片消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B6%88%E6%81%AF" class="level-3">小程序消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E8%8F%9C%E5%8D%95%E6%B6%88%E6%81%AF" class="level-3">菜单消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E8%A7%86%E9%A2%91%E5%8F%B7%E5%95%86%E5%93%81%E6%B6%88%E6%81%AF" class="level-3">视频号商品消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E8%A7%86%E9%A2%91%E5%8F%B7%E8%AE%A2%E5%8D%95%E6%B6%88%E6%81%AF" class="level-3">视频号订单消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E8%81%8A%E5%A4%A9%E8%AE%B0%E5%BD%95%E6%B6%88%E6%81%AF" class="level-3">聊天记录消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E8%A7%86%E9%A2%91%E5%8F%B7%E6%B6%88%E6%81%AF" class="level-3">视频号消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E4%BC%9A%E8%AE%AE%E6%B6%88%E6%81%AF" class="level-3">会议消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%97%A5%E7%A8%8B%E6%B6%88%E6%81%AF" class="level-3">日程消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E7%AC%94%E8%AE%B0%E6%B6%88%E6%81%AF" class="level-3">笔记消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E4%BA%8B%E4%BB%B6%E6%B6%88%E6%81%AF" class="level-3">事件消息</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E7%94%A8%E6%88%B7%E8%BF%9B%E5%85%A5%E4%BC%9A%E8%AF%9D%E4%BA%8B%E4%BB%B6" class="level-4">用户进入会话事件</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%B6%88%E6%81%AF%E5%8F%91%E9%80%81%E5%A4%B1%E8%B4%A5%E4%BA%8B%E4%BB%B6" class="level-4">消息发送失败事件</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%8E%A5%E5%BE%85%E4%BA%BA%E5%91%98%E6%8E%A5%E5%BE%85%E7%8A%B6%E6%80%81%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" class="level-4">接待人员接待状态变更事件</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E4%BC%9A%E8%AF%9D%E7%8A%B6%E6%80%81%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" class="level-4">会话状态变更事件</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E7%94%A8%E6%88%B7%E6%92%A4%E5%9B%9E%E6%B6%88%E6%81%AF%E4%BA%8B%E4%BB%B6" class="level-4">用户撤回消息事件</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%8E%A5%E5%BE%85%E4%BA%BA%E5%91%98%E6%92%A4%E5%9B%9E%E6%B6%88%E6%81%AF%E4%BA%8B%E4%BB%B6" class="level-4">接待人员撤回消息事件</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E6%8B%92%E6%94%B6%E5%AE%A2%E6%88%B7%E6%B6%88%E6%81%AF%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" class="level-4">拒收客户消息变更事件</a></li></dir><h1 id="%E6%A6%82%E8%BF%B0" data-sign="87e604caed8185ceee87dc50e1676ad9" data-lines="1"><a class="anchor" href="#%E6%A6%82%E8%BF%B0"></a>概述</h1><p data-sign="2125732a4a2f28bdf5c653b65cc011d3" data-type="p" data-lines="1">当微信客户、接待人员发消息或有行为动作时，企业微信后台会将事件的回调数据包发送到企业指定URL；企业收到请求后，再通过读取消息接口主动读取具体的消息内容。</p><h1 id="%E5%9B%9E%E8%B0%83%E4%BA%8B%E4%BB%B6" data-sign="0127384bfd750ce3e55c5a89f5c73c65" data-lines="2"><a class="anchor" href="#%E5%9B%9E%E8%B0%83%E4%BA%8B%E4%BB%B6"></a>回调事件</h1><p data-sign="78a9fa93481b013bebbbb1ba00ba0ba2" data-type="p" data-lines="2">接收并解析事件的方法见：<a href="#12977" rel="nofollow">接收事件</a>。<br><strong>示例</strong></p><div data-sign="2680201c3af0bf8691ad4529c2075810" data-type="codeBlock" data-lines="10">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>ww12345678910<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1348831860</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>kf_msg_or_event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>Token<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>ENCApHxnGDNAVNY4AaSJKj4Tb5mwsEMzxhFmHVGcra996NR<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Token<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>OpenKfId<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>wkxxxxxxx<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>OpenKfId<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="c6247c0bd51e035939c487df6d2a61cd" data-type="p" data-lines="1"><strong>说明</strong></p><div class="cherry-table-container" data-sign="b886dda3ecfdf79294046d5c9ac51cc3" data-lines="8">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>CreateTime</td><td>消息创建时间，unix时间戳</td></tr><tr><td>MsgType</td><td>消息的类型，此时固定为：event</td></tr><tr><td>Event</td><td>事件的类型，此时固定为：kf_msg_or_event</td></tr><tr><td>Token</td><td>调用拉取消息接口时，需要传此token，用于校验请求的合法性</td></tr><tr><td>OpenKfId</td><td>有新消息的客服账号。可通过sync_msg接口指定<code>open_kfid</code>获取此客服账号的消息</td></tr></tbody></table></div><h1 id="%E8%AF%BB%E5%8F%96%E6%B6%88%E6%81%AF" data-sign="434003e3e4f22200a54cca92e8796c70" data-lines="2"><a class="anchor" href="#%E8%AF%BB%E5%8F%96%E6%B6%88%E6%81%AF"></a>读取消息</h1><p data-sign="49a24ac89f067f5114e0f2187e564f21" data-type="p" data-lines="2">微信客户发送的消息、接待人员在企业微信回复的消息、<a href="#25217" rel="nofollow">发送消息</a>接口发送失败事件（如被用户拒收）、客户点击菜单消息的回复消息，可以通过该接口获取<strong>最近3天内</strong>具体的消息内容和事件。<strong>不支持读取通过发送消息接口发送的消息</strong>。<br>支持的消息类型：文本、图片、语音、视频、文件、位置、链接、名片、小程序、菜单、事件。</p><p data-sign="b2da2e48ca97c9e3e85c317c9f5f4234" data-type="p" data-lines="1">图片、语音、视频、文件消息的媒体文件有如下大小限制，超出会获取到文本提示消息：</p><ul data-sign="83cf49c6e249a3bf8cf4ef7044c686aclist4" data-lines="4" class="cherry-list__default"><li>图片：2MB</li><li>语音：2MB</li><li>视频：10MB</li><li>文件：20MB</li></ul><h2 id="%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89" data-sign="b0c4fa5af57e92d8d68dedac05f1ccfe" data-lines="2"><a class="anchor" href="#%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89"></a>接口定义</h2><p data-sign="e5e497cf3fd1a47ad71cb34e45752707" data-type="p" data-lines="1"><strong>请求方式</strong>: POST(<strong>HTTPS</strong>)</p><p data-sign="72f6d852060bd369dbd158570c6b61e0" data-type="p" data-lines="2"><strong>请求地址:</strong> https://qyapi.weixin.qq.com/cgi-bin/kf/sync_msg?access_token=ACCESS_TOKEN</p><p data-sign="8b8b131af4d7916d08149d0729990346" data-type="p" data-lines="2"><strong>请求示例</strong></p><div data-sign="4b588f4b3dfa53a315d8e73d07aec1de" data-type="codeBlock" data-lines="10">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token property">"cursor"</span><span class="token operator">:</span> <span class="token string">"4gw7MepFLfgF2VC5npN"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"token"</span><span class="token operator">:</span> <span class="token string">"ENCApHxnGDNAVNY4AaSJKj4Tb5mwsEMzxhFmHVGcra996NR"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"limit"</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"voice_format"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"open_kfid"</span><span class="token operator">:</span> <span class="token string">"wkxxxxxx"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="aa23204fbe4fd4230ddbc285930d9e58" data-type="p" data-lines="2"><strong>参数说明</strong>:</p><div class="cherry-table-container" data-sign="d8f6198a8bd4cccefe08f526e5938121" data-lines="8">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">必须</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">access_token</td><td align="left">是</td><td align="left">string</td><td align="left">调用接口凭证</td></tr><tr><td align="left">cursor</td><td align="left">否</td><td align="left">string</td><td align="left">上一次调用时返回的next_cursor，第一次拉取可以不填。若不填，从3天内最早的消息开始返回。<br>不多于64字节</td></tr><tr><td align="left">token</td><td align="left">否</td><td align="left">string</td><td align="left">回调事件返回的<code>token</code>字段，10分钟内有效；可不填，如果不填接口有严格的频率限制。<br>不多于128字节</td></tr><tr><td align="left">limit</td><td align="left">否</td><td align="left">uint32</td><td align="left">期望请求的数据量，默认值和最大值都为1000。<br><b>注意：可能会出现返回条数少于limit的情况，需结合返回的<code>has_more</code>字段判断是否继续请求。</b></td></tr><tr><td align="left">voice_format</td><td align="left">否</td><td align="left">uint32</td><td align="left">语音消息类型，0-Amr 1-Silk，默认0。可通过该参数控制返回的语音格式，开发者可按需选择自己程序支持的一种格式</td></tr><tr><td align="left">open_kfid</td><td align="left">是</td><td align="left">string</td><td align="left">指定拉取某个客服账号的消息</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="3e8ede653238c7aeddbd80981443beee" data-type="p" data-lines="2"><strong>权限说明</strong>:<br>调用的应用需要满足如下的权限</p><div class="cherry-table-container" data-sign="7f1822643198bbe857a7299fe633f89c" data-lines="5">
        <table class="cherry-table"><thead><tr><th>应用类型</th><th>权限要求</th></tr></thead><tbody><tr><td>自建应用</td><td>配置到「 <a href="#31106/%E5%A6%82%E4%BD%95%E5%BC%80%E5%90%AFAPI" rel="nofollow">微信客服- 可调用接口的应用</a>」中</td></tr><tr><td>第三方应用</td><td>具有<span style="color:#ff0000">“微信客服-&gt;管理账号、分配会话和收发消息”</span>权限</td></tr><tr><td>代开发自建应用</td><td>具有<span style="color:#ff0000">“微信客服-&gt;管理账号、分配会话和收发消息”</span>权限</td></tr></tbody></table></div><p data-sign="4500ae644890b2a3e6568b5481167358" data-type="p" data-lines="1"><em>注：</em> 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 <a href="https://developer.work.weixin.qq.com/document/51165" rel="nofollow">查看详情</a></p><ul data-sign="ddb7fd3e78a3fe37494333df84c8913clist2" data-lines="2" class="cherry-list__default"><li><span style="color:#ff0000">只能通过API管理企业指定的客服账号。</span>企业可在管理后台“微信客服-通过API管理微信客服账号”处设置对应的客服账号通过API来管理。</li><li><span style="color:#ff0000">操作的客服账号对应的接待人员应在应用的可见范围内</span></li></ul><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="25ff3159d1dae3e8ef08523b3dd72cc2" data-type="p" data-lines="1"><strong>返回结果</strong>:</p><div data-sign="181d450046664ed106bfab029ee57502" data-type="codeBlock" data-lines="19">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token property">"errcode"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"errmsg"</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"next_cursor"</span><span class="token operator">:</span> <span class="token string">"4gw7MepFLfgF2VC5npN"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token property">"has_more"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"msg_list"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">        <span class="token punctuation">{</span></span>
<span class="code-line">            <span class="token property">"msgid"</span><span class="token operator">:</span> <span class="token string">"from_msgid_4622416642169452483"</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"open_kfid"</span><span class="token operator">:</span> <span class="token string">"wkAJ2GCAAASSm4_FhToWMFea0xAFfd3Q"</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"external_userid"</span><span class="token operator">:</span> <span class="token string">"wmAJ2GCAAAme1XQRC-NI-q0_ZM9ukoAw"</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"send_time"</span><span class="token operator">:</span> <span class="token number">1615478585</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"origin"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token property">"servicer_userid"</span><span class="token operator">:</span> <span class="token string">"Zhangsan"</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"msgtype"</span><span class="token operator">:</span> <span class="token string">"MSG_TYPE"</span></span>
<span class="code-line">        <span class="token punctuation">}</span></span>
<span class="code-line">    <span class="token punctuation">]</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="aa23204fbe4fd4230ddbc285930d9e58" data-type="p" data-lines="1"><strong>参数说明</strong>:</p><div class="cherry-table-container" data-sign="90f31b7f801e7bd7d52771840b621cc3" data-lines="14">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">errcode</td><td align="left">int32</td><td align="left">返回码</td></tr><tr><td align="left">errmsg</td><td align="left">string</td><td align="left">错误码描述</td></tr><tr><td align="left">next_cursor</td><td align="left">string</td><td align="left">下次调用带上该值，则从当前的位置继续往后拉，以实现增量拉取。<br><font color="red">强烈建议对该字段入库保存，每次请求读取带上，请求结束后更新。避免因意外丢，导致必须从头开始拉取，引起消息延迟。</font></td></tr><tr><td align="left">has_more</td><td align="left">uint32</td><td align="left">是否还有更多数据。0-否；1-是。<br><strong>不能通过判断msg_list是否空来停止拉取</strong>，可能会出现has_more为1，而msg_list为空的情况</td></tr><tr><td align="left">msg_list</td><td align="left">obj[]</td><td align="left">消息列表</td></tr><tr><td align="left">msg_list.msgid</td><td align="left">string</td><td align="left">消息ID</td></tr><tr><td align="left">msg_list.open_kfid</td><td align="left">string</td><td align="left">客服账号ID（<code>msgtype</code>为event，该字段不返回）</td></tr><tr><td align="left">msg_list.external_userid</td><td align="left">string</td><td align="left">客户UserID（<code>msgtype</code>为event，该字段不返回）</td></tr><tr><td align="left">msg_list.send_time</td><td align="left">uint64</td><td align="left">消息发送时间</td></tr><tr><td align="left">msg_list.origin</td><td align="left">uint32</td><td align="left">消息来源。3-微信客户发送的消息 4-系统推送的事件消息 5-接待人员在企业微信客户端发送的消息</td></tr><tr><td align="left">msg_list.servicer_userid</td><td align="left">string</td><td align="left">从企业微信给客户发消息的接待人员userid（即仅<code>origin</code>为5才返回；<code>msgtype</code>为event，该字段不返回）</td></tr><tr><td align="left">msg_list.msgtype</td><td align="left">string</td><td align="left">对不同的msgtype，有相应的结构描述，下面进一步说明</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h2 id="%E6%B6%88%E6%81%AF%E7%B1%BB%E5%9E%8B" data-sign="770eda0a918142e2f2cb206a05d6743a" data-lines="1"><a class="anchor" href="#%E6%B6%88%E6%81%AF%E7%B1%BB%E5%9E%8B"></a>消息类型</h2><h3 id="%E6%96%87%E6%9C%AC%E6%B6%88%E6%81%AF" data-sign="00bd5ad70e6a422c73658a35dc95c3a7" data-lines="1"><a class="anchor" href="#%E6%96%87%E6%9C%AC%E6%B6%88%E6%81%AF"></a>文本消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="b7cd7406d6f9bb774a6aa25bff1512fc" data-type="codeBlock" data-lines="10">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"text"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"content"</span> <span class="token operator">:</span> <span class="token string">"hello world"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"menu_id"</span> <span class="token operator">:</span> <span class="token string">"101"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="7659390cfe50906b5e8066cc00dcbc45" data-lines="6">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：text</td></tr><tr><td>text</td><td>obj</td><td>文本消息</td></tr><tr><td>text.content</td><td>string</td><td>文本内容</td></tr><tr><td>text.menu_id</td><td>string</td><td>客户点击<a href="#25217/%E8%8F%9C%E5%8D%95%E6%B6%88%E6%81%AF" rel="nofollow">菜单消息</a>，触发的回复消息中附带的菜单ID</td></tr></tbody></table></div><h3 id="%E5%9B%BE%E7%89%87%E6%B6%88%E6%81%AF" data-sign="0183c545485256ae58601a39f80fb0c4" data-lines="1"><a class="anchor" href="#%E5%9B%BE%E7%89%87%E6%B6%88%E6%81%AF"></a>图片消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="fbcae403be225aa2f2f11901702681ae" data-type="codeBlock" data-lines="9">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"image"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"image"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"media_id"</span> <span class="token operator">:</span> <span class="token string">"2iSLeVyqzk4eX0IB5kTi9Ljfa2rt9dwfq5WKRQ4Nvvgw"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="0dd7ab944c19352e887cffc5620b2d32" data-lines="5">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：image</td></tr><tr><td>image</td><td>obj</td><td>图片消息</td></tr><tr><td>image.media_id</td><td>string</td><td>图片文件id</td></tr></tbody></table></div><h3 id="%E8%AF%AD%E9%9F%B3%E6%B6%88%E6%81%AF" data-sign="582e7c6ac7be4c42bda7bc0e11b34134" data-lines="1"><a class="anchor" href="#%E8%AF%AD%E9%9F%B3%E6%B6%88%E6%81%AF"></a>语音消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="9d40b3d890688e0c46ac881e9ef16cfa" data-type="codeBlock" data-lines="9">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"voice"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"voice"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"media_id"</span> <span class="token operator">:</span> <span class="token string">"2iSLeVyqzk4eX0IB5kTi9Ljfa2rt9dwfq5WKRQ4Nvvgw"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="7343194aee8f52acb2c5fbcb8e8986e7" data-lines="5">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：voice</td></tr><tr><td>voice</td><td>obj</td><td>语音消息</td></tr><tr><td>voice.media_id</td><td>string</td><td>语音文件ID</td></tr></tbody></table></div><h3 id="%E8%A7%86%E9%A2%91%E6%B6%88%E6%81%AF" data-sign="ea3bd634d7479c7f78da99c830033997" data-lines="1"><a class="anchor" href="#%E8%A7%86%E9%A2%91%E6%B6%88%E6%81%AF"></a>视频消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="398b2ef95c7570ca5aef285207e58ff0" data-type="codeBlock" data-lines="9">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"video"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"video"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"media_id"</span> <span class="token operator">:</span> <span class="token string">"2iSLeVyqzk4eX0IB5kTi9Ljfa2rt9dwfq5WKRQ4Nvvgw"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="f44321f09b5eda9047de7afd56d1d28b" data-lines="5">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：video</td></tr><tr><td>video</td><td>obj</td><td>视频消息</td></tr><tr><td>video.media_id</td><td>string</td><td>文件id</td></tr></tbody></table></div><h3 id="%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF" data-sign="4a62a41fa95c6c5da0265acdc16b2c4d" data-lines="1"><a class="anchor" href="#%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF"></a>文件消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="3d6614548261d6ee85370dbc9d2c62c0" data-type="codeBlock" data-lines="9">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"file"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"file"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"media_id"</span> <span class="token operator">:</span> <span class="token string">"2iSLeVyqzk4eX0IB5kTi9Ljfa2rt9dwfq5WKRQ4Nvvgw"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="575ca551a858301f9e0975433cb37954" data-type="p" data-lines="2"><strong>参数说明：</strong><br>  </p><div class="cherry-table-container" data-sign="2c8f5a1848b9c4d8ba2150bcb744e14f" data-lines="5">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：file</td></tr><tr><td>file</td><td>obj</td><td>文件消息</td></tr><tr><td>file.media_id</td><td>string</td><td>文件id</td></tr></tbody></table></div><h3 id="%E4%BD%8D%E7%BD%AE%E6%B6%88%E6%81%AF" data-sign="453934678423c7a2ca7f837c3b67938a" data-lines="1"><a class="anchor" href="#%E4%BD%8D%E7%BD%AE%E6%B6%88%E6%81%AF"></a>位置消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="aa87c634d51daaf9e79202fe089ad10a" data-type="codeBlock" data-lines="12">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"location"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"location"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"latitude"</span><span class="token operator">:</span> <span class="token number">23.106021881103501</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"longitude"</span><span class="token operator">:</span> <span class="token number">113.320503234863</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"广州国际媒体港(广州市海珠区)"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"address"</span><span class="token operator">:</span> <span class="token string">"广东省广州市海珠区滨江东路"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="172d5c6959508972d595876e41f3adc0" data-lines="8">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：location</td></tr><tr><td>location</td><td>obj</td><td>地理位置消息</td></tr><tr><td>location.latitude</td><td>float</td><td>纬度</td></tr><tr><td>location.longitude</td><td>float</td><td>经度</td></tr><tr><td>location.name</td><td>string</td><td>位置名</td></tr><tr><td>location.address</td><td>string</td><td>地址详情说明</td></tr></tbody></table></div><h3 id="%E9%93%BE%E6%8E%A5%E6%B6%88%E6%81%AF" data-sign="d3133bffb36f92cda82fb6f95545900e" data-lines="2"><a class="anchor" href="#%E9%93%BE%E6%8E%A5%E6%B6%88%E6%81%AF"></a>链接消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="5753b2e145f2b98bd551df8875b262cd" data-type="codeBlock" data-lines="12">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"link"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"link"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"TITLE"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"desc"</span><span class="token operator">:</span> <span class="token string">"DESC"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"url"</span><span class="token operator">:</span> <span class="token string">"URL"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"pic_url"</span><span class="token operator">:</span> <span class="token string">"PIC_URL"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="83a69fdb05de550b9ba97d64cad45ab3" data-lines="8">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：link</td></tr><tr><td>link</td><td>obj</td><td>链接消息</td></tr><tr><td>link.title</td><td>string</td><td>标题</td></tr><tr><td>link.desc</td><td>string</td><td>描述</td></tr><tr><td>link.url</td><td>string</td><td>点击后跳转的链接</td></tr><tr><td>link.pic_url</td><td>string</td><td>缩略图链接</td></tr></tbody></table></div><h3 id="%E5%90%8D%E7%89%87%E6%B6%88%E6%81%AF" data-sign="233988ec92a128f7a38bddc0a5436d39" data-lines="2"><a class="anchor" href="#%E5%90%8D%E7%89%87%E6%B6%88%E6%81%AF"></a>名片消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="ad4805e9d3c290b7311d0939cb652d85" data-type="codeBlock" data-lines="9">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"business_card"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"business_card"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"userid"</span><span class="token operator">:</span> <span class="token string">"USERID"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="3cc2e23fe3a52b048f0e120bfa4f90ea" data-lines="5">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：business_card</td></tr><tr><td>business_card</td><td>obj</td><td>名片消息</td></tr><tr><td>business_card.userid</td><td>string</td><td>名片userid</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h3 id="%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B6%88%E6%81%AF" data-sign="29252bbb55865441385d1848cafdaa40" data-lines="1"><a class="anchor" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B6%88%E6%81%AF"></a>小程序消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="624541df9e2a3f2d1fbe3376d0543607" data-type="codeBlock" data-lines="12">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"miniprogram"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"miniprogram"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"TITLE"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"appid"</span><span class="token operator">:</span> <span class="token string">"APPID"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"pagepath"</span><span class="token operator">:</span> <span class="token string">"PAGE_PATH"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"thumb_media_id"</span><span class="token operator">:</span> <span class="token string">"THUMB_MEDIA_ID"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="f11ee00592c2226b07adb8e8bb22085c" data-lines="8">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：miniprogram</td></tr><tr><td>miniprogram</td><td>obj</td><td>小程序消息</td></tr><tr><td>miniprogram.title</td><td>string</td><td>标题</td></tr><tr><td>miniprogram.appid</td><td>string</td><td>小程序appid</td></tr><tr><td>miniprogram.pagepath</td><td>string</td><td>点击消息卡片后进入的小程序页面路径</td></tr><tr><td>miniprogram.thumb_media_id</td><td>string</td><td>小程序消息封面的mediaid</td></tr></tbody></table></div><h3 id="%E8%8F%9C%E5%8D%95%E6%B6%88%E6%81%AF" data-sign="ad37a88ccbf5f339afee0ec818cb49bc" data-lines="2"><a class="anchor" href="#%E8%8F%9C%E5%8D%95%E6%B6%88%E6%81%AF"></a>菜单消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="d2ce037f79041fdbc3a410de50837e1a" data-type="codeBlock" data-lines="45">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"msgmenu"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"msgmenu"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token string">"head_content"</span><span class="token operator">:</span> <span class="token string">"您对本次服务是否满意呢? "</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token string">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">      <span class="token punctuation">{</span></span>
<span class="code-line">	    <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"click"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"click"</span><span class="token operator">:</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">        	<span class="token string">"id"</span><span class="token operator">:</span> <span class="token string">"101"</span><span class="token punctuation">,</span></span>
<span class="code-line">        	<span class="token string">"content"</span><span class="token operator">:</span> <span class="token string">"满意"</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">      <span class="token punctuation">{</span></span>
<span class="code-line">	    <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"click"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"click"</span><span class="token operator">:</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">        	<span class="token string">"id"</span><span class="token operator">:</span> <span class="token string">"102"</span><span class="token punctuation">,</span></span>
<span class="code-line">        	<span class="token string">"content"</span><span class="token operator">:</span> <span class="token string">"不满意"</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">	  <span class="token punctuation">{</span></span>
<span class="code-line">	    <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"view"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"view"</span><span class="token operator">:</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">        	<span class="token string">"url"</span><span class="token operator">:</span> <span class="token string">"https://work.weixin.qq.com"</span><span class="token punctuation">,</span></span>
<span class="code-line">        	<span class="token string">"content"</span><span class="token operator">:</span> <span class="token string">"点击跳转到自助查询页面"</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">	  <span class="token punctuation">{</span></span>
<span class="code-line">	    <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"miniprogram"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"miniprogram"</span><span class="token operator">:</span></span>
<span class="code-line">		<span class="token punctuation">{</span></span>
<span class="code-line">        	<span class="token string">"appid"</span><span class="token operator">:</span> <span class="token string">"wx123123123123123"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"pagepath"</span><span class="token operator">:</span> <span class="token string">"pages/index?userid=zhangsan&amp;orderid=123123123"</span><span class="token punctuation">,</span></span>
<span class="code-line">        	<span class="token string">"content"</span><span class="token operator">:</span> <span class="token string">"点击打开小程序查询更多"</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">      <span class="token punctuation">}</span></span>
<span class="code-line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token string">"tail_content"</span><span class="token operator">:</span> <span class="token string">"欢迎再次光临"</span></span>
<span class="code-line">  <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="3de1370d62ac6ef021b2f7b277c5b673" data-lines="18">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：msgmenu</td></tr><tr><td>msgmenu</td><td>obj</td><td>菜单消息</td></tr><tr><td>msgmenu.head_content</td><td>string</td><td>起始文本</td></tr><tr><td>msgmenu.list</td><td>obj[]</td><td>菜单项配置</td></tr><tr><td>msgmenu.list.type</td><td>string</td><td>菜单类型。<br><code>click</code>-回复菜单 <code>view</code>-超链接菜单 <code>miniprogram</code>-小程序菜单</td></tr><tr><td>msgmenu.list.click</td><td>obj</td><td>type为<code>click</code>的菜单项</td></tr><tr><td>msgmenu.list.click.id</td><td>string</td><td>菜单ID</td></tr><tr><td>msgmenu.list.click.content</td><td>string</td><td>菜单显示内容</td></tr><tr><td>msgmenu.list.view</td><td>obj</td><td>type为<code>view</code>的菜单项</td></tr><tr><td>msgmenu.list.view.url</td><td>string</td><td>点击后跳转的链接</td></tr><tr><td>msgmenu.list.view.content</td><td>string</td><td>菜单显示内容</td></tr><tr><td>msgmenu.list.miniprogram</td><td>obj</td><td>type为<code>miniprogram</code>的菜单项</td></tr><tr><td>msgmenu.list.miniprogram.appid</td><td>string</td><td>小程序appid</td></tr><tr><td>msgmenu.list.miniprogram.pagepath</td><td>string</td><td>点击后进入的小程序页面</td></tr><tr><td>msgmenu.list.miniprogram.content</td><td>string</td><td>菜单显示内容</td></tr><tr><td>msgmenu.tail_content</td><td>string</td><td>结束文本</td></tr></tbody></table></div><h3 id="%E8%A7%86%E9%A2%91%E5%8F%B7%E5%95%86%E5%93%81%E6%B6%88%E6%81%AF" data-sign="83eb6ecf1110181c8b64dcb42afac4f0" data-lines="2"><a class="anchor" href="#%E8%A7%86%E9%A2%91%E5%8F%B7%E5%95%86%E5%93%81%E6%B6%88%E6%81%AF"></a>视频号商品消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="ac858f8545e2a578a2c0bdefb6654874" data-type="codeBlock" data-lines="14">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"channels_shop_product"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"channels_shop_product"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"product_id"</span><span class="token operator">:</span> <span class="token string">"PRODUCT_ID"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"head_image"</span><span class="token operator">:</span> <span class="token string">"PRODUCT_IMAGE_URL"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"TITLE"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"sales_price"</span><span class="token operator">:</span> <span class="token string">"SALES_PRICE"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"shop_nickname"</span><span class="token operator">:</span> <span class="token string">"SHOP_NICKNAME"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"shop_head_image"</span><span class="token operator">:</span> <span class="token string">"SHOP_HEAD_IMAGE"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="1d824bae53b4962841cb8d499d911d89" data-lines="10">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：channels_shop_product</td></tr><tr><td>channels_shop_product</td><td>obj</td><td>视频号商品消息</td></tr><tr><td>channels_shop_product.product_id</td><td>string</td><td>商品ID</td></tr><tr><td>channels_shop_product.head_image</td><td>string</td><td>商品图片</td></tr><tr><td>channels_shop_product.title</td><td>string</td><td>商品标题</td></tr><tr><td>channels_shop_product.sales_price</td><td>string</td><td>商品价格，以分为单位</td></tr><tr><td>channels_shop_product.shop_nickname</td><td>string</td><td>店铺名称</td></tr><tr><td>channels_shop_product.shop_head_image</td><td>string</td><td>店铺头像</td></tr></tbody></table></div><h3 id="%E8%A7%86%E9%A2%91%E5%8F%B7%E8%AE%A2%E5%8D%95%E6%B6%88%E6%81%AF" data-sign="7b9ccdc13fe3fa84203406dd062e47c6" data-lines="1"><a class="anchor" href="#%E8%A7%86%E9%A2%91%E5%8F%B7%E8%AE%A2%E5%8D%95%E6%B6%88%E6%81%AF"></a>视频号订单消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="ced45a21946e98837e102f26bb742d5d" data-type="codeBlock" data-lines="14">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"channels_shop_order"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"channels_shop_order"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"order_id"</span><span class="token operator">:</span> <span class="token string">"ORDER_ID"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"product_titles"</span><span class="token operator">:</span><span class="token string">"PRODUCT_TITLES"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"price_wording"</span><span class="token operator">:</span><span class="token string">"PRICE_WORDING"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"state"</span><span class="token operator">:</span><span class="token string">"STATE"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"image_url"</span><span class="token operator">:</span><span class="token string">"IMAGE_URL"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"shop_nickname"</span><span class="token operator">:</span><span class="token string">"SHOP_NICKNAME"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="2b7a72618c2bb71a4148e0fc124c46db" data-lines="10">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：channels_shop_order</td></tr><tr><td>channels_shop_order</td><td>obj</td><td>视频号订单消息</td></tr><tr><td>channels_shop_order.order_id</td><td>string</td><td>订单号</td></tr><tr><td>channels_shop_order.product_titles</td><td>string</td><td>商品标题</td></tr><tr><td>channels_shop_order.price_wording</td><td>string</td><td>订单价格描述</td></tr><tr><td>channels_shop_order.state</td><td>string</td><td>订单状态</td></tr><tr><td>channels_shop_order.image_url</td><td>string</td><td>订单缩略图</td></tr><tr><td>channels_shop_order.shop_nickname</td><td>string</td><td>店铺名称</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h3 id="%E8%81%8A%E5%A4%A9%E8%AE%B0%E5%BD%95%E6%B6%88%E6%81%AF" data-sign="63d9ec036e6ecc280e13ac34d3046f39" data-lines="1"><a class="anchor" href="#%E8%81%8A%E5%A4%A9%E8%AE%B0%E5%BD%95%E6%B6%88%E6%81%AF"></a>聊天记录消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="2d32a3bee6b957ed86ebdf314fab7641" data-type="codeBlock" data-lines="17">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"merged_msg"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"merged_msg"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"群聊的聊天记录"</span><span class="token punctuation">,</span></span>
<span class="code-line">                <span class="token string">"item"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">                    <span class="token punctuation">{</span></span>
<span class="code-line">                        <span class="token string">"send_time"</span><span class="token operator">:</span> <span class="token number">1665649618</span><span class="token punctuation">,</span></span>
<span class="code-line">                        <span class="token string">"msgtype"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span></span>
<span class="code-line">                        <span class="token string">"sender_name"</span><span class="token operator">:</span> <span class="token string">"发送者"</span><span class="token punctuation">,</span></span>
<span class="code-line">                        <span class="token string">"msg_content"</span><span class="token operator">:</span> <span class="token string">"{\"</span>msgtype\<span class="token string">":\"</span>text\<span class="token string">",\"</span>text\<span class="token string">":{\"</span>content\<span class="token string">":\"</span>消息内容\<span class="token string">"}}"</span></span>
<span class="code-line">                    <span class="token punctuation">}</span></span>
<span class="code-line">                <span class="token punctuation">]</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="13868e34a23e8f44989ba406420bb049" data-lines="10">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：merged_msg</td></tr><tr><td>merged_msg</td><td>obj</td><td>聊天记录消息</td></tr><tr><td>merged_msg.title</td><td>string</td><td>聊天记录标题</td></tr><tr><td>merged_msg.item</td><td>obj[]</td><td>消息记录内的消息内容</td></tr><tr><td>merged_msg.item.send_time</td><td>uint32</td><td>发送时间</td></tr><tr><td>merged_msg.item.msgtype</td><td>uint32</td><td>消息类型</td></tr><tr><td>merged_msg.item.sender_name</td><td>uint32</td><td>发送者名称</td></tr><tr><td>merged_msg.item.msg_content</td><td>string</td><td>消息内容，Json字符串，结构可参考本文档消息类型说明</td></tr></tbody></table></div><h3 id="%E8%A7%86%E9%A2%91%E5%8F%B7%E6%B6%88%E6%81%AF" data-sign="b952866466ecda35b6e799ba7e39e1df" data-lines="2"><a class="anchor" href="#%E8%A7%86%E9%A2%91%E5%8F%B7%E6%B6%88%E6%81%AF"></a>视频号消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="fff5da3c33b632f3037830d455d61270" data-type="codeBlock" data-lines="11">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"channels"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"channels"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">      <span class="token string">"sub_type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">	  		<span class="token string">"nickname"</span><span class="token operator">:</span> <span class="token string">"视频号名称"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"动态标题"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="62e422435e33e48500bf51a60a17b4a3" data-lines="7">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：channels<br><span style="color:#ff0000">目前仅部分返回详细消息内容。</span></td></tr><tr><td>channels</td><td>obj</td><td>视频号消息</td></tr><tr><td>channels. sub_type</td><td>uint32</td><td>视频号消息类型，1视频号动态、2视频号直播、3视频号名片</td></tr><tr><td>channels. nickname</td><td>string</td><td>视频号名称</td></tr><tr><td>channels. title</td><td>string</td><td>视频号动态标题，视频号消息类型为“1视频号动态”时，返回动态标题</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h3 id="%E4%BC%9A%E8%AE%AE%E6%B6%88%E6%81%AF" data-sign="3e1da3bde6f3eb5249045e0492822f31" data-lines="1"><a class="anchor" href="#%E4%BC%9A%E8%AE%AE%E6%B6%88%E6%81%AF"></a>会议消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="26c31af7f93310df3ea22d4bb6ad07fd" data-type="codeBlock" data-lines="6">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"meeting"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="ffe4b9399d607f196e4764627a4b3a0a" data-lines="3">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：meeting<br><span style="color:#ff0000">目前暂不返回详细消息内容。</span></td></tr></tbody></table></div><h3 id="%E6%97%A5%E7%A8%8B%E6%B6%88%E6%81%AF" data-sign="66a060341338f5dbb5d9a459c2aee940" data-lines="2"><a class="anchor" href="#%E6%97%A5%E7%A8%8B%E6%B6%88%E6%81%AF"></a>日程消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="dfd6d5269d32cb33e01d6427cdb528bd" data-type="codeBlock" data-lines="6">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"calendar"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="d304dab7df381aaba1d160e6b8ed5a39" data-lines="3">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：calendar<br><span style="color:#ff0000">目前暂不返回详细消息内容。</span></td></tr></tbody></table></div><h3 id="%E7%AC%94%E8%AE%B0%E6%B6%88%E6%81%AF" data-sign="e7b347342726c567f2a9223cfc3e4899" data-lines="2"><a class="anchor" href="#%E7%AC%94%E8%AE%B0%E6%B6%88%E6%81%AF"></a>笔记消息</h3><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="07947709ec0b1d0b73309a2d80e65c41" data-type="codeBlock" data-lines="6">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"note"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="c68546aea9bf2da85b3adc5999f62db6" data-lines="3">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：note<br><span style="color:#ff0000">目前暂不返回详细消息内容。</span></td></tr></tbody></table></div><h3 id="%E4%BA%8B%E4%BB%B6%E6%B6%88%E6%81%AF" data-sign="099118e7111490c772c5bd6aef2ff3c1" data-lines="2"><a class="anchor" href="#%E4%BA%8B%E4%BB%B6%E6%B6%88%E6%81%AF"></a>事件消息</h3><h4 id="%E7%94%A8%E6%88%B7%E8%BF%9B%E5%85%A5%E4%BC%9A%E8%AF%9D%E4%BA%8B%E4%BB%B6" data-sign="74452cf762177eff2a04c305c0d42c0e" data-lines="1"><a class="anchor" href="#%E7%94%A8%E6%88%B7%E8%BF%9B%E5%85%A5%E4%BC%9A%E8%AF%9D%E4%BA%8B%E4%BB%B6"></a>用户进入会话事件</h4><p data-sign="2defeebc202fc8ae5185609e76370e37" data-type="p" data-lines="2">通过客服链接进入会话，才会触发该事件。需要注意的是，从客服会话列表的已有会话点击进入，<strong>不会</strong>触发。<br><strong>返回示例：</strong></p><div data-sign="ebaad8817901e8c2e2e3ee04026fa95d" data-type="codeBlock" data-lines="18">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"event"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"event"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"event_type"</span><span class="token operator">:</span> <span class="token string">"enter_session"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"open_kfid"</span><span class="token operator">:</span> <span class="token string">"wkAJ2GCAAASSm4_FhToWMFea0xAFfd3Q"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"external_userid"</span><span class="token operator">:</span> <span class="token string">"wmAJ2GCAAAme1XQRC-NI-q0_ZM9ukoAw"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"scene"</span><span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"scene_param"</span><span class="token operator">:</span> <span class="token string">"abc"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"welcome_code"</span><span class="token operator">:</span> <span class="token string">"aaaaaa"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"wechat_channels"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">			<span class="token string">"nickname"</span><span class="token operator">:</span> <span class="token string">"进入会话的视频号名称"</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token string">"scene"</span><span class="token operator">:</span><span class="token number">1</span></span>
<span class="code-line">		<span class="token punctuation">}</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="575ca551a858301f9e0975433cb37954" data-type="p" data-lines="2"><strong>参数说明：</strong><br>  </p><div class="cherry-table-container" data-sign="59f8047dd41897592458b79711e3ad0a" data-lines="14">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：event</td></tr><tr><td>event</td><td>obj</td><td>事件消息</td></tr><tr><td>event.event_type</td><td>string</td><td>事件类型。此处固定为：enter_session</td></tr><tr><td>event.open_kfid</td><td>string</td><td>客服账号ID</td></tr><tr><td>event.external_userid</td><td>string</td><td>客户UserID</td></tr><tr><td>event.scene</td><td>string</td><td>进入会话的场景值，<a href="#31144" rel="nofollow">获取客服账号链接</a>开发者自定义的场景值</td></tr><tr><td>event.scene_param</td><td>string</td><td>进入会话的自定义参数，<a href="#31144" rel="nofollow">获取客服账号链接</a>返回的url，开发者按规范拼接的scene_param参数</td></tr><tr><td>event.welcome_code</td><td>string</td><td>如果满足发送欢迎语条件（条件为：<strong>用户在过去48小时里未收过欢迎语，且未向客服发过消息</strong>），会返回该字段。<br>可用该welcome_code调用<a href="#32344" rel="nofollow">发送事件响应消息</a>接口给客户发送欢迎语。</td></tr><tr><td>event.wechat_channels</td><td>obj</td><td>进入会话的视频号信息，从视频号进入会话才有值</td></tr><tr><td>event.wechat_channels.nickname</td><td>string</td><td>视频号名称，视频号场景值为1、2、3时返回此项</td></tr><tr><td>event.wechat_channels.shop_nickname</td><td>string</td><td>视频号小店名称，视频号场景值为4、5时返回此项</td></tr><tr><td>event.wechat_channels.scene</td><td>uint32</td><td>视频号场景值。1：视频号主页，2：视频号直播间商品列表页，3：视频号商品橱窗页，4：视频号小店商品详情页，5：视频号小店订单页</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h4 id="%E6%B6%88%E6%81%AF%E5%8F%91%E9%80%81%E5%A4%B1%E8%B4%A5%E4%BA%8B%E4%BB%B6" data-sign="ebe0aedda2c88320ae68542471f0a64b" data-lines="1"><a class="anchor" href="#%E6%B6%88%E6%81%AF%E5%8F%91%E9%80%81%E5%A4%B1%E8%B4%A5%E4%BA%8B%E4%BB%B6"></a>消息发送失败事件</h4><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="42c533bb0cebedb328b5e8c561aa7af1" data-type="codeBlock" data-lines="13">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token string">"msgtype"</span><span class="token operator">:</span> <span class="token string">"event"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token string">"event"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"event_type"</span><span class="token operator">:</span> <span class="token string">"msg_send_fail"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"open_kfid"</span><span class="token operator">:</span> <span class="token string">"wkAJ2GCAAASSm4_FhToWMFea0xAFfd3Q"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"external_userid"</span><span class="token operator">:</span> <span class="token string">"wmAJ2GCAAAme1XQRC-NI-q0_ZM9ukoAw"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"fail_msgid"</span><span class="token operator">:</span> <span class="token string">"FAIL_MSGID"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"fail_type"</span><span class="token operator">:</span> <span class="token number">4</span></span>
<span class="code-line">    <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="575ca551a858301f9e0975433cb37954" data-type="p" data-lines="2"><strong>参数说明：</strong><br>  </p><div class="cherry-table-container" data-sign="b1dd6afca4f3134dbcbfe619b642cc2f" data-lines="9">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：event</td></tr><tr><td>event</td><td>obj</td><td>事件消息</td></tr><tr><td>event.event_type</td><td>string</td><td>事件类型。此处固定为：msg_send_fail</td></tr><tr><td>event.open_kfid</td><td>string</td><td>客服账号ID</td></tr><tr><td>event.external_userid</td><td>string</td><td>客户UserID</td></tr><tr><td>event.fail_msgid</td><td>string</td><td>发送失败的消息msgid</td></tr><tr><td>event.fail_type</td><td>uint32</td><td>失败类型。0-未知原因 1-客服账号已删除 2-应用已关闭 4-会话已过期，超过48小时 5-会话已关闭 6-超过5条限制 8-主体未验证  10-用户拒收 11-企业未有成员登录企业微信App（排查方法：企业至少一个成员通过<strong>手机号验证/微信授权</strong>登录企业微信App即可）12-发送的消息为客服组件禁发的消息类型 13-安全限制</td></tr></tbody></table></div><h4 id="%E6%8E%A5%E5%BE%85%E4%BA%BA%E5%91%98%E6%8E%A5%E5%BE%85%E7%8A%B6%E6%80%81%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" data-sign="c5e488817c2633ae5fbd2aeeec7f776d" data-lines="2"><a class="anchor" href="#%E6%8E%A5%E5%BE%85%E4%BA%BA%E5%91%98%E6%8E%A5%E5%BE%85%E7%8A%B6%E6%80%81%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6"></a>接待人员接待状态变更事件</h4><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="0340da785af9b4d777c7f414ac095d5b" data-type="codeBlock" data-lines="13">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token string">"msgtype"</span><span class="token operator">:</span> <span class="token string">"event"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token string">"event"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"event_type"</span><span class="token operator">:</span> <span class="token string">"servicer_status_change"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"servicer_userid"</span><span class="token operator">:</span> <span class="token string">"SERVICER_USERID"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"status"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"stop_type"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"open_kfid"</span><span class="token operator">:</span> <span class="token string">"OPEN_KFID"</span></span>
<span class="code-line">    <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="575ca551a858301f9e0975433cb37954" data-type="p" data-lines="2"><strong>参数说明：</strong><br>  </p><div class="cherry-table-container" data-sign="62f72f57f21933523c2efe085669c431" data-lines="9">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：event</td></tr><tr><td>event</td><td>obj</td><td>事件消息</td></tr><tr><td>event.event_type</td><td>string</td><td>事件类型。此处固定为：servicer_status_change</td></tr><tr><td>event.servicer_userid</td><td>string</td><td>接待人员userid</td></tr><tr><td>event.status</td><td>uint32</td><td>状态类型。1-接待中 2-停止接待</td></tr><tr><td>event.stop_type</td><td>uint32</td><td>接待人员的状态为「停止接待」的子类型。0:停止接待,1:暂时挂起</td></tr><tr><td>event.open_kfid</td><td>string</td><td>客服账号ID</td></tr></tbody></table></div><h4 id="%E4%BC%9A%E8%AF%9D%E7%8A%B6%E6%80%81%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" data-sign="71a6619b7831c7a80aa8f96b378f17f8" data-lines="2"><a class="anchor" href="#%E4%BC%9A%E8%AF%9D%E7%8A%B6%E6%80%81%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6"></a>会话状态变更事件</h4><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="4f088044819480dae9fd196201742e96" data-type="codeBlock" data-lines="15">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"event"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"event"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"event_type"</span><span class="token operator">:</span> <span class="token string">"session_status_change"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"open_kfid"</span><span class="token operator">:</span> <span class="token string">"wkAJ2GCAAASSm4_FhToWMFea0xAFfd3Q"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"external_userid"</span><span class="token operator">:</span> <span class="token string">"wmAJ2GCAAAme1XQRC-NI-q0_ZM9ukoAw"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"change_type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"old_servicer_userid"</span><span class="token operator">:</span> <span class="token string">"OLD_SERVICER_USERID"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"new_servicer_userid"</span><span class="token operator">:</span> <span class="token string">"NEW_SERVICER_USERID"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"msg_code"</span><span class="token operator">:</span> <span class="token string">"MSG_CODE"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="575ca551a858301f9e0975433cb37954" data-type="p" data-lines="2"><strong>参数说明：</strong><br>  </p><div class="cherry-table-container" data-sign="1fdf7e209e52c260e52f98fd7e40f95a" data-lines="11">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：event</td></tr><tr><td>event</td><td>obj</td><td>事件消息</td></tr><tr><td>event.event_type</td><td>string</td><td>事件类型。此处固定为：session_status_change</td></tr><tr><td>event.open_kfid</td><td>string</td><td>客服账号ID</td></tr><tr><td>event.external_userid</td><td>string</td><td>客户UserID</td></tr><tr><td>event.change_type</td><td>uint32</td><td>变更类型，<strong>均为接待人员在企业微信客户端操作触发</strong>。1-从接待池接入会话 2-转接会话 3-结束会话 4-重新接入已结束/已转接会话</td></tr><tr><td>event.old_servicer_userid</td><td>string</td><td>老的接待人员userid。仅<code>change_type</code>为2、3和4有值</td></tr><tr><td>event.new_servicer_userid</td><td>string</td><td>新的接待人员userid。仅<code>change_type</code>为1、2和4有值</td></tr><tr><td>event.msg_code</td><td>string</td><td>用于发送事件响应消息的code，仅change_type为1和3时，会返回该字段。<br>可用该msg_code调用<a href="#32344" rel="nofollow">发送事件响应消息</a>接口给客户发送回复语或结束语。</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h4 id="%E7%94%A8%E6%88%B7%E6%92%A4%E5%9B%9E%E6%B6%88%E6%81%AF%E4%BA%8B%E4%BB%B6" data-sign="611df6d24a5f9f4bb1c81081b89239b7" data-lines="1"><a class="anchor" href="#%E7%94%A8%E6%88%B7%E6%92%A4%E5%9B%9E%E6%B6%88%E6%81%AF%E4%BA%8B%E4%BB%B6"></a>用户撤回消息事件</h4><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="a98bd267413403a6c2b7ef8e2def4fd2" data-type="codeBlock" data-lines="12">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"event"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"event"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"event_type"</span><span class="token operator">:</span> <span class="token string">"user_recall_msg"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"open_kfid"</span><span class="token operator">:</span> <span class="token string">"wkAJ2GCAAASSm4_FhToWMFea0xAFfd3Q"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"external_userid"</span><span class="token operator">:</span> <span class="token string">"wmAJ2GCAAAme1XQRC-NI-q0_ZM9ukoAw"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"recall_msgid"</span><span class="token operator">:</span> <span class="token string">"RECALL_MSGID"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="575ca551a858301f9e0975433cb37954" data-type="p" data-lines="2"><strong>参数说明：</strong><br>  </p><div class="cherry-table-container" data-sign="5672467d1d051cc8f1adc59c18fa26b1" data-lines="8">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：event</td></tr><tr><td>event</td><td>obj</td><td>事件消息</td></tr><tr><td>event.event_type</td><td>string</td><td>事件类型。此处固定为：<code>user_recall_msg</code></td></tr><tr><td>event.open_kfid</td><td>string</td><td>客服账号ID</td></tr><tr><td>event.external_userid</td><td>string</td><td>客户UserID</td></tr><tr><td>event.recall_msgid</td><td>string</td><td>撤回的消息msgid</td></tr></tbody></table></div><h4 id="%E6%8E%A5%E5%BE%85%E4%BA%BA%E5%91%98%E6%92%A4%E5%9B%9E%E6%B6%88%E6%81%AF%E4%BA%8B%E4%BB%B6" data-sign="1b589e2b169e8cf973fe22aea8e8d6a2" data-lines="2"><a class="anchor" href="#%E6%8E%A5%E5%BE%85%E4%BA%BA%E5%91%98%E6%92%A4%E5%9B%9E%E6%B6%88%E6%81%AF%E4%BA%8B%E4%BB%B6"></a>接待人员撤回消息事件</h4><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="7972ee659a26296c8b856cb6faf66a4e" data-type="codeBlock" data-lines="13">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"event"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"event"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"event_type"</span><span class="token operator">:</span> <span class="token string">"servicer_recall_msg"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"open_kfid"</span><span class="token operator">:</span> <span class="token string">"wkAJ2GCAAASSm4_FhToWMFea0xAFfd3Q"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"external_userid"</span><span class="token operator">:</span> <span class="token string">"wmAJ2GCAAAme1XQRC-NI-q0_ZM9ukoAw"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"recall_msgid"</span><span class="token operator">:</span> <span class="token string">"RECALL_MSGID"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"servicer_userid"</span><span class="token operator">:</span> <span class="token string">"SERVICER_USERID"</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="575ca551a858301f9e0975433cb37954" data-type="p" data-lines="2"><strong>参数说明：</strong><br>  </p><div class="cherry-table-container" data-sign="c77f4e311c306a2357d81589daa4ec09" data-lines="9">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：event</td></tr><tr><td>event</td><td>obj</td><td>事件消息</td></tr><tr><td>event.event_type</td><td>string</td><td>事件类型。此处固定为：<code>servicer_recall_msg</code></td></tr><tr><td>event.open_kfid</td><td>string</td><td>客服账号ID</td></tr><tr><td>event.external_userid</td><td>string</td><td>客户UserID</td></tr><tr><td>event.recall_msgid</td><td>string</td><td>撤回的消息msgid</td></tr><tr><td>event.servicer_userid</td><td>string</td><td>接待人员userid</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h4 id="%E6%8B%92%E6%94%B6%E5%AE%A2%E6%88%B7%E6%B6%88%E6%81%AF%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6" data-sign="25320ea56cec78b7e0ef13cbf6bef65f" data-lines="1"><a class="anchor" href="#%E6%8B%92%E6%94%B6%E5%AE%A2%E6%88%B7%E6%B6%88%E6%81%AF%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6"></a>拒收客户消息变更事件</h4><p data-sign="46e0f8b9fbb5655ff711b5ae275f58be" data-type="p" data-lines="1"><strong>返回示例：</strong></p><div data-sign="711dc7e9ef42ad7f9f9825ebb7b41227" data-type="codeBlock" data-lines="13">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"msgtype"</span> <span class="token operator">:</span> <span class="token string">"event"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"event"</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">        <span class="token string">"event_type"</span><span class="token operator">:</span> <span class="token string">"reject_customer_msg_switch_change"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"servicer_userid"</span><span class="token operator">:</span> <span class="token string">"Zhangsan"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"open_kfid"</span><span class="token operator">:</span> <span class="token string">"wkAJ2GCAAASSm4_FhToWMFea0xAFfd3Q"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"external_userid"</span><span class="token operator">:</span> <span class="token string">"wmAJ2GCAAAme1XQRC-NI-q0_ZM9ukoAw"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"reject_switch"</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="code-line">   <span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="575ca551a858301f9e0975433cb37954" data-type="p" data-lines="2"><strong>参数说明：</strong><br>  </p><div class="cherry-table-container" data-sign="ab7d9189d1218318f154b716eccad4f2" data-lines="9">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>msgtype</td><td>string</td><td>消息类型，此时固定为：event</td></tr><tr><td>event</td><td>obj</td><td>事件消息</td></tr><tr><td>event.event_type</td><td>string</td><td>事件类型。此处固定为：<code>reject_customer_msg_switch_change</code></td></tr><tr><td>event.servicer_userid</td><td>string</td><td>操作的接待人员userid</td></tr><tr><td>event.open_kfid</td><td>string</td><td>客服账号ID</td></tr><tr><td>event.external_userid</td><td>string</td><td>客户UserID</td></tr><tr><td>event.reject_switch</td><td>uint32</td><td>拒收客户消息，1表示接待人员拒收了客户消息，0表示接待人员取消拒收客户消息</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>