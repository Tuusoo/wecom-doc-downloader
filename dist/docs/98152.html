<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>Web登录组件 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        Web登录组件
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2025/11/12</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><dir class="toc" data-sign="e23a36f900cf1cb804f0428f17f844ab-1" data-lines="1"><p class="toc-title">目录</p><li class="toc-li"><a href="#%E6%A6%82%E8%BF%B0" class="level-2">概述</a></li><li class="toc-li"><a href="#1-%E4%BD%BF%E7%94%A8-codeac9ac01d02e3f9ecb09b9610dcdcf2ed-%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95%E7%BB%84%E4%BB%B6" class="level-2">1. 使用 <code>@wecom/jssdk</code> 初始化企业微信登录组件</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8" class="level-3">开始使用</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#api%E6%8E%A5%E5%8F%A3" class="level-3">API接口</a></li><li class="toc-li"><a href="#2-%E6%9E%84%E9%80%A0%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95%E9%93%BE%E6%8E%A5" class="level-2">2. 构造企业微信登录链接</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E9%93%BE%E6%8E%A5%E6%A0%BC%E5%BC%8F" class="level-3">链接格式</a></li><li class="toc-li">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E" class="level-3">参数说明</a></li><li class="toc-li"><a href="#%E7%99%BB%E5%BD%95faq" class="level-2">登录FAQ</a></li><li class="toc-li"><a href="#%E9%99%84%E5%BD%95" class="level-2">附录</a></li></dir><h2 id="%E6%A6%82%E8%BF%B0" data-sign="9a8437ccee43ad66c084b8dfd3d259d3" data-lines="2"><a class="anchor" href="#%E6%A6%82%E8%BF%B0"></a>概述</h2><p data-sign="146d03261bbc408f953b791e7669c706" data-type="p" data-lines="1">企业微信支持开发者使用以下方式来进行Web登录</p><ul data-sign="f6de31eb347c49fe0d94f7a165049cc6list5" data-lines="5" class="cherry-list__default"><li>系统浏览器（桌面端）<ul class="cherry-list__default"><li><a href="#1-%E4%BD%BF%E7%94%A8-codeac9ac01d02e3f9ecb09b9610dcdcf2ed-%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95%E7%BB%84%E4%BB%B6" rel="nofollow">使用 <code>@wecom/jssdk</code> 初始化企业微信登录组件</a></li><li><a href="#2-%E6%9E%84%E9%80%A0%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95%E9%93%BE%E6%8E%A5" rel="nofollow">构造登录链接</a></li></ul></li><li>企业微信内置 <code>Webview</code>（桌面端&amp;移动端）<ul class="cherry-list__default"><li><a href="#15048" rel="nofollow">OAuth授权登录</a></li></ul></li></ul><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h2 id="1-%E4%BD%BF%E7%94%A8-codeac9ac01d02e3f9ecb09b9610dcdcf2ed-%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95%E7%BB%84%E4%BB%B6" data-sign="c21c6db086f0cef1b45b757c572c4a2a" data-lines="1"><a class="anchor" href="#1-%E4%BD%BF%E7%94%A8-codeac9ac01d02e3f9ecb09b9610dcdcf2ed-%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95%E7%BB%84%E4%BB%B6"></a>1. 使用 <code>@wecom/jssdk</code> 初始化企业微信登录组件</h2><p data-sign="9ce2d951179b07ccfdb8e5b492097fca" data-type="p" data-lines="1">为了满足网站定制化的需求，我们支持将企业微信登录组件内嵌到开发者的网站中。用户使用企业微信登录授权后，登录组件将 <code>auth code</code> 返回给网站。</p><p data-sign="d00b8103dbc4bfb011fd88abe4c80c6f" data-type="p" data-lines="3">企业微信登录组件主要用途：网站希望用户在网站内就能完成登录，无需跳转到企业微信域下登录后再返回，提升登录的流畅性与成功率。<br><img src="images/98152/639daebb.png" alt="enter image description here"></p><h3 id="%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8" data-sign="c5f06e371dc7945f7039f89c8b78bf23" data-lines="2"><a class="anchor" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8"></a>开始使用</h3><p data-sign="adb90c4ed7c385db6b04627d0b5d0380" data-type="p" data-lines="1">使用企业微信 JS-SDK：<a href="#24229" rel="nofollow">@wecom/jssdk</a> <code>&gt;=1.3.1</code></p><h3 id="api%E6%8E%A5%E5%8F%A3" data-sign="95b92d669f2782fa2e0f71f7a1091a0a" data-lines="2"><a class="anchor" href="#api%E6%8E%A5%E5%8F%A3"></a>API接口</h3><p data-sign="ad4b7e782df7dac29a625fddfecfe21c" data-type="p" data-lines="1"><a href="#45969" rel="nofollow">ww.createWWLoginPanel</a></p><h2 id="2-%E6%9E%84%E9%80%A0%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95%E9%93%BE%E6%8E%A5" data-sign="d897d0b2b340c56b34fa2a1f07e2fbe4" data-lines="2"><a class="anchor" href="#2-%E6%9E%84%E9%80%A0%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95%E9%93%BE%E6%8E%A5"></a>2. 构造企业微信登录链接</h2><p data-sign="4c69d1f4dfeefaf2258eb209921d349e" data-type="p" data-lines="2">同时支持通过构造链接的方式，在新窗口中打开企业微信登录页面，用户使用企业微信登录授权后通过将携带 <code>auth code</code> 跳转至指定的 <code>redirect_uri</code> 。<br><img src="images/98152/76ffd8f4.png" alt="enter image description here"></p><h3 id="%E9%93%BE%E6%8E%A5%E6%A0%BC%E5%BC%8F" data-sign="120fce1c6dd7e75559e6e6982ca77fff" data-lines="2"><a class="anchor" href="#%E9%93%BE%E6%8E%A5%E6%A0%BC%E5%BC%8F"></a>链接格式</h3><p data-sign="fb535e8b04ea9290fa7cae7a538dcc1a" data-type="p" data-lines="1">开发者需要构造如下的链接来获取 <code>code</code> 参数</p><blockquote data-sign="325f19857f468fd29880393a4a777b82_1" data-lines="1">https://login.work.weixin.qq.com/wwlogin/sso/login?login_type=LOGIN_TYPE&amp;appid=APPID&amp;redirect_uri=REDIRECT_URI&amp;state=STATE</blockquote><h3 id="%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E" data-sign="85147c5af864574b5f16b4eb2b6a6be0" data-lines="2"><a class="anchor" href="#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"></a>参数说明</h3><div class="cherry-table-container" data-sign="e5235bfe38e55eacdb932e7af5376bc9" data-lines="8">
        <table class="cherry-table"><thead><tr><th>参数名</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>login_type</td><td>string</td><td>是</td><td>登录类型。<br><code>ServiceApp</code>：服务商登录；<code>CorpApp</code>：企业自建/代开发应用登录。</td></tr><tr><td>appid</td><td>string</td><td>是</td><td>登录类型为企业自建应用/服务商代开发应用时填企业 <code>CorpID</code>，第三方登录时填<a href="#45846/%E5%BC%80%E5%90%AF%E7%BD%91%E9%A1%B5%E6%8E%88%E6%9D%83%E7%99%BB%E5%BD%95" rel="nofollow">登录授权 SuiteID</a></td></tr><tr><td>agentid</td><td>string</td><td>否</td><td>企业自建应用/服务商代开发应用 <code>AgentID</code>，当<code>login_type=CorpApp</code>时填写</td></tr><tr><td>redirect_uri</td><td>string</td><td>是</td><td>登录成功重定向 <code>url</code>，需进行 <code>URLEncode</code><br>注意域名必须配置为可信域名，详见下文的“redirect_uri域名说明”</td></tr><tr><td>state</td><td>string</td><td>否</td><td>登录 <code>state</code><br>用于保持请求和回调的状态，授权请求后原样带回给企业。该参数可用于防止<code>CSRF</code> 攻击（跨站请求伪造攻击），建议带上该参数，可设置为简单的随机数加 <code>session</code> 进行校验<br>需进行 <code>URLEncode</code></td></tr><tr><td>lang</td><td>string</td><td>否</td><td>语言类型。<code>zh</code>：中文；<code>en</code>：英文。</td></tr></tbody></table></div><p data-sign="06de5a1b74f0215d4357256f7d5b91e3" data-type="p" data-lines="2"><strong>redirect_uri域名说明</strong><br>redirect_uri的域名必须配置为可信域名，不同应用类型的配置方法不同，具体如下</p><div class="cherry-table-container" data-sign="94fea2e4a7ccee9efc232c7ac76dbe68" data-lines="5">
        <table class="cherry-table"><thead><tr><th>应用类型</th><th>域名配置方法</th></tr></thead><tbody><tr><td>自建应用</td><td>OAuth可信域名或者Web网页授权回调域名</td></tr><tr><td>代开发应用</td><td>OAuth可信域名或者Web网页授权回调域名</td></tr><tr><td>第三方应用</td><td>“登录授权”的可信域名</td></tr></tbody></table></div><p data-sign="4bc147da7bc33ca52ff75cfce56db0c8" data-type="p" data-lines="3"><strong>返回说明</strong><br>用户允许授权后，将会重定向到 <code>redirect_uri</code> 的网址上，并且带上 <code>code</code> 和 <code>state</code> 参数</p><blockquote data-sign="54980ea64fc39c830d6d68acc5cf558b_2" data-lines="2">redirect_uri?code=CODE&amp;state=STATE</blockquote><p data-sign="4487803e610f912c7166e6c0a1630c5d" data-type="p" data-lines="1"><strong>示例1：自建应用</strong></p><div data-sign="b6ec5a70890eab09a440b54ecd6253f6" data-type="codeBlock" data-lines="10">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line">企业CorpID：WWCorpId</span>
<span class="code-line">开启授权登录的应用<span class="token constant">ID</span>：<span class="token number">1000000</span></span>
<span class="code-line">登录跳转链接：http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>work<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com</span>
<span class="code-line">state设置为：WWLogin</span>
<span class="code-line">需要配置应用授权回调域名为：work<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com</span>
<span class="code-line"></span>
<span class="code-line">根据<span class="token constant">URL</span>规范，将上述参数分别进行UrlEncode，得到拼接的登录链接为：</span>
<span class="code-line">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>login<span class="token punctuation">.</span>work<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span>wwlogin<span class="token operator">/</span>sso<span class="token operator">/</span>login<span class="token operator">?</span>login_type<span class="token operator">=</span>CorpApp<span class="token operator">&amp;</span>appid<span class="token operator">=</span>WWCorpId<span class="token operator">&amp;</span>agentid<span class="token operator">=</span><span class="token number">1000000</span><span class="token operator">&amp;</span>redirect_uri<span class="token operator">=</span>http<span class="token operator">%</span><span class="token number">3</span>A<span class="token operator">%</span><span class="token number">2</span>F<span class="token operator">%</span><span class="token number">2</span>Fwork<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">&amp;</span>state<span class="token operator">=</span>WWLogin</span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="14a02e6dd2a38eb6d581896b6ce1c496" data-type="p" data-lines="1"><strong>示例2：代开发应用</strong></p><div data-sign="78424334c574ece177aa314442f09a4c" data-type="codeBlock" data-lines="10">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line">企业CorpID：WWCorpId</span>
<span class="code-line">开启授权登录的应用<span class="token constant">ID</span>：<span class="token number">1000000</span></span>
<span class="code-line">登录跳转链接：http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>work<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com</span>
<span class="code-line">state设置为：WWLogin</span>
<span class="code-line">需要配置应用可信域名为：work<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com</span>
<span class="code-line"></span>
<span class="code-line">根据<span class="token constant">URL</span>规范，将上述参数分别进行UrlEncode，得到拼接的登录链接为：</span>
<span class="code-line">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>login<span class="token punctuation">.</span>work<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span>wwlogin<span class="token operator">/</span>sso<span class="token operator">/</span>login<span class="token operator">?</span>login_type<span class="token operator">=</span>CorpApp<span class="token operator">&amp;</span>appid<span class="token operator">=</span>WWCorpId<span class="token operator">&amp;</span>agentid<span class="token operator">=</span><span class="token number">1000000</span><span class="token operator">&amp;</span>redirect_uri<span class="token operator">=</span>http<span class="token operator">%</span><span class="token number">3</span>A<span class="token operator">%</span><span class="token number">2</span>F<span class="token operator">%</span><span class="token number">2</span>Fwork<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">&amp;</span>state<span class="token operator">=</span>WWLogin</span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f5e6911ad96fbcd3ac5b85f112fe8641" data-type="p" data-lines="1"><strong>示例3：服务商</strong></p><div data-sign="1b028c8f32e9db85c2b95ab0e6b708f2" data-type="codeBlock" data-lines="9">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line">登录授权SuiteId：SuiteID</span>
<span class="code-line">登录跳转链接：http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>work<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com</span>
<span class="code-line">state设置为：WWLogin</span>
<span class="code-line">需要配置登录授权回调域为：work<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com</span>
<span class="code-line"></span>
<span class="code-line">根据<span class="token constant">URL</span>规范，将上述参数分别进行UrlEncode，得到拼接的登录链接为：</span>
<span class="code-line">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>login<span class="token punctuation">.</span>work<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span>wwlogin<span class="token operator">/</span>sso<span class="token operator">/</span>login<span class="token operator">?</span>login_type<span class="token operator">=</span>ServiceApp<span class="token operator">&amp;</span>appid<span class="token operator">=</span>WWCorpId<span class="token operator">&amp;</span>redirect_uri<span class="token operator">=</span>http<span class="token operator">%</span><span class="token number">3</span>A<span class="token operator">%</span><span class="token number">2</span>F<span class="token operator">%</span><span class="token number">2</span>Fwork<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">&amp;</span>state<span class="token operator">=</span>WWLogin</span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><h2 id="%E7%99%BB%E5%BD%95faq" data-sign="d6f4c368132c8efba0f7f6031b33a4cb" data-lines="2"><a class="anchor" href="#%E7%99%BB%E5%BD%95faq"></a>登录FAQ</h2><ul data-sign="27ee41dcc4fcf03d13d9d065172dd6dblist8" data-lines="8" class="cherry-list__default"><li><strong>1. 企业微信登录面板为什么没显示快速登录？</strong><br>企业微信Web登录组件，默认会显示二维码登录，当满足以下条件时，会显示快速登录面板：<ul class="cherry-list__default"><li>用户的企业微信桌面端（<code>Win</code> &amp; <code>Mac</code>）版本大于 <code>3.1.23</code>，运行并登录企业微信</li><li>使用 <code>@wecom/jssdk</code> 初始化企业微信登录组件时，开发者网页域名需使用 <code>HTTPS</code> 协议</li><li>在自建/代开发应用的登录场景中（<code>login_type=CorpApp</code>），当前企业微信桌面端登录用户，在所登录应用的可见范围内</li><li>登录网页在桌面端系统浏览器中打开。如果需要在企业微信内置 <code>Webview</code> 进行登录，请使用<a href="#15048" rel="nofollow">OAuth授权登录</a></li><li>快速登录组件目前仅支持主流的桌面端浏览器，包括QQ浏览器、谷歌chrome浏览器、微软edge浏览器、firefox浏览器、搜狗浏览器、360浏览器、猎豹浏览器、Maxthon傲游浏览器<br><br></li></ul></li></ul><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><ul data-sign="1e8b956f63e46b9f32687bc4f921a37elist17" data-lines="17" class="cherry-list__default"><li><strong>2. 如何判断用户是否已登录企业微信桌面端？</strong><br>登录组件在初始化成功后，开发者可以通过 <code>onCheckWeComLogin</code> 回调中的<code>isWeComLogin</code>参数，判断企业微信的桌面端登录状态。<br><strong>建议使用场景</strong>：如开发者在知道当前用户已登录企业微信后，直接显示企业微信快速登录面板，用户一键点击快速登录，提升用户体验。<br><br><br></li><li><strong>3. 扫码提示无权限</strong><br>在自建/代开发应用登录场景，若用户不在 <code>Agentid</code> 所指应用的可见范围，扫码时会提示无权限。<br><br></li><li><strong>4. 登录组件支持自定义样式吗？</strong><br>不支持自定义登录组件样式，可通过 <a href="#45969" rel="nofollow"><code>panel_size</code></a> 参数定义登录组件面板大小<br><br></li><li><strong>5. 提示“页面域名与登录授权域名不一致”</strong><br>当指定参数<code>redirect_type=callback</code>时，需检查业务页面域名与redirect_uri域名的一致性<br><br></li><li><strong>6. Chrome 142+新版本无法快速登录</strong><br><a href="https://developer.work.weixin.qq.com/document/60094" rel="nofollow">企业微信快速登录适配 Chrome 142+指引文档</a><br>Chrome 142+ 版本加强了页面对网络请求的安全限制，需业务开发者将企业微信JSSDK  <code>@wecom/jssdk</code> 升级至  <code>&gt;=2.3.2</code> 版本，用户可正常使用快速登录能力。</li></ul><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h2 id="%E9%99%84%E5%BD%95" data-sign="7027f9123b51754d4c9588fad8fab2ce" data-lines="1"><a class="anchor" href="#%E9%99%84%E5%BD%95"></a>附录</h2><p data-sign="0a36914ad898a6d39b0b1123ddca7cef" data-type="p" data-lines="3"><strong>1. 登录相关错误码</strong><br>登录组件将用户在登录成功前遇到的错误通过 <code>onLoginFail</code> 函数回调，便于开发者排查问题。</p><div class="cherry-table-container" data-sign="52276572a11f2e19bcdda1b771775d32" data-lines="11">
        <table class="cherry-table"><thead><tr><th>错误码</th><th>释义</th></tr></thead><tbody><tr><td>-31020</td><td>redirect_uri 与配置的登录授权调域名不一致</td></tr><tr><td>-31027</td><td>appid 参数错误</td></tr><tr><td>-31028</td><td>agentid 参数错误</td></tr><tr><td>-31033</td><td>校验请求来源错误</td></tr><tr><td>-31034</td><td>该企业不是服务商</td></tr><tr><td>-31035</td><td>redirect_uri 不能为空</td></tr><tr><td>-31037</td><td>appid 非登录授权应用</td></tr><tr><td>-31039</td><td>redirect_uri 与配置的可信域名不一致</td></tr><tr><td>-31040</td><td>login_type 参数错误</td></tr></tbody></table></div><p data-sign="ddbd91e25dd9a247630c31538072e5d3" data-type="p" data-lines="4"><strong>2. 企业微信登录组件UI规范</strong><br>默认情况下，登录组件的宽高为480x416px<br><img src="images/98152/092b67f8.png" alt="enter image description here"></p><p data-sign="381ae27974ebc2745ab8e05063c91627" data-type="p" data-lines="3">可通过<a href="#45969" rel="nofollow"><code>panel_size</code></a>字段指定为更小的面板 320x380px<br><img src="images/98152/8b72d1fc.png" alt="enter image description here"></p><blockquote data-sign="d0191e9164edb4cfd368b63165c258b8_2" data-lines="2">注：建议使用“旧版扫码登录”的开发者按该文档切换为新的方式，该方式后续将支持更多功能</blockquote><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>