<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>支付通知 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        支付通知
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2022/11/24</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><p data-sign="2487d805e2c9e5fd909382c0f006687d" data-type="p" data-lines="1">当用户支付成功后，企业微信会推送支付成功的通知到『对外收款』应用中配置的指令回调URL。按照<a href="#43984" rel="nofollow">概述</a>中介绍的解密方法，可以得到回调的结构体。</p><p data-sign="1fe1769f46466c9fbf961ded4a40cb9e" data-type="p" data-lines="2"><strong>支付成功回调结构体示例：</strong></p><div data-sign="4d2ecf3dfe7ec67c0d98a9bf93df0bbf" data-type="codeBlock" data-lines="22">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"appid"</span><span class="token operator">:</span> <span class="token string">"wxd678efh567hg6787"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"mchid"</span><span class="token operator">:</span> <span class="token string">"1230000109"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"out_trade_no"</span><span class="token operator">:</span> <span class="token string">"1217752501201407033233368018"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"trade_state"</span><span class="token operator">:</span> <span class="token string">"SUCCESS"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"trade_state_desc"</span><span class="token operator">:</span> <span class="token string">"支付失败，请重新下单支付"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"trade_type"</span><span class="token operator">:</span> <span class="token string">"MICROPAY"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"attach"</span><span class="token operator">:</span> <span class="token string">"自定义数据"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"success_time"</span><span class="token operator">:</span> <span class="token string">"2018-06-08T10:34:56+08:00"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"amount"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"payer_total"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"total"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"currency"</span><span class="token operator">:</span> <span class="token string">"CNY"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"payer_currency"</span><span class="token operator">:</span> <span class="token string">"CNY"</span></span>
<span class="code-line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"payer"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"openid"</span><span class="token operator">:</span> <span class="token string">"oUpF8uMuAJO_M2pxb1Q9zNjWeS6o"</span></span>
<span class="code-line">	<span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="090e6a873e3257e606e04a040ab448f6" data-lines="11">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>appid</td><td>string</td><td>小程序appid。示例值：wxd678efh567hg6999</td></tr><tr><td>mchid</td><td>string</td><td>企业微信分配的商户号。示例值：1900000109</td></tr><tr><td>out_trade_no</td><td>string</td><td>商户系统内部订单号，只能是数字、大小写字母_-*且在同一个商户号下唯一。特殊规则：最小字符长度为6。示例值：1217752501201407033233368018</td></tr><tr><td>trade_state</td><td>string</td><td>交易状态，枚举值：<br>SUCCESS：支付成功<br>REFUND：转入退款<br>NOTPAY：未支付<br>CLOSED：已关闭<br>REVOKED：已撤销（付款码支付）<br>USERPAYING：用户支付中（付款码支付）<br>PAYERROR：支付失败(其他原因，如银行返回失败)<br>示例值：SUCCESS</td></tr><tr><td>trade_state_desc</td><td>string</td><td>交易状态描述。示例值：支付失败，请重新下单支付</td></tr><tr><td>attach</td><td>string</td><td>附加数据，在查询API和支付通知中原样返回，可作为自定义参数使用，实际情况下只有支付完成状态才会返回该字段。示例值：自定义数据</td></tr><tr><td>success_time</td><td>string</td><td>支付完成时间，遵循<a href="https://datatracker.ietf.org/doc/html/rfc3339" rel="nofollow">rfc3339</a>标准格式，格式为yyyy-MM-DDTHH:mm:ss+TIMEZONE，yyyy-MM-DD表示年月日，T出现在字符串中，表示time元素的开头，HH:mm:ss表示时分秒，TIMEZONE表示时区（+08:00表示东八区时间，领先UTC 8小时，即北京时间）。例如：2015-05-20T13:29:35+08:00表示，北京时间2015年5月20日 13点29分35秒。示例值：2018-06-08T10:34:56+08:00</td></tr><tr><td>payer</td><td>object</td><td>支付者信息，详见Payer。</td></tr><tr><td>amount</td><td>object</td><td>订单金额信息，详见Amount。</td></tr></tbody></table></div><p data-sign="22005549d7f2f2a4463d673336f97a71" data-type="p" data-lines="1"><strong>Payer结构说明：</strong></p><div class="cherry-table-container" data-sign="ade2dab023cfdb86ae36bc8558c32d39" data-lines="3">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>openid</td><td>string</td><td>用户小程序appid下的唯一标识。示例值：oUpF8uMuAJO_M2pxb1Q9zNjWeS6o</td></tr></tbody></table></div><p data-sign="578c21d1a0a0c90a86d941364e1bea8b" data-type="p" data-lines="1"><strong>Amount结构说明：</strong></p><div class="cherry-table-container" data-sign="3e264ee731181a49b62f0b154e9b4e3f" data-lines="6">
        <table class="cherry-table"><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>total</td><td>int</td><td>订单总金额，单位为分。示例值：100</td></tr><tr><td>payer_total</td><td>int</td><td>用户支付金额，单位为分。示例值：100</td></tr><tr><td>currency</td><td>string</td><td>CNY：人民币，境内商户号仅支持人民币。示例值：CNY</td></tr><tr><td>payer_currency</td><td>string</td><td>用户支付币种。示例值：CNY</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>