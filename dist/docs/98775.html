<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>素材上传结果 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        素材上传结果
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2023/04/06</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><p data-sign="5efa4cbb51b88653e5bb536fb7a11af9" data-type="p" data-lines="1">通过 API 进行素材上传，当有上传结果时，触发该事件。目前支持的素材类型包括视频、图片、文件。</p><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="14b1f484e61303d0d82c8a77c66459b1" data-type="p" data-lines="2"><strong>示例</strong><br>xml请求示例：</p><div data-sign="eb7e62673b7838dd63f30df08e60c895" data-type="codeBlock" data-lines="23">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token operator">&lt;</span>xml<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>ToUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>toUser<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ToUserName<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>FromUserName<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>sys<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FromUserName<span class="token operator">&gt;</span> </span>
<span class="code-line">   <span class="token operator">&lt;</span>CreateTime<span class="token operator">&gt;</span><span class="token number">1348831860</span><span class="token operator">&lt;</span><span class="token operator">/</span>CreateTime<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>MsgType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MsgType<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>Event<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>meeting_change<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Event<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>ChangeType<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>medium_upload<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ChangeType<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>MeetingId<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>wcjgewCwAAqeJcPI1d8Pwbjt7nttzAAA<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>MeetingId<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>AllUploadStatus<span class="token operator">&gt;</span><span class="token boolean">false</span><span class="token operator">&lt;</span><span class="token operator">/</span>AllUploadStatus<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>UploadInfo<span class="token operator">&gt;</span></span>
<span class="code-line">   		<span class="token operator">&lt;</span>MediumUrl<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>image<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token number">12519.</span>png<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token operator">/</span>MediumUrl<span class="token operator">&gt;</span></span>
<span class="code-line">   		<span class="token operator">&lt;</span>MediumType<span class="token operator">&gt;</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>MediumType<span class="token operator">&gt;</span></span>
<span class="code-line">   		<span class="token operator">&lt;</span>UploadStatus<span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">&lt;</span><span class="token operator">/</span>UploadStatus<span class="token operator">&gt;</span></span>
<span class="code-line">   		<span class="token operator">&lt;</span>ErrorMsg<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>low<span class="token operator">-</span>resolution<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token operator">/</span>ErrorMsg<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span><span class="token operator">/</span>UploadInfo<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span>UploadInfo<span class="token operator">&gt;</span></span>
<span class="code-line">   		<span class="token operator">&lt;</span>MediumUrl<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token constant">CDATA</span><span class="token punctuation">[</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>image<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token number">12520.</span>png<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token operator">/</span>MediumUrl<span class="token operator">&gt;</span></span>
<span class="code-line">   		<span class="token operator">&lt;</span>MediumType<span class="token operator">&gt;</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>MediumType<span class="token operator">&gt;</span></span>
<span class="code-line">   		<span class="token operator">&lt;</span>UploadStatus<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>UploadStatus<span class="token operator">&gt;</span></span>
<span class="code-line">   <span class="token operator">&lt;</span><span class="token operator">/</span>UploadInfo<span class="token operator">&gt;</span></span>
<span class="code-line"><span class="token operator">&lt;</span><span class="token operator">/</span>xml<span class="token operator">&gt;</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="c6247c0bd51e035939c487df6d2a61cd" data-type="p" data-lines="2"><strong>说明</strong></p><div class="cherry-table-container" data-sign="fa78fd67113bc499e8c0cfe3533f0263" data-lines="15">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>ToUserName</td><td>企业微信CorpID</td></tr><tr><td>FromUserName</td><td>操作者UserID。此事件为系统触发事件，固定为<code>sys</code></td></tr><tr><td>CreateTime</td><td>消息创建时间，unix时间戳</td></tr><tr><td>MsgType</td><td>消息类型，此时固定为：<code>event</code></td></tr><tr><td>Event</td><td>事件类型，此时固定为：<code>meeting_change</code></td></tr><tr><td>ChangeType</td><td>事件类型，此时固定为：<code>medium_upload</code></td></tr><tr><td>MeetingId</td><td>会议ID</td></tr><tr><td>AllUploadStatus</td><td>上传事件是否成功。true：全部素材上传成功；false：存在素材上传失败，需重新上传全部素材</td></tr><tr><td>UploadInfo</td><td>上传的素材对象列表</td></tr><tr><td>UploadInfo.MediumUrl</td><td>素材对象的地址</td></tr><tr><td>UploadInfo.MediumType</td><td>素材类型。<br>1：视频 <br>2：图片 <br>3：文件</td></tr><tr><td>UploadInfo.UploadStatus</td><td>素材的上传结果。<br> 1：成功 <br> 0：失败</td></tr><tr><td>UploadInfo.ErrorMsg</td><td>如果上传失败，则该字段返回失败原因</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>