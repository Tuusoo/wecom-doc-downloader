<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>读取学生或家长 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        读取学生或家长
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2023/12/01</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><p data-sign="902fb33442ae5cbcaa700c56f3dd4dea" data-type="p" data-lines="2"><strong>请求方式：</strong>GET（<strong>HTTPS</strong>）<br><strong>请求地址：</strong>https://qyapi.weixin.qq.com/cgi-bin/school/user/get?access_token=ACCESS_TOKEN&amp;userid=USERID</p><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="2521a7837d073ba6f22f2615ab525391" data-lines="4">
        <table class="cherry-table"><thead><tr><th>参数</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>access_token</td><td>是</td><td>调用接口凭证</td></tr><tr><td>userid</td><td>是</td><td>家校通讯录的userid，家长或者学生的userid。不区分大小写，长度为1~64个字节</td></tr></tbody></table></div><p data-sign="be69a8d80807fc12104a6f71258f88a9" data-type="p" data-lines="2"><strong>权限说明：</strong></p><p data-sign="576e7d7add07332f6ac042d5f9bfafb8" data-type="p" data-lines="1">调用的应用需要满足如下的权限</p><div class="cherry-table-container" data-sign="458165bfa130d968f90d2d90d6a1adf7" data-lines="5">
        <table class="cherry-table"><thead><tr><th>应用类型</th><th>权限要求</th></tr></thead><tbody><tr><td>自建应用</td><td>配置到「 <a href="#16678/%E9%80%9A%E8%BF%87api%E8%AF%BB%E5%8F%96%E5%92%8C%E7%BC%96%E8%BE%91%E5%AE%B6%E6%A0%A1%E9%80%9A%E8%AE%AF%E5%BD%95" rel="nofollow">家校沟通- 读取和编辑家校通讯录的应用</a>」或「 <a href="#16678/%E9%80%9A%E8%BF%87api%E8%AF%BB%E5%8F%96%E5%AE%B6%E6%A0%A1%E9%80%9A%E8%AE%AF%E5%BD%95" rel="nofollow">家校沟通- 读取家校通讯录的应用</a>」或“<a href="#16678/%E9%85%8D%E7%BD%AE%E2%80%9C%E5%AE%B6%E9%95%BF%E5%8F%AF%E4%BD%BF%E7%94%A8%E7%9A%84%E5%BA%94%E7%94%A8%E2%80%9D" rel="nofollow">家长可使用应用</a>”列表中</td></tr><tr><td>代开发应用</td><td>具有 <span style="color: rgb(255, 0, 0); --darkreader-inline-color: #ff1a1a;" data-darkreader-inline-color="">「家校沟通」</span>权限</td></tr><tr><td>第三方应用</td><td>具有 <span style="color: rgb(255, 0, 0); --darkreader-inline-color: #ff1a1a;" data-darkreader-inline-color="">「家校沟通」使用</span>权限</td></tr></tbody></table></div><p data-sign="4500ae644890b2a3e6568b5481167358" data-type="p" data-lines="1"><em>注：</em> 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 <a href="https://developer.work.weixin.qq.com/document/51165" rel="nofollow">查看详情</a></p><p data-sign="8c8bd07f58486862a201112e85376126" data-type="p" data-lines="2"><strong>返回结果：</strong></p><div data-sign="7c242d95226c08f2f2254b4d24c4dc16" data-type="codeBlock" data-lines="44">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"errcode"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"errmsg"</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"user_type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"student"</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"student_userid"</span><span class="token operator">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"department"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"parents"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">			<span class="token punctuation">{</span></span>
<span class="code-line">				<span class="token string">"parent_userid"</span><span class="token operator">:</span> <span class="token string">"zhangsan_parent1"</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"relation"</span><span class="token operator">:</span> <span class="token string">"爸爸"</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"mobile"</span><span class="token operator">:</span><span class="token string">"18000000000"</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"is_subscribe"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"external_userid"</span><span class="token operator">:</span><span class="token string">"xxxxx"</span></span>
<span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token punctuation">{</span></span>
<span class="code-line">				<span class="token string">"parent_userid"</span><span class="token operator">:</span> <span class="token string">"zhangsan_parent2"</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"relation"</span><span class="token operator">:</span> <span class="token string">"妈妈"</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"mobile"</span><span class="token operator">:</span> <span class="token string">"18000000001"</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"is_subscribe"</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="code-line">			<span class="token punctuation">}</span></span>
<span class="code-line">		<span class="token punctuation">]</span></span>
<span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"parent"</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="code-line">		<span class="token string">"parent_userid"</span><span class="token operator">:</span> <span class="token string">"zhangsan_parent2"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"mobile"</span><span class="token operator">:</span> <span class="token string">"18000000003"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"is_subscribe"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"external_userid"</span><span class="token operator">:</span><span class="token string">"xxxxx"</span><span class="token punctuation">,</span></span>
<span class="code-line">		<span class="token string">"children"</span><span class="token operator">:</span><span class="token punctuation">[</span></span>
<span class="code-line">			<span class="token punctuation">{</span></span>
<span class="code-line">				<span class="token string">"student_userid"</span><span class="token operator">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"relation"</span><span class="token operator">:</span> <span class="token string">"妈妈"</span></span>
<span class="code-line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">			<span class="token punctuation">{</span></span>
<span class="code-line">				<span class="token string">"student_userid"</span><span class="token operator">:</span> <span class="token string">"lisi"</span><span class="token punctuation">,</span></span>
<span class="code-line">				<span class="token string">"relation"</span><span class="token operator">:</span> <span class="token string">"伯母"</span></span>
<span class="code-line">			<span class="token punctuation">}</span></span>
<span class="code-line">		<span class="token punctuation">]</span></span>
<span class="code-line">	<span class="token punctuation">}</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="8582bf25f8dc821cc34bc91c1a9fd466" data-lines="23">
        <table class="cherry-table"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>errcode</td><td>返回码</td></tr><tr><td>errmsg</td><td>对返回码的文本描述内容</td></tr><tr><td>user_type</td><td>用户类型:1表示学生，2表示家长</td></tr><tr><td>student</td><td>学生字段，user_type为1时返回该字段</td></tr><tr><td>student.student_userid</td><td>学生UserID</td></tr><tr><td>student.name</td><td>学生名字</td></tr><tr><td>student.department</td><td>学生所在的班级id列表,不超过20个</td></tr><tr><td>student.parents</td><td>学生家长列表</td></tr><tr><td>student.parents.parent_userid</td><td>家长的userid</td></tr><tr><td>student.parents.relation</td><td>与家长的关系</td></tr><tr><td>student.parents.mobile</td><td>家长手机号，第三方不可获取；代开发自建应用需管理员授权手机号才返回</td></tr><tr><td>student.parents.external_userid</td><td>家长的external_userid,仅当家长已关注才返回。对同一个服务商来说，同一个家长微信在不同学校下返回的家长的external_userid是一样的</td></tr><tr><td>parent</td><td>学生家长，user_type为2时返回该字段</td></tr><tr><td>parent.parent_userid</td><td>家长的userid</td></tr><tr><td>parents.relation</td><td>学生与家长的关系</td></tr><tr><td>parent.mobile</td><td>家长手机号，第三方不可获取；代开发自建应用需管理员授权手机号才返回</td></tr><tr><td>parent.is_subscribe</td><td>家长是否关注了“学校通知”，0-未关注，1-已关注</td></tr><tr><td>parent.external_userid</td><td>家长的external_userid,仅当家长已关注才返回。对同一个服务商来说，同一个家长微信在不同学校下返回的家长的external_userid是一样的</td></tr><tr><td>parent.children</td><td>家长孩子列表</td></tr><tr><td>parent.children.student_userid</td><td>学生的userid</td></tr><tr><td>parent.children.relation</td><td>家长与孩子关系</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>