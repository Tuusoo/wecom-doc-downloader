<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>批量获取汇报记录单号 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        批量获取汇报记录单号
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2023/11/30</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><p data-sign="fb2632c299adba3c3cb0f5d9e740ac8a" data-type="p" data-lines="1">企业可通过本接口获取企业一段时间内企业微信“汇报应用”汇报记录编号，支持按汇报表单ID、申请人、部门等条件筛选。</p><p data-sign="a783774ecb3c8aaae1e3a7decfe17a02" data-type="p" data-lines="2">一次拉取调用最多拉取100个汇报记录，可以通过多次拉取的方式来满足需求，但调用频率不可超过600次/分。</p><p data-sign="d0ac438db3c3de065fb2d2212d590d00" data-type="p" data-lines="4">表单ID的获取方式：<br>管理后台--汇报应用--某个汇报的内容设置页--点击“汇报名称”，即可获取<br><img src="images/93393/198f43e1.png" alt=""></p><p data-sign="br4" data-type="br" data-lines="4">&nbsp;</p><p data-sign="7b303dfb6ccfa6c4d12dae062b7720e8" data-type="p" data-lines="1"><strong>请求方式</strong>:POST(<strong>HTTPS</strong>)</p><p data-sign="05bec36d7cace7e89a68b38b617bf5d4" data-type="p" data-lines="2"><strong>请求地址:</strong> https://qyapi.weixin.qq.com/cgi-bin/oa/journal/get_record_list?access_token=ACCESS_TOKEN</p><p data-sign="8b8b131af4d7916d08149d0729990346" data-type="p" data-lines="2"><strong>请求示例</strong></p><div data-sign="730fade2282a54642340179441f68c39" data-type="codeBlock" data-lines="23">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token property">"starttime"</span><span class="token operator">:</span> <span class="token number">1606230000</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"endtime"</span><span class="token operator">:</span> <span class="token number">1606361304</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"cursor"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"limit"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"filters"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">        <span class="token punctuation">{</span></span>
<span class="code-line">            <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"creator"</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"kele"</span></span>
<span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token punctuation">{</span></span>
<span class="code-line">            <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"department"</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"1"</span></span>
<span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token punctuation">{</span></span>
<span class="code-line">            <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"template_id"</span><span class="token punctuation">,</span></span>
<span class="code-line">            <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"3TmALk1ogfgKiQE3e3jRwnTUhMTh8vca1N8zUVNUx"</span></span>
<span class="code-line">        <span class="token punctuation">}</span></span>
<span class="code-line">    <span class="token punctuation">]</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="aa23204fbe4fd4230ddbc285930d9e58" data-type="p" data-lines="2"><strong>参数说明</strong>:</p><div class="cherry-table-container" data-sign="09a804ae9bf4ca2e16a09285924b7849" data-lines="10">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">必须</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">access_token</td><td align="left">是</td><td align="left">string</td><td align="left">调用接口凭证</td></tr><tr><td align="left">starttime</td><td align="left">是</td><td align="left">uint32</td><td align="left">开始时间</td></tr><tr><td align="left">endtime</td><td align="left">是</td><td align="left">uint32</td><td align="left">结束时间,开始时间和结束时间间隔不能超过一个月</td></tr><tr><td align="left">cursor</td><td align="left">是</td><td align="left">uint32</td><td align="left">游标首次请求传0，非首次请求携带上一次请求返回的next_cursor</td></tr><tr><td align="left">limit</td><td align="left">是</td><td align="left">uint32</td><td align="left">拉取条数</td></tr><tr><td align="left">filters</td><td align="left">否</td><td align="left">obj[]</td><td align="left">过滤条件</td></tr><tr><td align="left">filters.key</td><td align="left">否</td><td align="left">string</td><td align="left">-<br>不多于256字节，creator指定汇报记录提单人；department指定提单人所在部门；template_id指定模板</td></tr><tr><td align="left">filters.value</td><td align="left">否</td><td align="left">string</td><td align="left">-<br>不多于256字节</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="73c9ab6dac00e2be67fbc46dc7f323b4" data-type="p" data-lines="2"><strong>权限说明</strong>: <br>调用的应用需要满足如下的权限：</p><div class="cherry-table-container" data-sign="751b5b4bf990c1d8e126666ec3b12370" data-lines="5">
        <table class="cherry-table"><thead><tr><th>应用类型</th><th>权限要求</th></tr></thead><tbody><tr><td>自建应用</td><td>需要配置到「<a href="#26566/%E5%8F%AF%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%BA%94%E7%94%A8" rel="nofollow">汇报 - 可调用接口的应用</a>」中</td></tr><tr><td>代开发应用</td><td>暂不支持</td></tr><tr><td>第三方应用</td><td>暂不支持</td></tr></tbody></table></div><p data-sign="0d9e8df569fd1af08e5af1a04c3f7f01" data-type="p" data-lines="1"> <em>注：</em> 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 <a href="https://developer.work.weixin.qq.com/document/51165" rel="nofollow">查看详情</a></p><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="25ff3159d1dae3e8ef08523b3dd72cc2" data-type="p" data-lines="1"><strong>返回结果</strong>:</p><div data-sign="b918c8c551440bb64c39f14b9ac5a589" data-type="codeBlock" data-lines="21">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">    <span class="token property">"errcode"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"errmsg"</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"journaluuid_list"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKyCN7xwKw1qRxCZUxCVuo9fsWVMSKac6nk4q8rARTDaVNdg"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKy7rmnZS5HGzpqUefyqCRhjdY9GWQQ6gcaNfaW6GPAdG5cg"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKy2mkwnjMJPgE6UZfqnW5qMeZ1ag3qr1Amb98DbtVH89VJx"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKyGXVp9cRByeSREpFtReMKpuAPYZYiCU4em8JKJNmCBYmxg"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKy3NphvW9E8bYRTAMWcwo9oPhVEFv9cE2jUry8ZNsZYjuUx"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKyDqJCnct6mYayM4tiEXGmoYmfUp1nDdNQSyxemtBHZa3ss"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKyHr64ZdZa6JHYztDaS6hCmPMKtBN3YvD1FSFmauNU36Wxd"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKyChHx58aDhGrvN7yKywBJs33yzUyqUF11sdBFcUBou2NQx"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKy4w4AtPJyxQoGWmv7hnrZYwmdWVJQEhvgxT5mjEbC1xP43"</span><span class="token punctuation">,</span></span>
<span class="code-line">        <span class="token string">"41eJejN57EJNzr8HrZfmKyFcSr1RLmAoBS7fnwiFcQJuVQfYZwcork67DZ36YFijmR2"</span></span>
<span class="code-line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"next_cursor"</span><span class="token operator">:</span> <span class="token number">34</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token property">"endflag"</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="aa23204fbe4fd4230ddbc285930d9e58" data-type="p" data-lines="1"><strong>参数说明</strong>:</p><div class="cherry-table-container" data-sign="22aa5359e21eb5d2702585b43d513efb" data-lines="7">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">errcode</td><td align="left">int32</td><td align="left">返回码</td></tr><tr><td align="left">errmsg</td><td align="left">string</td><td align="left">错误码描述</td></tr><tr><td align="left">journaluuid_list</td><td align="left">string[]</td><td align="left">汇报记录id列表</td></tr><tr><td align="left">next_cursor</td><td align="left">uint32</td><td align="left">下一次拉取游标</td></tr><tr><td align="left">endflag</td><td align="left">uint32</td><td align="left">0代表还有数据，1代表已无数据</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="0b5e2cbea4e0f0fb4da25d3e6b256853" data-type="p" data-lines="1"><strong>错误说明</strong>：</p><div class="cherry-table-container" data-sign="a20973386c8ab6e004a808bce2f69f6c" data-lines="5">
        <table class="cherry-table"><thead><tr><th align="left">错误码</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">301065</td><td align="left">无汇报应用数据拉取权限</td></tr><tr><td align="left">301066</td><td align="left">请求参数错误</td></tr><tr><td align="left">301067</td><td align="left">接口内部失败</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>