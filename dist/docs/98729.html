<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>tmp_external_userid的转换 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        tmp_external_userid的转换
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2025/07/01</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><p data-sign="6d722cf5fa20fc0eff58d7e74c5af78f" data-type="p" data-lines="2">将应用获取的外部用户临时id<code>tmp_external_userid</code>，转换为external_userid。</p><p data-sign="6215d3b351ab23b4839deaa583263444" data-type="p" data-lines="1">支持将以下业务类型（business_type）对应接口获取到的tmp_external_userid进行转换：</p><div class="cherry-table-container" data-sign="6f134a10ed14be41e516b4a18ee544b0" data-lines="5">
        <table class="cherry-table"><thead><tr><th align="left">业务类型</th><th align="left">描述</th><th>相关接口</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">会议</td><td><a href="#25246" rel="nofollow">获取会议详情</a></td></tr><tr><td align="left">2</td><td align="left">收集表</td><td><a href="#44612" rel="nofollow">收集表的统计信息查询</a> <br><a href="#44613" rel="nofollow">读取收集表答案</a></td></tr><tr><td align="left">3</td><td align="left">文档</td><td><a href="#53121" rel="nofollow">获取记录</a></td></tr></tbody></table></div><p data-sign="br3" data-type="br" data-lines="3">&nbsp;</p><p data-sign="5e01268fdb9aa5f5c47e0983d219a4d5" data-type="p" data-lines="1">支持对以下用户类型（user_type）进行转换：</p><div class="cherry-table-container" data-sign="8cf3acbf0ba4f0f9243f3b6461e9c2fc" data-lines="6">
        <table class="cherry-table"><thead><tr><th align="left">用户类型</th><th align="left">描述</th><th align="left">转换范围</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">客户</td><td align="left">应用可见范围内，配置了客户联系功能的企业成员所添加的外部联系人</td></tr><tr><td align="left">2</td><td align="left">企业互联</td><td align="left">共享应用配置共享范围内的成员</td></tr><tr><td align="left">3</td><td align="left">上下游</td><td align="left">共享应用配置共享范围内的成员</td></tr><tr><td align="left">4</td><td align="left">互联企业（圈子）</td><td align="left">管理后台配置的应用可见范围内的成员</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="dff478a582ae78a016c5f201ef255569" data-type="p" data-lines="2"><strong>请求方式：</strong>POST（<strong>HTTPS</strong>）<br><strong>请求地址</strong>：https://qyapi.weixin.qq.com/cgi-bin/idconvert/convert_tmp_external_userid?access_token=ACCESS_TOKEN</p><p data-sign="25dc236983d258c66e39f907f7c7cc33" data-type="p" data-lines="1"><strong>请求参数：</strong></p><div data-sign="3cae2c60c6ca0488c6f244cb4f3445f9" data-type="codeBlock" data-lines="11">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">  <span class="token property">"business_type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">  <span class="token property">"user_type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">  <span class="token property">"tmp_external_userid_list"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">    <span class="token string">"ouXXX1"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token string">"ouXXX2"</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token string">"ouXXX3"</span></span>
<span class="code-line">  <span class="token punctuation">]</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="bc8023fab6cd9dc2204693bbb2caa6d9" data-lines="6">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">必须</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">access_token</td><td align="left">string</td><td align="left">是</td><td align="left">调用接口凭证</td></tr><tr><td align="left">business_type</td><td align="left">uint32</td><td align="left">是</td><td align="left">业务类型。1-会议 2-收集表 3-智能表</td></tr><tr><td align="left">user_type</td><td align="left">uint32</td><td align="left">是</td><td align="left">转换的目标用户类型。1-客户 2-企业互联 3-上下游 4-互联企业（圈子）<br>详见上面关于user_type的说明</td></tr><tr><td align="left">tmp_external_userid_list</td><td align="left">string[]</td><td align="left">是</td><td align="left">外部用户临时id，最多不超过100个</td></tr></tbody></table></div><p data-sign="be69a8d80807fc12104a6f71258f88a9" data-type="p" data-lines="1"><strong>权限说明：</strong></p><blockquote data-sign="7112f9a3aaa42be6d3a4dc654d2e6c02_3" data-lines="3">调用此接口的应用，和获取到tmp_external_userid的应用必须是同一个<br>支持自建应用、代开发自建应用和第三方应用调用<br>user_type为<code>1</code>（即客户类型），应用还需要具有「客户联系」权限<br><!-- 【先不加，使用基础频率兜底】调用频率最大为X次/小时，X万次/天 --></blockquote><p data-sign="8c8bd07f58486862a201112e85376126" data-type="p" data-lines="2"><strong>返回结果：</strong></p><div data-sign="4af59e308150abe515f762030553bdaa" data-type="codeBlock" data-lines="21">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">  <span class="token property">"errcode"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">  <span class="token property">"errmsg"</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span></span>
<span class="code-line">  <span class="token property">"results"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">    <span class="token punctuation">{</span></span>
<span class="code-line">      <span class="token property">"tmp_external_userid"</span><span class="token operator">:</span> <span class="token string">"ouXXX1"</span><span class="token punctuation">,</span></span>
<span class="code-line">      <span class="token property">"external_userid"</span><span class="token operator">:</span> <span class="token string">"EXTERNAL_USER_ID"</span></span>
<span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="code-line">    <span class="token punctuation">{</span></span>
<span class="code-line">      <span class="token property">"tmp_external_userid"</span><span class="token operator">:</span> <span class="token string">"ouXXX2"</span><span class="token punctuation">,</span></span>
<span class="code-line">      <span class="token property">"corpid"</span><span class="token operator">:</span> <span class="token string">"CORPID"</span><span class="token punctuation">,</span></span>
<span class="code-line">      <span class="token property">"userid"</span><span class="token operator">:</span> <span class="token string">"USERID"</span></span>
<span class="code-line">    <span class="token punctuation">}</span></span>
<span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="code-line">  <span class="token property">"invalid_tmp_external_userid_list"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="code-line">    <span class="token string">"ouXXX3"</span></span>
<span class="code-line">  <span class="token punctuation">]</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="4cab60893daca75045a21358a28956b3" data-lines="10">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">errcode</td><td align="left">int32</td><td align="left">返回码</td></tr><tr><td align="left">errmsg</td><td align="left">string</td><td align="left">对返回码的文本描述内容</td></tr><tr><td align="left">results</td><td align="left">obj[]</td><td align="left">转换成功的结果列表</td></tr><tr><td align="left">results[].tmp_external_userid</td><td align="left">string</td><td align="left">输入的tmp_external_userid</td></tr><tr><td align="left">results[].external_userid</td><td align="left">string</td><td align="left">转换后的userid，user_type为<code>1</code>时返回</td></tr><tr><td align="left">results[].corpid</td><td align="left">string</td><td align="left">userid对应的corpid，user_type为<code>2、3、4</code>时返回</td></tr><tr><td align="left">results[].userid</td><td align="left">string</td><td align="left">转换后的userid，user_type为<code>2、3、4</code>时返回</td></tr><tr><td align="left">invalid_tmp_external_userid_list</td><td align="left">string[]</td><td align="left">无法转换的tmp_external_userid。可能非法或没有权限</td></tr></tbody></table></div><p data-sign="br3" data-type="br" data-lines="3">&nbsp;</p></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>