<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>开发前必读 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        开发前必读
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2023/10/19</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><dir class="toc" data-sign="7a284e0ce749ebbb73ade27d09032f74-1" data-lines="1"><p class="toc-title">目录</p><li class="toc-li"><a href="#%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E8%AF%B4%E6%98%8E" class="level-2">开发文档阅读说明</a></li><li class="toc-li"><a href="#%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B" class="level-2">接口调用流程</a></li><li class="toc-li"><a href="#%E5%9F%BA%E6%9C%AC%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95" class="level-2">基本调试方法</a></li><li class="toc-li"><a href="#%E8%B0%83%E7%94%A8%E9%A2%91%E7%8E%87%E9%99%90%E5%88%B6" class="level-2">调用频率限制</a></li><li class="toc-li"><a href="#%E5%8F%AF%E4%BF%A1ip" class="level-2">可信IP</a></li></dir><h2 id="%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E8%AF%B4%E6%98%8E" data-sign="4c53fc0e22c461f66b54e588e4c00a06" data-lines="2"><a class="anchor" href="#%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E8%AF%B4%E6%98%8E"></a>开发文档阅读说明</h2><ol data-sign="45f7301f67726486d9be2daf2b0a3cdalist12" data-lines="12" class="cherry-list__default" start="1"><li>服务端API开放了丰富的能力接口，开发者可以借助接口能力，实现企业服务及企业微信的集成。支持的能力，通过目录导航可以快速预览，目录树按功能块聚合归类，如通讯录管理、消息推送等。<br></li><li>文档的阅读次序，建议先阅读一遍开发指南，以及接口access_token获取。然后就可以独立查看各个功能块文档说明。<br></li><li>所有的接口需使用HTTPS协议、JSON数据格式、<strong>UTF8编码</strong>。接口说明格式如下：<br><div data-sign="c8c99b9c3636cb13a36bd6457e3c709b" data-type="codeBlock" data-lines="14">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line">请求方式：<span class="token constant">GET</span><span class="token operator">/</span><span class="token constant">POST</span>（<span class="token constant">HTTPS</span>）</span>
<span class="code-line">请求地址：https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>qyapi<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span>cgi<span class="token operator">-</span>bin<span class="token operator">/</span>gettoken<span class="token operator">?</span>corpid<span class="token operator">=</span><span class="token constant">ID</span><span class="token operator">&amp;</span>corpsecret<span class="token operator">=</span><span class="token constant">SECRET</span></span>
<span class="code-line">请求包体：</span>
<span class="code-line"><span class="token operator">...</span></span>
<span class="code-line">参数说明：</span>
<span class="code-line"><span class="token operator">...</span></span>
<span class="code-line">权限说明：</span>
<span class="code-line"><span class="token operator">...</span></span>
<span class="code-line">返回结果：</span>
<span class="code-line"><span class="token operator">...</span></span>
<span class="code-line">参数说明：</span>
<span class="code-line"><span class="token operator">...</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><br>1) <strong>请求方式</strong>，标明接口调用的HTTP方法，区分HttpGet/HttpPost请求。所有的请求都为https协议。<br>2) <strong>请求地址</strong>，参数中标注<strong>大写的单词</strong>，表示为需要<strong>替换的变量</strong>。在上面的例子中 ID 及 SECRET 为需要替换的变量，根据实际获取值更新。假如，这里我们获取到的ID=wwabcddzxdkrsdv，SECRET=vQT_03RDVA3uE6JDASDASDAiXUvccqV8mDgLdLI，那么上述的请求在发送时为：<br><div data-sign="db7a04b1355a0b421cf3b1d186dfcc4a" data-type="codeBlock" data-lines="3">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>qyapi<span class="token punctuation">.</span>weixin<span class="token punctuation">.</span>qq<span class="token punctuation">.</span>com<span class="token operator">/</span>cgi<span class="token operator">-</span>bin<span class="token operator">/</span>gettoken<span class="token operator">?</span>corpid<span class="token operator">=</span>wwabcddzxdkrsdv<span class="token operator">&amp;</span>corpsecret<span class="token operator">=</span>vQT_03RDVA3uE6JDASDASDAiXUvccqV8mDgLdLI</span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><br>3) <strong>请求包体/参数说明</strong>，标明请求参数示例及说明，参数说明包括字段含义、取值范围，开发者在设计数据结构时，应参考该定义范围。<br>4) <strong>权限说明</strong>，标明接口的使用范围，开发者应特别<strong>留意调用场景</strong>。比如，同步通讯录的接口必须要用通讯录同步助手的access_token，发送消息指定的范围必须是应用可见范围内的节点等。<br>5) <strong>返回结果/参数说明</strong>，标明返回参数示例及说明。特别留意，所有接口在调用失败时返回包里都有errcode、errmsg（部分接口在调用成功时没有返回errcode和errmsg）。开发者需<strong>根据errcode存在且不为0判断为失败，否则为成功</strong>（errcode意义请见<a href="#10649" rel="nofollow">全局错误码</a>）。而errmsg仅作参考，后续可能会有变动，因此不可作为是否调用成功的判据。</li></ol><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><h2 id="%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B" data-sign="3aacce321dc67f78720a6f0335673e27" data-lines="1"><a class="anchor" href="#%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B"></a>接口调用流程</h2><div data-sign="f9a000cb80cea4616c9eb774c54828dc" data-type="div" data-lines="3"><center><img src="images/90664/f5c294b0.png" alt=""></center></div><ol data-sign="19e59a6101516ee18faa9094b374c014list4" data-lines="4" class="cherry-list__default" start="1"><li>获取access_token，参考 <a href="#15074" rel="nofollow">文档说明</a>。</li><li>缓存和刷新access_token。<br>开发者需要缓存access_token，用于后续接口的调用（注意：不能频繁调用gettoken接口，否则会受到频率拦截）。当access_token失效或过期时，需要重新获取。</li><li>调用具体的业务接口</li></ol><h2 id="%E5%9F%BA%E6%9C%AC%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95" data-sign="cbf36a8667e6a2d050de69f720bb615a" data-lines="2"><a class="anchor" href="#%E5%9F%BA%E6%9C%AC%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95"></a>基本调试方法</h2><p data-sign="17d2f2e9cd649f7b884c0a6a5e325143" data-type="p" data-lines="2">企业微信提供了开发者工具，可以借助工具排查问题原因。参考说明：工具与资源 - <a href="https://developer.work.weixin.qq.com/devtool/home" rel="nofollow">开发者工具</a></p><h2 id="%E8%B0%83%E7%94%A8%E9%A2%91%E7%8E%87%E9%99%90%E5%88%B6" data-sign="eb9f85a577c1f6a417e563ef00ce29bc" data-lines="2"><a class="anchor" href="#%E8%B0%83%E7%94%A8%E9%A2%91%E7%8E%87%E9%99%90%E5%88%B6"></a>调用频率限制</h2><p data-sign="d24f147732515a0b52f85636d8594d54" data-type="p" data-lines="1">出于系统保护的考虑，我们对接口的调用做了频率限制。参考说明：附录 - <a href="#10785" rel="nofollow">主动调用频率限制</a></p><h2 id="%E5%8F%AF%E4%BF%A1ip" data-sign="847aa15041aa1f4de03224790080825b" data-lines="2"><a class="anchor" href="#%E5%8F%AF%E4%BF%A1ip"></a>可信IP</h2><p data-sign="8a0d597d3431105d4894d4b005daa1cc" data-type="p" data-lines="1">为了企业的数据安全，从2022年6月20号20点之后，新开启的通讯录同步助手与新创建的自建应用必须在管理端配置可信IP，仅配置的可信IP能调用接口。</p></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>