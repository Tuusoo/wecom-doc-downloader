<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>获取 MRA 状态信息 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        获取 MRA 状态信息
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2023/04/26</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><p data-sign="d798287bae5ce924c628a1d641a3a722" data-type="p" data-lines="1">会议室连接器支持企业通过SIP或H.323会议室加入会议，实现传统会议硬件与企业微信会议的互通（通过会议号加入）。该接口支持对API创建的会议获取指定 MRA 设备的当前状态信息， 包括：</p><ul data-sign="013646e45cd275e1329782c77b88d949list5" data-lines="5" class="cherry-list__default"><li>名称</li><li>静音状态</li><li>视频状态</li><li>举手状态</li><li>默认布局等</li></ul><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="88b8d22c78e4cc44dc7f4aaac3ecc794" data-type="p" data-lines="4"><strong>请求方式：</strong> POST（<strong>HTTPS</strong>）<br><strong>请求地址：</strong> https://qyapi.weixin.qq.com/cgi-bin/meeting/mra/query_status?access_token=ACCESS_TOKEN<br> <br><strong>请求包体：</strong></p><div data-sign="7cae7f0c9b58cffd74e4fb737f2a7eb5" data-type="codeBlock" data-lines="6">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"meetingid"</span><span class="token operator">:</span> <span class="token string">"MEETINGID"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"tmp_openid"</span><span class="token operator">:</span> <span class="token string">"TMP_OPENID"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="0c5ad253e67627e12adae13fe60fc800" data-lines="5">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th>必须</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td align="left">access_token</td><td>是</td><td>string</td><td>调用接口凭证。获取方法查看“<a href="#15074" rel="nofollow">获取access_token</a>”</td></tr><tr><td align="left">meetingid</td><td>是</td><td>string</td><td>会议ID</td></tr><tr><td align="left">tmp_openid</td><td>是</td><td>string</td><td>被查询成员临时身份 ID</td></tr></tbody></table></div><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="fd1c44250d466f3563712de3fc0f1925" data-type="p" data-lines="1"><strong>权限说明</strong></p><ul data-sign="b5d4034bfee210d413531b907286d156list2" data-lines="2" class="cherry-list__default"><li>仅配置在“可调用接口的应用”列表中的自建应用可调用</li><li>仅允许获取该应用创建的会议的数据</li></ul><p data-sign="br2" data-type="br" data-lines="2">&nbsp;</p><p data-sign="8c8bd07f58486862a201112e85376126" data-type="p" data-lines="1"><strong>返回结果：</strong></p><div data-sign="06792e6918dd1e4b91d5f896c4f51f0c" data-type="codeBlock" data-lines="17">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token string">"errcode"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"errmsg"</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"tmp_openid"</span><span class="token operator">:</span> <span class="token string">"TMP_OPENID"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"instance_id"</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"user_role"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"webinar_member_role"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"ip"</span><span class="token operator">:</span> <span class="token string">"192.168.2.2"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"name"</span><span class="token operator">:</span><span class="token string">"user2"</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"audio_state"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"video_state"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"screen_shared_state"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"default_layout"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="code-line">	<span class="token string">"raise_hands_state"</span><span class="token operator">:</span><span class="token boolean">false</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="d84b8481ec85d99533fae09f097c5a79" data-lines="15">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td align="left">errcode</td><td>int32</td><td>返回码</td></tr><tr><td align="left">errmsg</td><td>string</td><td>对返回码的文本描述内容</td></tr><tr><td align="left">tmp_openid</td><td>string</td><td>被查询成员当场会议的成员临时 ID</td></tr><tr><td align="left">instance_id</td><td>int32</td><td>被查询成员的终端设备类型： <br>9：voip、sip 设备（即MRA设备）</td></tr><tr><td align="left">user_role</td><td>int32</td><td>成员角色： <br>0：普通成员角色 <br>1：创建者角色 <br>2：主持人 <br>3：创建者+主持人 <br>4：小程序 <br>5：小程序+主持人 <br>6：联席主持人 <br>7：创建者+联席主持人</td></tr><tr><td align="left">webinar_member_role</td><td>int32</td><td>网络研讨会成员角色：<br>0：普通参会角色 <br>1：内部嘉宾<br>2：外部嘉宾<br>3：邀请链接入会嘉宾<br>4：观众</td></tr><tr><td align="left">ip</td><td>string</td><td>成员的 IP 地址。当成员在会中时才能返回</td></tr><tr><td align="left">name</td><td>string</td><td>成员当前显示名称</td></tr><tr><td align="left">audio_state</td><td>bool</td><td>麦克风状态：<br>true：开启<br>false：关闭</td></tr><tr><td align="left">video_state</td><td>bool</td><td>摄像头状态：<br>true：开启<br>false：关闭</td></tr><tr><td align="left">screen_shared_state</td><td>bool</td><td>屏幕共享状态：<br>true：开启<br>false：关闭</td></tr><tr><td align="left">default_layout</td><td>int32</td><td>当前成员的默认分屏设置：<br>1：等分模式<br>2：全屏模式<br>3：1+N</td></tr><tr><td align="left">raise_hands_state</td><td>bool</td><td>举手状态：<br>true：举手中<br>false：手放下</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>