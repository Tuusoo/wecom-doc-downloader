<!DOCTYPE html><html lang="zh-CN"><head>
                <meta charset="UTF-8">
                <title>获取跳转小程序商城的直播观众信息 - 文档 - 企业微信开发者中心</title>
                <link rel="stylesheet" href="../doc-style.css">
                </head>
                <body>
                <div id="js-ep-doc-cnt" class="ep-doc-area-cnt">
    <div class="ep-doc-area-top" id="js-ep-doc-cnt-title">
      <div class="ep-doc-area-title">
        获取跳转小程序商城的直播观众信息
      </div>
      <div class="ep-doc-area-subtitle">最后更新：2023/12/01</div>
    </div>
    <div class="ep-doc-area-cherry cherry-markdown cherry-wecom" id="js-ep-doc-cnt-md"><div data-inline-code-theme="red" data-code-block-theme="coy"><p data-sign="4d830cf285f572c3350a3d512a5a8f06" data-type="p" data-lines="1">通过此接口，开发者可获取跳转小程序商城的直播间(“推广产品”直播)观众id、邀请人id及对应直播间id，以打通卖货直播的“人货场”信息闭环。</p><p data-sign="56276cf2aad6e6b12c561780e1029c40" data-type="p" data-lines="3"><strong>请求方式：</strong>POST（<strong>HTTPS</strong>）<br><strong>请求地址：</strong>https://qyapi.weixin.qq.com/cgi-bin/living/get_living_share_info?access_token=ACCESS_TOKEN</p><p data-sign="382edfac6a8b56ec46332834f416136e" data-type="p" data-lines="2"><strong>请求包体：</strong></p><div data-sign="bd5e6a7e1b3c28cf79ae73e09d6cf00e" data-type="codeBlock" data-lines="7">
      <pre class="language-json"><code class="language-json wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">	<span class="token property">"ww_share_code"</span><span class="token operator">:</span> <span class="token string">"CODE"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span>
<span class="code-line"></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="2"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="20ddda77bd619a5e017267d011396f8e" data-lines="4">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">必须</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">access_token</td><td align="left">是</td><td align="left">调用接口凭证</td></tr><tr><td align="left">ww_share_code</td><td align="left">是</td><td align="left">“推广产品”直播观众跳转小程序商城时会在小程序path中带上ww_share_code=xxxxx参数，ww_share_code五分钟内有效</td></tr></tbody></table></div><p data-sign="be69a8d80807fc12104a6f71258f88a9" data-type="p" data-lines="1"><strong>权限说明：</strong></p><div data-sign="f23ffe7462c5f1d7e9ca0e266fc83bbf" data-lines="5" class="cherry-table-container">
        <table class="cherry-table"><thead><tr><th>应用类型</th><th>权限要求</th></tr></thead><tbody><tr><td>自建应用</td><td>配置到「<span style="color: rgb(255, 0, 0);">上课直播/直播 - 可调用接口的应用</span>」中</td></tr><tr><td>代开发应用</td><td>具有「直播」权限</td></tr><tr><td>第三方应用</td><td>具有「直播」权限</td></tr></tbody></table></div><ul data-sign="907040ffe54790cfc1c148f35a47073alist1" data-lines="1" class="cherry-list__default"><li>跳转的小程序需要与企业有绑定关系</li></ul><p data-sign="4500ae644890b2a3e6568b5481167358" data-type="p" data-lines="1"><em>注：</em> 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 <a href="https://developer.work.weixin.qq.com/document/51165" rel="nofollow">查看详情</a></p><p data-sign="8c8bd07f58486862a201112e85376126" data-type="p" data-lines="1"><strong>返回结果：</strong></p><div data-sign="25241753014f5ba378727085b2a7d2e8" data-type="codeBlock" data-lines="12">
      <pre class="language-javascript"><code class="language-javascript wrap"><span class="code-line"><span class="token punctuation">{</span></span>
<span class="code-line">   <span class="token string">"errcode"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"errmsg"</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"livingid"</span><span class="token operator">:</span> <span class="token string">"livingid"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"viewer_userid"</span><span class="token operator">:</span> <span class="token string">"viewer_userid"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"viewer_external_userid"</span><span class="token operator">:</span> <span class="token string">"viewer_external_userid"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"invitor_userid"</span><span class="token operator">:</span> <span class="token string">"invitor_userid"</span><span class="token punctuation">,</span></span>
<span class="code-line">   <span class="token string">"invitor_external_userid"</span><span class="token operator">:</span> <span class="token string">"invitor_external_userid"</span></span>
<span class="code-line"><span class="token punctuation">}</span></span></code><div class="codeCopyBtn"></div><div class="codeCopyBtn_tips">点击复制</div></pre>
    </div><p data-sign="f2e21495051cadd2d5b0f8a3eedbae8d" data-type="p" data-lines="1"><strong>参数说明：</strong></p><div class="cherry-table-container" data-sign="fb822e22580e69f53fd219669527c245" data-lines="9">
        <table class="cherry-table"><thead><tr><th align="left">参数</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">errcode</td><td align="left">返回码</td></tr><tr><td align="left">errmsg</td><td align="left">对返回码的文本描述内容</td></tr><tr><td align="left">livingid</td><td align="left">直播id</td></tr><tr><td align="left">viewer_userid</td><td align="left">观众的userid，观众为企业内部成员时返回</td></tr><tr><td align="left">viewer_external_userid</td><td align="left">观众的external_userid，观众为非企业内部成员时返回</td></tr><tr><td align="left">invitor_userid</td><td align="left">邀请人的userid，邀请人为企业内部成员时返回（观众首次进入直播时，其使用的直播卡片/二维码所对应的分享人）</td></tr><tr><td align="left">invitor_external_userid</td><td align="left">邀请人的external_userid，邀请人为非企业内部成员时返回 （观众首次进入直播时，其使用的直播卡片/二维码所对应的分享人）</td></tr></tbody></table></div></div></div>
    </div>
                <script src="../doc-script.js"></script>
                
                
                </body></html>